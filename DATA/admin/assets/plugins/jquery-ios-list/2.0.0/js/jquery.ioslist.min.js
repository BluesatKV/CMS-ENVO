!function(e,s,t,i){var a=function(s,t){this.$elem=e(s),this.$elem.data("instance",this),this.init(t)};a.prototype={defaults:{classes:{animated:"ioslist-animated",container:"ioslist-wrapper",hidden:"ioslist-hidden",stationaryHeader:"ioslist-fake-header"},selectors:{groupContainer:".ioslist-group-container",groupHeader:".ioslist-group-header",stationaryHeader:"h2"}},init:function(s){var t=this,i=!!navigator.userAgent.match(/ipad|iphone|ipod/gi);this.options=e.extend(!0,{},this.defaults,s||{}),this.elems=[],this.$elem.addClass("ioslist"),this.$elem.children().wrapAll(["<div class='",this.options.classes.container,"' data-ios='",i,"'></div>"].join("")),this.$elem.prepend(["<",this.options.selectors.stationaryHeader,"/>"].join("")),this.$listWrapper=this.$elem.find("."+this.options.classes.container),this.$fakeHeader=this.$elem.find(this.options.selectors.stationaryHeader).eq(0),this.$fakeHeader.addClass(this.options.classes.stationaryHeader),this.$elem.find(this.options.selectors.groupContainer).each(function(e,s){var i=t.$elem.find(t.options.selectors.groupContainer).eq(e),a=i.find(t.options.selectors.groupHeader).eq(0),o=i.height(),n=i.position().top;t.elems.push({list:i,header:a,listHeight:o,headerText:a.text(),headerHeight:a.outerHeight(),listOffset:n,listBottom:o+n})}),this.$fakeHeader.text(this.elems[0].headerText),this.$listWrapper.scroll(function(){t.testPosition()})},testPosition:function(){for(var s,t,i=this.$listWrapper.scrollTop(),a=0;this.elems[a].listOffset-i<=0&&(s=this.elems[a],(t=s.listBottom-i)<-s.headerHeight&&s,!(++a>=this.elems.length)););t<0&&t>-s.headerHeight?(this.$fakeHeader.addClass(this.options.classes.hidden),e(s.list).addClass(this.options.classes.animated)):(this.$fakeHeader.removeClass(this.options.classes.hidden),s&&e(s.list).removeClass(this.options.classes.animated)),s&&this.$fakeHeader.text(s.headerText)}},e.fn.ioslist=function(s,t){return"string"==typeof s?this.each(function(){e(this).data("instance")[s](t)}):this.each(function(){new a(this,s)})}}(jQuery,window,document);