"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(b){var a=(function(d){var f=d.each,h=d.defined,c=d.seriesTypes,g=d.stableSort;var e={getPlotBox:function(){return d.Series.prototype.getPlotBox.call((this.options.onSeries&&this.chart.get(this.options.onSeries))||this)},translate:function(){c.column.prototype.translate.apply(this);var v=this,o=v.options,x=v.chart,B=v.points,q=B.length-1,y,p,m=o.onSeries,A=m&&x.get(m),n=o.onKey||"y",r=A&&A.options.step,z=A&&A.points,C=z&&z.length,w=x.inverted,t=v.xAxis,k=v.yAxis,E=0,j,s,l,u,D;if(A&&A.visible&&C){E=(A.pointXOffset||0)+(A.barW||0)/2;u=A.currentDataGrouping;s=(z[C-1].x+(u?u.totalRange:0));g(B,function(F,i){return(F.x-i.x)});n="plot"+n[0].toUpperCase()+n.substr(1);while(C--&&B[q]){j=z[C];y=B[q];y.y=j.y;if(j.x<=y.x&&j[n]!==undefined){if(y.x<=s){y.plotY=j[n];if(j.x<y.x&&!r){l=z[C+1];if(l&&l[n]!==undefined){D=(y.x-j.x)/(l.x-j.x);y.plotY+=D*(l[n]-j[n]);y.y+=D*(l.y-j.y)}}}q--;C++;if(q<0){break}}}}f(B,function(F,G){var H;F.plotX+=E;if(F.plotY===undefined||w){if(F.plotX>=0&&F.plotX<=t.len){if(w){F.plotY=t.translate(F.x,0,1,0,1);F.plotX=h(F.y)?k.translate(F.y,0,0,0,1):0}else{F.plotY=x.chartHeight-t.bottom-(t.opposite?t.height:0)+t.offset-k.top}}else{F.shapeArgs={}}}p=B[G-1];if(p&&p.plotX===F.plotX){if(p.stackIndex===undefined){p.stackIndex=0}H=p.stackIndex+1}F.stackIndex=H});this.onSeries=A}};return e}(b));(function(d,e){var g=d.each,f=d.noop,c=d.seriesType;c("windbarb","column",{lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,yOffset:-20,xOffset:0},{pointArrayMap:["value","direction"],parallelArrays:["x","value","direction"],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],beaufortFloor:[0,0.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],trackerGroups:["markerGroup"],pointAttribs:function(h,j){var i=this.options,k=h.color||this.color,l=this.options.lineWidth;if(j){k=i.states[j].color||k;l=(i.states[j].lineWidth||l)+(i.states[j].lineWidthPlus||0)}return{stroke:k,"stroke-width":l}},markerAttribs:function(){return undefined},getPlotBox:e.getPlotBox,windArrow:function(h){var j=h.value*1.943844,n=h.beaufortLevel,k,l,i=this.options.vectorLength/20,m=-10;if(h.isNull){return[]}if(n===0){return this.chart.renderer.symbols.circle(-10*i,-10*i,20*i,20*i)}k=["M",0,7*i,"L",-1.5*i,7*i,0,10*i,1.5*i,7*i,0,7*i,0,-10*i];l=(j-j%50)/50;if(l>0){while(l--){k.push(m===-10?"L":"M",0,m*i,"L",5*i,m*i+2,"L",0,m*i+4);j-=50;m+=7}}l=(j-j%10)/10;if(l>0){while(l--){k.push(m===-10?"L":"M",0,m*i,"L",7*i,m*i);j-=10;m+=3}}l=(j-j%5)/5;if(l>0){while(l--){k.push(m===-10?"L":"M",0,m*i,"L",4*i,m*i);j-=5;m+=3}}return k},translate:function(){var i=this.beaufortFloor,h=this.beaufortName;e.translate.call(this);g(this.points,function(j){var k=0;for(;k<i.length;k++){if(i[k]>j.value){break}}j.beaufortLevel=k-1;j.beaufort=h[k-1]})},drawPoints:function(){var k=this.chart,i=this.yAxis,h=k.inverted,j=this.options.vectorLength/2;g(this.points,function(l){var n=l.plotX,m=l.plotY;if(k.isInsidePlot(n,0,false)){if(!l.graphic){l.graphic=this.chart.renderer.path().add(this.markerGroup)}l.graphic.attr({d:this.windArrow(l),translateX:n+this.options.xOffset,translateY:m+this.options.yOffset,rotation:l.direction}).attr(this.pointAttribs(l))}else{if(l.graphic){l.graphic=l.graphic.destroy()}}l.tooltipPos=[n+this.options.xOffset+(h&&!this.onSeries?j:0),m+this.options.yOffset-(h?0:j+i.pos-k.plotTop)]},this)},animate:function(h){if(h){this.markerGroup.attr({opacity:0.01})}else{this.markerGroup.animate({opacity:1},d.animObject(this.options.animation));this.animate=null}},invertGroups:f},{isValid:function(){return d.isNumber(this.value)&&this.value>=0}})}(b,a));return(function(){}())}));