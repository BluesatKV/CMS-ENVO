(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(d){var i=d.addEvent,g=d.seriesType,e=d.seriesTypes,f=d.each,h=d.pick;g("variwide","column",{pointPadding:0,groupPadding:0},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],processData:function(){this.totalZ=0;this.relZ=[];e.column.prototype.processData.call(this);f(this.xAxis.reversed?this.zData.slice().reverse():this.zData,function(b,c){this.relZ[c]=this.totalZ;this.totalZ+=b},this);this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)},postTranslate:function(u,n,t){var r=this.xAxis,p=this.relZ;u=r.reversed?p.length-u:u;var k=r.reversed?-1:1,l=r.len,s=this.totalZ,r=u/p.length*l,j=(u+k)/p.length*l,o=h(p[u],s)/s*l,p=h(p[u+k],s)/s*l;t&&(t.crosshairWidth=p-o);return o+(n-r)*(p-o)/(j-r)},translate:function(){var j=this.options.crisp;this.options.crisp=!1;e.column.prototype.translate.call(this);this.options.crisp=j;var k=this.chart.inverted,c=this.borderWidth%2/2;f(this.points,function(m,b){var l=this.postTranslate(b,m.shapeArgs.x,m),n=this.postTranslate(b,m.shapeArgs.x+m.shapeArgs.width);this.options.crisp&&(l=Math.round(l)-c,n=Math.round(n)-c);m.shapeArgs.x=l;m.shapeArgs.width=n-l;m.plotX=(l+n)/2;k?m.tooltipPos[1]=this.xAxis.len-this.postTranslate(b,this.xAxis.len-m.tooltipPos[1]):m.tooltipPos[0]=this.postTranslate(b,m.tooltipPos[0])},this)}},{isValid:function(){return d.isNumber(this.y,!0)&&d.isNumber(this.z,!0)}});d.Tick.prototype.postTranslate=function(k,j,n){var m=this.axis,l=k[j]-m.pos;m.horiz||(l=m.len-l);l=m.series[0].postTranslate(n,l);m.horiz||(l=m.len-l);k[j]=m.pos+l};i(d.Axis,"afterDrawCrosshair",function(b){this.variwide&&this.cross&&this.cross.attr("stroke-width",b.point&&b.point.crosshairWidth)});i(d.Axis,"afterRender",function(){var b=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return d.map(b.tickPositions,function(j,k){j=b.ticks[j].label;j.labelrank=b.zData[k];return j})})});i(d.Tick,"afterGetPosition",function(k){var j=this.axis,l=j.horiz?"x":"y";j.categories&&j.variwide&&(this[l+"Orig"]=k.pos[l],this.postTranslate(k.pos,l,this.pos))});d.wrap(d.Tick.prototype,"getLabelPosition",function(u,t,j,s,r,n,p,o){var v=Array.prototype.slice.call(arguments,1),q=r?"x":"y";this.axis.variwide&&"number"===typeof this[q+"Orig"]&&(v[r?0:1]=this[q+"Orig"]);v=u.apply(this,v);this.axis.variwide&&this.axis.categories&&this.postTranslate(v,q,o);return v})})(a)});