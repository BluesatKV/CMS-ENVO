(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(b){(function(h){var c=h.addEvent,e=h.Axis,o=h.Chart,f=h.css,l=h.defined,n=h.each,d=h.extend,j=h.noop,i=h.pick,m=h.timeUnits,g=h.wrap;g(h.Series.prototype,"init",function(p){var k;p.apply(this,Array.prototype.slice.call(arguments,1));(k=this.xAxis)&&k.options.ordinal&&c(this,"updatedData",function(){delete k.ordinalIndex})});g(e.prototype,"getTimeTicks",function(M,R,O,w,z,J,F,P){var Q=0,N,D,G={},v,L,A,H=[],u=-Number.MAX_VALUE,y=this.options.tickPixelInterval,k=this.chart.time;if(!this.options.ordinal&&!this.options.breaks||!J||3>J.length||void 0===O){return M.call(this,R,O,w,z)}L=J.length;for(N=0;N<L;N++){A=N&&J[N-1]>w;J[N]<O&&(Q=N);if(N===L-1||J[N+1]-J[N]>5*F||A){if(J[N]>u){for(D=M.call(this,R,J[Q],J[N],z);D.length&&D[0]<=u;){D.shift()}D.length&&(u=D[D.length-1]);H=H.concat(D)}Q=N+1}if(A){break}}M=D.info;if(P&&M.unitRange<=m.hour){N=H.length-1;for(Q=1;Q<N;Q++){k.dateFormat("%d",H[Q])!==k.dateFormat("%d",H[Q-1])&&(G[H[Q]]="day",v=!0)}v&&(G[H[0]]="day");M.higherRanks=G}H.info=M;if(P&&l(y)){P=k=H.length;N=[];var s;for(v=[];P--;){Q=this.translate(H[P]),s&&(v[P]=s-Q),N[P]=s=Q}v.sort();v=v[Math.floor(v.length/2)];v<0.6*y&&(v=null);P=H[k-1]>w?k-1:k;for(s=void 0;P--;){Q=N[P],w=Math.abs(s-Q),s&&w<0.8*y&&(null===v||w<0.8*v)?(G[H[P]]&&!G[H[P+1]]?(w=P+1,s=Q):w=P,H.splice(w,1)):s=Q}}return H});d(e.prototype,{beforeSetTickPositions:function(){var C,y=[],z,D=!1,k,w=this.getExtremes(),u=w.min,A=w.max,B,x=this.isXAxis&&!!this.options.breaks,w=this.options.ordinal,s=Number.MAX_VALUE,v=this.chart.options.chart.ignoreHiddenSeries;k="highcharts-navigator-xaxis"===this.options.className;!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!k||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!k&&l(this.userMin)&&(this.min+=this.options.overscroll));if(w||x){n(this.series,function(p,q){z=[];if(!(v&&!1===p.visible||!1===p.takeOrdinalPosition&&!x)&&(y=y.concat(p.processedXData),C=y.length,y.sort(function(t,r){return t-r}),s=Math.min(s,i(p.closestPointRange,s)),C)){for(q=0;q<C-1;){y[q]!==y[q+1]&&z.push(y[q+1]),q++}z[0]!==y[0]&&z.unshift(y[0]);y=z}});C=y.length;if(2<C){k=y[1]-y[0];for(B=C-1;B--&&!D;){y[B+1]-y[B]!==k&&(D=!0)}!this.options.keepOrdinalPadding&&(y[0]-u>k||A-y[y.length-1]>k)&&(D=!0)}else{this.options.overscroll&&(2===C?s=y[1]-y[0]:1===C?(s=this.options.overscroll,y=[y[0],y[0]+s]):s=this.overscrollPointsRange)}D?(this.options.overscroll&&(this.overscrollPointsRange=s,y=y.concat(this.getOverscrollPositions())),this.ordinalPositions=y,k=this.ordinal2lin(Math.max(u,y[0]),!0),B=Math.max(this.ordinal2lin(Math.min(A,y[y.length-1]),!0),1),this.ordinalSlope=A=(A-u)/(B-k),this.ordinalOffset=u-k*A):(this.overscrollPointsRange=i(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=w&&D;this.groupIntervalFactor=null},val2lin:function(p,t){var u=this.ordinalPositions;if(u){var s=u.length,q,k;for(q=s;q--;){if(u[q]===p){k=q;break}}for(q=s-1;q--;){if(p>u[q]||0===q){p=(p-u[q])/(u[q+1]-u[q]);k=q+p;break}}t=t?k:this.ordinalSlope*(k||0)+this.ordinalOffset}else{t=p}return t},lin2val:function(q,v){var w=this.ordinalPositions;if(w){var t=this.ordinalSlope,s=this.ordinalOffset,k=w.length-1,u;if(v){0>q?q=w[0]:q>k?q=w[k]:(k=Math.floor(q),u=q-k)}else{for(;k--;){if(v=t*k+s,q>=v){t=t*(k+1)+s;u=(q-v)/(t-v);break}}}return void 0!==u&&void 0!==w[k]?w[k]+(u?u*(w[k+1]-w[k]):0):q}return q},getExtendedPositions:function(){var y=this,u=y.chart,v=y.series[0].currentDataGrouping,z=y.ordinalIndex,k=v?v.count+v.unitName:"raw",s=y.options.overscroll,q=y.getExtremes(),w,x;z||(z=y.ordinalIndex={});z[k]||(w={series:[],chart:u,getExtremes:function(){return{min:q.dataMin,max:q.dataMax+s}},options:{ordinal:!0},val2lin:e.prototype.val2lin,ordinal2lin:e.prototype.ordinal2lin},n(y.series,function(r){x={xAxis:w,xData:r.xData.slice(),chart:u,destroyGroupedData:j};x.xData=x.xData.concat(y.getOverscrollPositions());x.options={dataGrouping:v?{enabled:!0,forced:!0,approximation:"open",units:[[v.unitName,[v.count]]]}:{enabled:!1}};r.processData.apply(x);w.series.push(x)}),y.beforeSetTickPositions.apply(w),z[k]=w.ordinalPositions);return z[k]},getOverscrollPositions:function(){var p=this.options.overscroll,q=this.overscrollPointsRange,r=[],k=this.dataMax;if(h.defined(q)){for(r.push(k);k<=this.dataMax+p;){k+=q,r.push(k)}}return r},getGroupIntervalFactor:function(p,t,u){var s;u=u.processedXData;var q=u.length,k=[];s=this.groupIntervalFactor;if(!s){for(s=0;s<q-1;s++){k[s]=u[s+1]-u[s]}k.sort(function(r,v){return r-v});k=k[Math.floor(q/2)];p=Math.max(p,u[0]);t=Math.min(t,u[q-1]);this.groupIntervalFactor=s=q*k/(t-p)}return s},postProcessTickInterval:function(k){var p=this.ordinalSlope;return p?this.options.breaks?this.closestPointRange||k:k/(p/this.closestPointRange):k}});e.prototype.ordinal2lin=e.prototype.val2lin;g(o.prototype,"pan",function(H,C){var D=this.xAxis[0],z=D.options.overscroll,k=C.chartX,x=!1;if(D.options.ordinal&&D.series.length){var u=this.mouseDownX,F=D.getExtremes(),G=F.dataMax,A=F.min,s=F.max,v=this.hoverPoints,I=D.closestPointRange||D.overscrollPointsRange,u=(u-k)/(D.translationSlope*(D.ordinalSlope||I)),y={ordinalPositions:D.getExtendedPositions()},I=D.lin2val,t=D.val2lin,w;y.ordinalPositions?1<Math.abs(u)&&(v&&n(v,function(p){p.setState()}),0>u?(v=y,w=D.ordinalPositions?D:y):(v=D.ordinalPositions?D:y,w=y),y=w.ordinalPositions,G>y[y.length-1]&&y.push(G),this.fixedRange=s-A,u=D.toFixedRange(null,null,I.apply(v,[t.apply(v,[A,!0])+u,!0]),I.apply(w,[t.apply(w,[s,!0])+u,!0])),u.min>=Math.min(F.dataMin,A)&&u.max<=Math.max(G,s)+z&&D.setExtremes(u.min,u.max,!0,!1,{trigger:"pan"}),this.mouseDownX=k,f(this.container,{cursor:"move"})):x=!0}else{x=!0}x&&(z&&(D.max=D.dataMax+z),H.apply(this,Array.prototype.slice.call(arguments,1)))})})(b);(function(h){function c(){return Array.prototype.slice.call(arguments,1)}function e(k){k.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,f(this.pointArrayMap,["y"]))}var o=h.addEvent,f=h.pick,l=h.wrap,n=h.each,d=h.extend,j=h.isArray,i=h.fireEvent,m=h.Axis,g=h.Series;d(m.prototype,{isInBreak:function(k,s){var t=k.repeat||Infinity,q=k.from,p=k.to-k.from;s=s>=q?(s-q)%t:t-(q-s)%t;return k.inclusive?s<=p:s<p&&0!==s},isInAnyBreak:function(q,v){var w=this.options.breaks,t=w&&w.length,s,k,u;if(t){for(;t--;){this.isInBreak(w[t],q)&&(s=!0,k||(k=f(w[t].showPoints,this.isXAxis?!1:!0)))}u=s&&v?s&&!k:s}return u}});o(m,"afterSetTickPositions",function(){if(this.options.breaks){var k=this.tickPositions,q=this.tickPositions.info,r=[],p;for(p=0;p<k.length;p++){this.isInAnyBreak(k[p])||r.push(k[p])}this.tickPositions=r;this.tickPositions.info=q}});o(m,"afterSetOptions",function(){this.options.breaks&&this.options.breaks.length&&(this.options.ordinal=!1)});o(m,"afterInit",function(){var k=this,p;p=this.options.breaks;k.isBroken=j(p)&&!!p.length;k.isBroken&&(k.val2lin=function(t){var s=t,r,q;for(q=0;q<k.breakArray.length;q++){if(r=k.breakArray[q],r.to<=t){s-=r.len}else{if(r.from>=t){break}else{if(k.isInBreak(r,t)){s-=t-r.from;break}}}}return s},k.lin2val=function(s){var r,q;for(q=0;q<k.breakArray.length&&!(r=k.breakArray[q],r.from>=s);q++){r.to<s?s+=r.len:k.isInBreak(r,s)&&(s+=r.len)}return s},k.setExtremes=function(r,u,s,q,t){for(;this.isInAnyBreak(r);){r-=this.closestPointRange}for(;this.isInAnyBreak(u);){u-=this.closestPointRange}m.prototype.setExtremes.call(this,r,u,s,q,t)},k.setAxisTranslation=function(y){m.prototype.setAxisTranslation.call(this,y);y=k.options.breaks;var x=[],v=[],u=0,s,z,A=k.userMin||k.min,w=k.userMax||k.max,r=f(k.pointRangePadding,0),t,B;n(y,function(q){z=q.repeat||Infinity;k.isInBreak(q,A)&&(A+=q.to%z-A%z);k.isInBreak(q,w)&&(w-=w%z-q.from%z)});n(y,function(q){t=q.from;for(z=q.repeat||Infinity;t-z>A;){t-=z}for(;t<A;){t+=z}for(B=t;B<w;B+=z){x.push({value:B,move:"in"}),x.push({value:B+(q.to-q.from),move:"out",size:q.breakSize})}});x.sort(function(C,q){return C.value===q.value?("in"===C.move?0:1)-("in"===q.move?0:1):C.value-q.value});s=0;t=A;n(x,function(q){s+="in"===q.move?1:-1;1===s&&"in"===q.move&&(t=q.value);0===s&&(v.push({from:t,to:q.value,len:q.value-t-(q.size||0)}),u+=q.value-t-(q.size||0))});k.breakArray=v;k.unitLength=w-A-u+r;i(k,"afterBreaks");k.options.staticScale?k.transA=k.options.staticScale:k.unitLength&&(k.transA*=(w-k.min+r)/k.unitLength);r&&(k.minPixelPadding=k.transA*k.minPointOffset);k.min=A;k.max=w})});l(g.prototype,"generatePoints",function(q){q.apply(this,c(arguments));var v=this.xAxis,w=this.yAxis,t=this.points,s,k=t.length,u=this.options.connectNulls,x;if(v&&w&&(v.options.breaks||w.options.breaks)){for(;k--;){s=t[k],x=null===s.y&&!1===u,x||!v.isInAnyBreak(s.x,!0)&&!w.isInAnyBreak(s.y,!0)||(t.splice(k,1),this.data[k]&&this.data[k].destroyElements())}}});h.Series.prototype.drawBreaks=function(q,v){var w=this,t=w.points,s,k,u,x;q&&n(v,function(p){s=q.breakArray||[];k=q.isXAxis?q.min:f(w.options.threshold,q.min);n(t,function(r){x=f(r["stack"+p.toUpperCase()],r[p]);n(s,function(y){u=!1;if(k<y.from&&x>y.to||k>y.from&&x<y.from){u="pointBreak"}else{if(k<y.from&&x>y.from&&x<y.to||k>y.from&&x>y.to&&x<y.from){u="pointInBreak"}}u&&i(q,u,{point:r,brk:y})})})})};h.Series.prototype.gappedPath=function(){var q=this.currentDataGrouping,s=q&&q.totalRange,q=this.options.gapSize,u=this.points.slice(),k=u.length-1,p=this.yAxis;if(q&&0<k){for("value"!==this.options.gapUnit&&(q*=this.closestPointRange),s&&s>q&&(q=s);k--;){u[k+1].x-u[k].x>q&&(s=(u[k].x+u[k+1].x)/2,u.splice(k+1,0,{isNull:!0,x:s}),this.options.stacking&&(s=p.stacks[this.stackKey][s]=new h.StackItem(p,p.options.stackLabels,!1,s,this.stack),s.total=0))}}return this.getGraphPath(u)};l(h.seriesTypes.column.prototype,"drawPoints",e);l(h.Series.prototype,"drawPoints",e)})(b);(function(V){var E=V.addEvent,O=V.arrayMax,x=V.arrayMin,h=V.Axis,j=V.defaultPlotOptions,o=V.defined,L=V.each,s=V.extend,m=V.format,B=V.isNumber,i=V.merge,P=V.pick,R=V.Point,S=V.Series,C=V.Tooltip,I=V.wrap,N=S.prototype,K=N.processData,T=N.generatePoints,U={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Q={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},J=V.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],M=V.approximations={sum:function(e){var d=e.length,f;if(!d&&e.hasNulls){f=null}else{if(d){for(f=0;d--;){f+=e[d]}}}return f},average:function(d){var c=d.length;d=M.sum(d);B(d)&&c&&(d/=c);return d},averages:function(){var c=[];L(arguments,function(d){c.push(M.average(d))});return void 0===c[0]?void 0:c},open:function(c){return c.length?c[0]:c.hasNulls?null:void 0},high:function(c){return c.length?O(c):c.hasNulls?null:void 0},low:function(c){return c.length?x(c):c.hasNulls?null:void 0},close:function(c){return c.length?c[c.length-1]:c.hasNulls?null:void 0},ohlc:function(f,e,g,d){f=M.open(f);e=M.high(e);g=M.low(g);d=M.close(d);if(B(f)||B(e)||B(g)||B(d)){return[f,e,g,d]}},range:function(d,c){d=M.low(d);c=M.high(c);if(B(d)||B(c)){return[d,c]}if(null===d&&null===c){return null}}};N.groupData=function(ah,ag,Y,Z){var u=this.data,G=this.options.data,ac=[],n=[],X=[],ae=ah.length,af,D,W=!!ag,ad=[];Z="function"===typeof Z?Z:M[Z]||Q[this.type]&&M[Q[this.type].approximation]||M[U.approximation];var aa=this.pointArrayMap,H=aa&&aa.length,F=0;D=0;var z,f;H?L(aa,function(){ad.push([])}):ad.push([]);z=H||1;for(f=0;f<=ae&&!(ah[f]>=Y[0]);f++){}for(f;f<=ae;f++){for(;void 0!==Y[F+1]&&ah[f]>=Y[F+1]||f===ae;){af=Y[F];this.dataGroupInfo={start:D,length:ad[0].length};D=Z.apply(this,ad);void 0!==D&&(ac.push(af),n.push(D),X.push(this.dataGroupInfo));D=f;for(af=0;af<z;af++){ad[af].length=0,ad[af].hasNulls=!1}F+=1;if(f===ae){break}}if(f===ae){break}if(aa){af=this.cropStart+f;var A=u&&u[af]||this.pointClass.prototype.applyOptions.apply({series:this},[G[af]]),ab;for(af=0;af<H;af++){ab=A[aa[af]],B(ab)?ad[af].push(ab):null===ab&&(ad[af].hasNulls=!0)}}else{af=W?ag[f]:null,B(af)?ad[0].push(af):null===af&&(ad[0].hasNulls=!0)}}return[ac,n,X]};N.processData=function(){var z=this.chart,y=this.options.dataGrouping,w=!1!==this.allowDG&&y&&P(y.enabled,z.options.isStock),p=this.visible||!z.options.chart.ignoreHiddenSeries,A,k=this.currentDataGrouping,q;this.forceCrop=w;this.groupPixelWidth=null;this.hasProcessed=!0;if(!1!==K.apply(this,arguments)&&w){this.destroyGroupedData();var D,v=y.groupAll?this.xData:this.processedXData,l=y.groupAll?this.yData:this.processedYData,u=z.plotSizeX,z=this.xAxis,g=z.options.ordinal,F=this.groupPixelWidth=z.getGroupPixelWidth&&z.getGroupPixelWidth();if(F){this.isDirty=A=!0;this.points=null;w=z.getExtremes();q=w.min;w=w.max;g=g&&z.getGroupIntervalFactor(q,w,this)||1;F=F*(w-q)/u*g;u=z.getTimeTicks(z.normalizeTimeTickInterval(F,y.units||J),Math.min(q,v[0]),Math.max(w,v[v.length-1]),z.options.startOfWeek,v,this.closestPointRange);l=N.groupData.apply(this,[v,l,u,y.approximation]);v=l[0];g=l[1];if(y.smoothed&&v.length){D=v.length-1;for(v[D]=Math.min(v[D],w);D--&&0<D;){v[D]+=F/2}v[0]=Math.max(v[0],q)}q=u.info;this.closestPointRange=u.info.totalRange;this.groupMap=l[2];o(v[0])&&v[0]<z.dataMin&&p&&(z.min<=z.dataMin&&(z.min=v[0]),z.dataMin=v[0]);y.groupAll&&(y=this.cropData(v,g,z.min,z.max,1),v=y.xData,g=y.yData);this.processedXData=v;this.processedYData=g}else{this.groupMap=null}this.hasGroupedData=A;this.currentDataGrouping=q;this.preventGraphAnimation=(k&&k.totalRange)!==(q&&q.totalRange)}};N.destroyGroupedData=function(){var c=this.groupedData;L(c||[],function(d,e){d&&(c[e]=d.destroy?d.destroy():null)});this.groupedData=null};N.generatePoints=function(){T.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};E(R,"update",function(){if(this.dataGroup){return V.error(24),!1}});I(C.prototype,"tooltipFooterHeaderFormatter",function(v,u,t){var l=this.chart.time,w=u.series,g=w.tooltipOptions,k=w.options.dataGrouping,n=g.xDateFormat,r,e=w.xAxis;return e&&"datetime"===e.options.type&&k&&B(u.key)?(v=w.currentDataGrouping,k=k.dateTimeLabelFormats,v?(e=k[v.unitName],1===v.count?n=e[0]:(n=e[1],r=e[2])):!n&&k&&(n=this.getXDateFormat(u,g,e)),n=l.dateFormat(n,u.key),r&&(n+=l.dateFormat(r,u.key+v.totalRange-1)),m(g[(t?"footer":"header")+"Format"],{point:s(u.point,{key:n}),series:w},l)):v.call(this,u,t)});E(S,"destroy",N.destroyGroupedData);E(S,"afterSetOptions",function(f){f=f.options;var k=this.type,g=this.chart.options.plotOptions,e=j[k].dataGrouping,d=this.useCommonDataGrouping&&U;if(Q[k]||d){e||(e=i(U,Q[k])),f.dataGrouping=i(d,e,g.series&&g.series.dataGrouping,g[k].dataGrouping,this.userOptions.dataGrouping)}this.chart.options.isStock&&(this.requireSorting=!0)});E(h,"afterSetScale",function(){L(this.series,function(c){c.hasProcessed=!1})});h.prototype.getGroupPixelWidth=function(){var g=this.series,f=g.length,l,e=0,d=!1,k;for(l=f;l--;){(k=g[l].options.dataGrouping)&&(e=Math.max(e,k.groupPixelWidth))}for(l=f;l--;){(k=g[l].options.dataGrouping)&&g[l].hasProcessed&&(f=(g[l].processedXData||g[l].data).length,g[l].groupPixelWidth||f>this.chart.plotSizeX/e||f&&k.forced)&&(d=!0)}return d?e:0};h.prototype.setDataGrouping=function(e,d){var f;d=P(d,!0);e||(e={forced:!1,units:null});if(this instanceof h){for(f=this.series.length;f--;){this.series[f].update({dataGrouping:e},!1)}}else{L(this.chart.options.series,function(c){c.dataGrouping=e},!1)}this.ordinalSlope=null;d&&this.chart.redraw()}})(b);(function(c){var f=c.each,d=c.Point,e=c.seriesType,g=c.seriesTypes;e("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'\x3cspan class\x3d"highcharts-color-{point.colorIndex}"\x3e\u25cf\x3c/span\x3e \x3cb\x3e {series.name}\x3c/b\x3e\x3cbr/\x3eOpen: {point.open}\x3cbr/\x3eHigh: {point.high}\x3cbr/\x3eLow: {point.low}\x3cbr/\x3eClose: {point.close}\x3cbr/\x3e'},threshold:null,stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(h){return[h.open,h.high,h.low,h.close]},pointValKey:"close",translate:function(){var i=this,l=i.yAxis,h=!!i.modifyValue,j=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];g.column.prototype.translate.apply(i);f(i.points,function(k){f([k.open,k.high,k.low,k.close,k.low],function(m,n){null!==m&&(h&&(m=i.modifyValue(m)),k[j[n]]=l.toPixels(m,!0))});k.tooltipPos[1]=k.plotHigh+l.pos-i.chart.plotTop})},drawPoints:function(){var h=this,i=h.chart;f(h.points,function(j){var l,k,m,q,n=j.graphic,o,p=!n;void 0!==j.plotY&&(n||(j.graphic=n=i.renderer.path().add(h.group)),k=n.strokeWidth()%2/2,o=Math.round(j.plotX)-k,m=Math.round(j.shapeArgs.width/2),q=["M",o,Math.round(j.yBottom),"L",o,Math.round(j.plotHigh)],null!==j.open&&(l=Math.round(j.plotOpen)+k,q.push("M",o,l,"L",o-m,l)),null!==j.close&&(l=Math.round(j.plotClose)+k,q.push("M",o,l,"L",o+m,l)),n[p?"attr":"animate"]({d:q}).addClass(j.getClassName(),!0))})},animate:null},{getClassName:function(){return d.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})})(b);(function(c){var f=c.defaultPlotOptions,d=c.each,e=c.merge;c=c.seriesType;c("candlestick","ohlc",e(f.column,{states:{hover:{lineWidth:2}},tooltip:f.ohlc.tooltip,threshold:null,stickyTracking:!0}),{drawPoints:function(){var g=this,h=g.chart;d(g.points,function(j){var i=j.graphic,q,p,r,o,l,m,n,s=!i;void 0!==j.plotY&&(i||(j.graphic=i=h.renderer.path().add(g.group)),l=i.strokeWidth()%2/2,m=Math.round(j.plotX)-l,q=j.plotOpen,p=j.plotClose,r=Math.min(q,p),q=Math.max(q,p),n=Math.round(j.shapeArgs.width/2),p=Math.round(r)!==Math.round(j.plotHigh),o=q!==j.yBottom,r=Math.round(r)+l,q=Math.round(q)+l,l=[],l.push("M",m-n,q,"L",m-n,r,"L",m+n,r,"L",m+n,q,"Z","M",m,r,"L",m,p?Math.round(j.plotHigh):r,"M",m,q,"L",m,o?Math.round(j.yBottom):q),i[s?"attr":"animate"]({d:l}).addClass(j.getClassName(),!0))})}})})(b);var a=function(c){var f=c.each,d=c.defined,e=c.seriesTypes,g=c.stableSort;return{getPlotBox:function(){return c.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){e.column.prototype.translate.apply(this);var J=this.options,j=this.chart,x=this.points,k=x.length-1,i,m,h=J.onSeries,h=h&&j.get(h),J=J.onKey||"y",C=h&&h.options.step,E=h&&h.points,F=E&&E.length,n=j.inverted,o=this.xAxis,B=this.yAxis,z=0,H,I,D,s;if(h&&h.visible&&F){for(z=(h.pointXOffset||0)+(h.barW||0)/2,i=h.currentDataGrouping,I=E[F-1].x+(i?i.totalRange:0),g(x,function(p,l){return p.x-l.x}),J="plot"+J[0].toUpperCase()+J.substr(1);F--&&x[k]&&!(H=E[F],i=x[k],i.y=H.y,H.x<=i.x&&void 0!==H[J]&&(i.x<=I&&(i.plotY=H[J],H.x<i.x&&!C&&(D=E[F+1])&&void 0!==D[J]&&(s=(i.x-H.x)/(D.x-H.x),i.plotY+=s*(D[J]-H[J]),i.y+=s*(D.y-H.y))),k--,F++,0>k));){}}f(x,function(p,l){var q;p.plotX+=z;if(void 0===p.plotY||n){0<=p.plotX&&p.plotX<=o.len?n?(p.plotY=o.translate(p.x,0,1,0,1),p.plotX=d(p.y)?B.translate(p.y,0,0,0,1):0):p.plotY=j.chartHeight-o.bottom-(o.opposite?o.height:0)+o.offset-B.top:p.shapeArgs={}}(m=x[l-1])&&m.plotX===p.plotX&&(void 0===m.stackIndex&&(m.stackIndex=0),q=m.stackIndex+1);p.stackIndex=q});this.onSeries=h}}}(b);(function(g,c){function e(k){h[k+"pin"]=function(n,m,p,q,r){var o=r&&r.anchorX;r=r&&r.anchorY;"circle"===k&&q>p&&(n-=Math.round((q-p)/2),p=q);n=h[k](n,m,p,q);o&&r&&(n.push("M","circle"===k?n[1]-n[4]:n[1]+n[4]/2,m>r?m:m+q,"L",o,r),n=n.concat(h.circle(o-1,r-1,2,2)));return n}}var l=g.addEvent,f=g.each,i=g.noop,j=g.seriesType,d=g.TrackerMixin,h=g.SVGRenderer.prototype.symbols;j("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}\x3cbr/\x3e"},threshold:null,y:-30},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:g.Series.prototype.init,translate:c.translate,getPlotBox:c.getPlotBox,drawPoints:function(){var x=this.points,I=this.chart,H=I.renderer,A,C,D=I.inverted,J=this.options,m=J.y,w,s,F,G,B,o,v=this.yAxis,K={},z=[];for(s=x.length;s--;){F=x[s],o=(D?F.plotY:F.plotX)>this.xAxis.len,A=F.plotX,G=F.stackIndex,w=F.options.shape||J.shape,C=F.plotY,void 0!==C&&(C=F.plotY+m-(void 0!==G&&G*J.stackDistance)),F.anchorX=G?void 0:F.plotX,B=G?void 0:F.plotY,G=F.graphic,void 0!==C&&0<=A&&!o?(G||(G=F.graphic=H.label("",null,null,w,null,null,J.useHTML).attr({align:"flag"===w?"left":"center",width:J.width,height:J.height,"text-align":J.textAlign}).addClass("highcharts-point").add(this.markerGroup),F.graphic.div&&(F.graphic.div.point=F),G.isNew=!0),0<A&&(A-=G.strokeWidth()%2),w={y:C,anchorY:B},J.allowOverlapX&&(w.x=A,w.anchorX=F.anchorX),G.attr({text:F.options.title||J.title||"A"})[G.isNew?"attr":"animate"](w),J.allowOverlapX||(K[F.plotX]?K[F.plotX].size=Math.max(K[F.plotX].size,G.width):K[F.plotX]={align:0,size:G.width,target:A,anchorX:A}),F.tooltipPos=[A,C+v.pos-I.plotTop]):G&&(F.graphic=G.destroy())}J.allowOverlapX||(g.objectEach(K,function(k){k.plotX=k.anchorX;z.push(k)}),g.distribute(z,D?v.len:this.xAxis.len,100),f(x,function(n){var k=n.graphic&&K[n.plotX];k&&(n.graphic[n.graphic.isNew?"attr":"animate"]({x:k.pos,anchorX:n.anchorX}),n.graphic.isNew=!1)}));J.useHTML&&g.wrap(this.markerGroup,"on",function(k){return g.SVGElement.prototype.on.apply(k.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var k=this.points;d.drawTrackerPoint.apply(this);f(k,function(m){var n=m.graphic;n&&l(n.element,"mouseover",function(){0<m.stackIndex&&!m.raised&&(m._y=n.y,n.attr({y:m._y-8}),m.raised=!0);f(k,function(o){o!==m&&o.raised&&o.graphic&&(o.graphic.attr({y:o._y}),o.raised=!1)})})})},animate:i,buildKDTree:i,setClip:i,invertGroups:i});h.flag=function(m,n,r,o,p){var q=p&&p.anchorX||m;p=p&&p.anchorY||n;return h.circle(q-1,p-1,2,2).concat(["M",q,p,"L",m,n+o,m,n,m+r,n,m+r,n+o,m,n+o,"Z"])};e("circle");e("square")})(b,a);(function(K){function q(e,g,d){this.init(e,g,d)}var C=K.addEvent,n=K.Axis,c=K.correctFloat,h=K.defaultOptions,j=K.defined,x=K.destroyObjectProperties,m=K.each,i=K.fireEvent,o=K.hasTouch,f=K.isTouchDevice,E=K.merge,I=K.pick,J=K.removeEvent,p=K.wrap,s,B={height:f?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:K.svg&&!f,margin:10,minWidth:6,step:0.2,zIndex:3};h.scrollbar=E(!0,B,h.scrollbar);K.swapXY=s=function(e,k){var d=e.length,g;if(k){for(k=0;k<d;k+=3){g=e[k+1],e[k+1]=e[k+2],e[k+2]=g}}return e};q.prototype={init:function(e,g,d){this.scrollbarButtons=[];this.renderer=e;this.userOptions=g;this.options=E(B,g);this.chart=d;this.size=I(this.options.size,this.options.height);g.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var e=this.renderer,k=this.options,d=this.size,g;this.group=g=e.g("scrollbar").attr({zIndex:k.zIndex,translateY:-99999}).add();this.track=e.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:k.trackBorderRadius||0,height:d,width:d}).add(g);this.trackBorderWidth=this.track.strokeWidth();this.track.attr({y:-this.trackBorderWidth%2/2});this.scrollbarGroup=e.g().add(g);this.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:d,width:d,r:k.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=e.path(s(["M",-3,d/4,"L",-3,2*d/3,"M",0,d/4,"L",0,2*d/3,"M",3,d/4,"L",3,2*d/3],k.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);this.scrollbarStrokeWidth=this.scrollbar.strokeWidth();this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2);this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(k,v,g,l){var u=this.options.vertical,t=0,r=this.rendered?"animate":"attr";this.x=k;this.y=v+this.trackBorderWidth;this.width=g;this.xOffset=this.height=l;this.yOffset=t;u?(this.width=this.yOffset=g=t=this.size,this.xOffset=v=0,this.barWidth=l-2*g,this.x=k+=this.options.margin):(this.height=this.xOffset=l=v=this.size,this.barWidth=g-2*l,this.y+=this.options.margin);this.group[r]({translateX:k,translateY:this.y});this.track[r]({width:g,height:l});this.scrollbarButtons[1][r]({translateX:u?0:g-v,translateY:u?l-t:0})},drawScrollbarButton:function(g){var t=this.renderer,e=this.scrollbarButtons,k=this.options,r=this.size,l;l=t.g().add(this.group);e.push(l);l=t.rect().addClass("highcharts-scrollbar-button").add(l);l.attr(l.crisp({x:-0.5,y:-0.5,width:r+1,height:r+1,r:k.buttonBorderRadius},l.strokeWidth()));t.path(s(["M",r/2+(g?-1:1),r/2-3,"L",r/2+(g?-1:1),r/2+3,"L",r/2+(g?2:-2),r/2],k.vertical)).addClass("highcharts-scrollbar-arrow").add(e[g])},setRange:function(z,w){var y=this.options,v=y.vertical,l=y.minWidth,u=this.barWidth,t,r,k=this.rendered&&!this.hasDragged?"animate":"attr";j(u)&&(z=Math.max(z,0),t=Math.ceil(u*z),this.calculatedWidth=r=c(u*Math.min(w,1)-t),r<l&&(t=(u-l+r)*z,r=l),l=Math.floor(t+this.xOffset+this.yOffset),u=r/2-0.5,this.from=z,this.to=w,v?(this.scrollbarGroup[k]({translateY:l}),this.scrollbar[k]({height:r}),this.scrollbarRifles[k]({translateY:u}),this.scrollbarTop=l,this.scrollbarLeft=0):(this.scrollbarGroup[k]({translateX:l}),this.scrollbar[k]({width:r}),this.scrollbarRifles[k]({translateX:u}),this.scrollbarLeft=l,this.scrollbarTop=0),12>=r?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===y.showFull&&(0>=z&&1<=w?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var d=this;d.mouseMoveHandler=function(r){var g=d.chart.pointer.normalize(r),l=d.options.vertical?"chartY":"chartX",k=d.initPositions;!d.grabbedCenter||r.touches&&0===r.touches[0][l]||(g=d.cursorToScrollbarPosition(g)[l],l=d[l],l=g-l,d.hasDragged=!0,d.updatePosition(k[0]+l,k[1]+l),d.hasDragged&&i(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMType:r.type,DOMEvent:r}))};d.mouseUpHandler=function(e){d.hasDragged&&i(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMType:e.type,DOMEvent:e});d.grabbedCenter=d.hasDragged=d.chartX=d.chartY=null};d.mouseDownHandler=function(e){e=d.chart.pointer.normalize(e);e=d.cursorToScrollbarPosition(e);d.chartX=e.chartX;d.chartY=e.chartY;d.initPositions=[d.from,d.to];d.grabbedCenter=!0};d.buttonToMinClick=function(g){var e=c(d.to-d.from)*d.options.step;d.updatePosition(c(d.from-e),c(d.to-e));i(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:g})};d.buttonToMaxClick=function(g){var e=(d.to-d.from)*d.options.step;d.updatePosition(d.from+e,d.to+e);i(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:g})};d.trackClick=function(t){var g=d.chart.pointer.normalize(t),l=d.to-d.from,k=d.y+d.scrollbarTop,r=d.x+d.scrollbarLeft;d.options.vertical&&g.chartY>k||!d.options.vertical&&g.chartX>r?d.updatePosition(d.from+l,d.to+l):d.updatePosition(d.from-l,d.to-l);i(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:t})}},cursorToScrollbarPosition:function(d){var e=this.options,e=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(d.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(d.chartY-this.y-this.yOffset)/(this.barWidth-e)}},updatePosition:function(d,e){1<e&&(d=c(1-c(e-d)),e=1);0>d&&(e=c(e-d),d=0);this.from=d;this.to=e},update:function(d){this.destroy();this.init(this.chart.renderer,E(!0,this.options,d),this.chart)},addEvents:function(){var k=this.options.inverted?[1,0]:[0,1],u=this.scrollbarButtons,g=this.scrollbarGroup.element,r=this.mouseDownHandler,l=this.mouseMoveHandler,t=this.mouseUpHandler,k=[[u[k[0]].element,"click",this.buttonToMinClick],[u[k[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[g,"mousedown",r],[g.ownerDocument,"mousemove",l],[g.ownerDocument,"mouseup",t]];o&&k.push([g,"touchstart",r],[g.ownerDocument,"touchmove",l],[g.ownerDocument,"touchend",t]);m(k,function(d){C.apply(null,d)});this._events=k},removeEvents:function(){m(this._events,function(d){J.apply(null,d)});this._events.length=0},destroy:function(){var d=this.chart.scroller;this.removeEvents();m(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(e){this[e]&&this[e].destroy&&(this[e]=this[e].destroy())},this);d&&this===d.scrollbar&&(d.scrollbar=null,x(d.scrollbarButtons))}};p(n.prototype,"init",function(d){var e=this;d.apply(e,Array.prototype.slice.call(arguments,1));e.options.scrollbar&&e.options.scrollbar.enabled&&(e.options.scrollbar.vertical=!e.horiz,e.options.startOnTick=e.options.endOnTick=!1,e.scrollbar=new q(e.chart.renderer,e.options.scrollbar,e.chart),C(e.scrollbar,"changed",function(k){var g=Math.min(I(e.options.min,e.min),e.min,e.dataMin),l=Math.max(I(e.options.max,e.max),e.max,e.dataMax)-g,r;e.horiz&&!e.reversed||!e.horiz&&e.reversed?(r=g+l*this.to,g+=l*this.from):(r=g+l*(1-this.from),g+=l*(1-this.to));e.setExtremes(g,r,!0,!1,k)}))});p(n.prototype,"render",function(g){var r=Math.min(I(this.options.min,this.min),this.min,I(this.dataMin,this.min)),e=Math.max(I(this.options.max,this.max),this.max,I(this.dataMax,this.max)),l=this.scrollbar,k=this.titleOffset||0;g.apply(this,Array.prototype.slice.call(arguments,1));if(l){this.horiz?(l.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:k+this.axisTitleMargin+this.offset),this.width,this.height),k=1):(l.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?k+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),k=0);if(!this.opposite&&!this.horiz||this.opposite&&this.horiz){this.chart.scrollbarsOffsets[k]+=this.scrollbar.size+this.scrollbar.options.margin}isNaN(r)||isNaN(e)||!j(this.min)||!j(this.max)?l.setRange(0,0):(k=(this.min-r)/(e-r),r=(this.max-r)/(e-r),this.horiz&&!this.reversed||!this.horiz&&this.reversed?l.setRange(k,r):l.setRange(1-r,1-k))}});p(n.prototype,"getOffset",function(e){var g=this.horiz?2:1,d=this.scrollbar;e.apply(this,Array.prototype.slice.call(arguments,1));d&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[g]+=d.size+d.options.margin)});p(n.prototype,"destroy",function(d){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy());d.apply(this,Array.prototype.slice.call(arguments,1))});K.Scrollbar=q})(b);(function(ab){function L(c){this.init(c)}var T=ab.addEvent,C=ab.Axis,i=ab.Chart,m=ab.defaultOptions,s=ab.defined,Q=ab.destroyObjectProperties,x=ab.each,o=ab.erase,I=ab.error,j=ab.extend,V=ab.grep,X=ab.hasTouch,Y=ab.isArray,K=ab.isNumber,M=ab.isObject,S=ab.isTouchDevice,P=ab.merge,Z=ab.pick,aa=ab.removeEvent,W=ab.Scrollbar,O=ab.Series,R=ab.seriesTypes,J=ab.wrap,U=[].concat(ab.defaultDataGroupingUnits),N=function(d){var c=V(arguments,K);if(c.length){return Math[d].apply(0,c)}};U[4]=["day",[1,2,3,4]];U[5]=["week",[1,2,3]];j(m,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0},series:{type:void 0===R.areaspline?"line":"areaspline",compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:U},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}});ab.Renderer.prototype.symbols["navigator-handle"]=function(g,f,l,k,h){g=h.width/2;f=Math.round(g/3)+0.5;h=h.height;return["M",-g-1,0.5,"L",g,0.5,"L",g,h+0.5,"L",-g-1,h+0.5,"L",-g-1,0.5,"M",-f,4,"L",-f,h-3,"M",f-1,4,"L",f-1,h-3]};L.prototype={drawHandle:function(g,f,k,h){var e=this.navigatorOptions.handles.height;this.handles[f][h](k?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(g,10)+0.5-e)}:{translateX:Math.round(this.left+parseInt(g,10)),translateY:Math.round(this.top+this.height/2-e/2-1)})},drawOutline:function(z,y,w,v){var p=this.navigatorOptions.maskInside,A=this.outline.strokeWidth(),u=A/2,A=A%2/2,k=this.outlineHeight,t=this.scrollbarHeight,g=this.size,l=this.left-t,r=this.top;w?(l-=u,w=r+y+A,y=r+z+A,z=["M",l+k,r-t-A,"L",l+k,w,"L",l,w,"L",l,y,"L",l+k,y,"L",l+k,r+g+t].concat(p?["M",l+k,w-u,"L",l+k,y+u]:[])):(z+=l+t-A,y+=l+t-A,r+=u,z=["M",l,r,"L",z,r,"L",z,r+k,"L",y,r+k,"L",y,r,"L",l+g+2*t,r].concat(p?["M",z-u,r,"L",y+u,r]:[]));this.outline[v]({d:z})},drawMasks:function(w,v,u,t){var l=this.left,y=this.top,r=this.height,h,p,g,k;u?(g=[l,l,l],k=[y,y+w,y+v],p=[r,r,r],h=[w,v-w,this.size-v]):(g=[l,l+w,l+v],k=[y,y,y],p=[w,v-w,this.size-v],h=[r,r,r]);x(this.shades,function(d,c){d[t]({x:g[c],y:k[c],width:p[c],height:h[c]})})},renderElements:function(){var h=this,g=h.navigatorOptions,p=g.maskInside,n=h.chart,l=n.renderer,k;h.navigatorGroup=k=l.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();x([!p,p,!p],function(d,c){h.shades[c]=l.rect().addClass("highcharts-navigator-mask"+(1===c?"-inside":"-outside")).add(k)});h.outline=l.path().addClass("highcharts-navigator-outline").add(k);g.handles.enabled&&x([0,1],function(c){g.handles.inverted=n.inverted;h.handles[c]=l.symbol(g.handles.symbols[c],-g.handles.width/2-1,0,g.handles.width,g.handles.height,g.handles);h.handles[c].attr({zIndex:7-c}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][c]).add(k)})},update:function(c){x(this.series||[],function(d){d.baseSeries&&delete d.baseSeries.navigatorSeries});this.destroy();P(!0,this.chart.options.navigator,this.options,c);this.init(this.chart)},render:function(ac,G,F,E){var w=this.chart,ad,c,r=this.scrollbarHeight,v,A=this.xAxis;ad=A.fake?w.xAxis[0]:A;var D=this.navigatorEnabled,H,u=this.rendered;c=w.inverted;var y,t=w.xAxis[0].minRange,z=w.xAxis[0].options.maxRange;if(!this.hasDragged||s(F)){if(!K(ac)||!K(G)){if(u){F=0,E=Z(A.width,ad.width)}else{return}}this.left=Z(A.left,w.plotLeft+r+(c?w.plotWidth:0));this.size=H=v=Z(A.len,(c?w.plotHeight:w.plotWidth)-2*r);w=c?r:v+2*r;F=Z(F,A.toPixels(ac,!0));E=Z(E,A.toPixels(G,!0));K(F)&&Infinity!==Math.abs(F)||(F=0,E=w);ac=A.toValue(F,!0);G=A.toValue(E,!0);y=Math.abs(ab.correctFloat(G-ac));y<t?this.grabbedLeft?F=A.toPixels(G-t,!0):this.grabbedRight&&(E=A.toPixels(ac+t,!0)):s(z)&&y>z&&(this.grabbedLeft?F=A.toPixels(G-z,!0):this.grabbedRight&&(E=A.toPixels(ac+z,!0)));this.zoomedMax=Math.min(Math.max(F,E,0),H);this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(F,E),0),H);this.range=this.zoomedMax-this.zoomedMin;H=Math.round(this.zoomedMax);F=Math.round(this.zoomedMin);D&&(this.navigatorGroup.attr({visibility:"visible"}),u=u&&!this.hasDragged?"animate":"attr",this.drawMasks(F,H,c,u),this.drawOutline(F,H,c,u),this.navigatorOptions.handles.enabled&&(this.drawHandle(F,0,c,u),this.drawHandle(H,1,c,u)));this.scrollbar&&(c?(c=this.top-r,ad=this.left-r+(D||!ad.opposite?0:(ad.titleOffset||0)+ad.axisTitleMargin),r=v+2*r):(c=this.top+(D?this.height:-r),ad=this.left-r),this.scrollbar.position(ad,c,w,r),this.scrollbar.setRange(this.zoomedMin/v,this.zoomedMax/v));this.rendered=!0}},addMouseEvents:function(){var g=this,e=g.chart,n=e.container,l=[],k,h;g.mouseMoveHandler=k=function(c){g.onMouseMove(c)};g.mouseUpHandler=h=function(c){g.onMouseUp(c)};l=g.getPartsEvents("mousedown");l.push(T(n,"mousemove",k),T(n.ownerDocument,"mouseup",h));X&&(l.push(T(n,"touchmove",k),T(n.ownerDocument,"touchend",h)),l.concat(g.getPartsEvents("touchstart")));g.eventsToUnbind=l;g.series&&g.series[0]&&l.push(T(g.series[0].xAxis,"foundExtremes",function(){e.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(e){var d=this,c=[];x(["shades","handles"],function(f){x(d[f],function(h,g){c.push(T(h.element,e,function(k){d[f+"Mousedown"](k,g)}))})});return c},shadesMousedown:function(y,w){y=this.chart.pointer.normalize(y);var l=this.chart,v=this.xAxis,u=this.zoomedMin,t=this.left,r=this.size,z=this.range,g=y.chartX,p,k;l.inverted&&(g=y.chartY,t=this.top);1===w?(this.grabbedCenter=g,this.fixedWidth=z,this.dragOffset=g-u):(y=g-t-z/2,0===w?y=Math.max(0,y):2===w&&y+z>=r&&(y=r-z,v.reversed?(y-=z,k=this.getUnionExtremes().dataMin):p=this.getUnionExtremes().dataMax),y!==u&&(this.fixedWidth=z,w=v.toFixedRange(y,y+z,k,p),s(w.min)&&l.xAxis[0].setExtremes(Math.min(w.min,w.max),Math.max(w.min,w.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(f,e){this.chart.pointer.normalize(f);f=this.chart;var g=f.xAxis[0],d=f.inverted&&!g.reversed||!f.inverted&&g.reversed;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=d?g.min:g.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=d?g.max:g.min);f.fixedRange=null},onMouseMove:function(k){var h=this,t=h.chart,g=h.left,r=h.navigatorSize,p=h.range,n=h.dragOffset,l=t.inverted;k.touches&&0===k.touches[0].pageX||(k=t.pointer.normalize(k),t=k.chartX,l&&(g=h.top,t=k.chartY),h.grabbedLeft?(h.hasDragged=!0,h.render(0,0,t-g,h.otherHandlePos)):h.grabbedRight?(h.hasDragged=!0,h.render(0,0,h.otherHandlePos,t-g)):h.grabbedCenter&&(h.hasDragged=!0,t<n?t=n:t>r+n-p&&(t=r+n-p),h.render(0,0,t-n,t-n+p)),h.hasDragged&&h.scrollbar&&h.scrollbar.options.liveRedraw&&(k.DOMType=k.type,setTimeout(function(){h.onMouseUp(k)},0)))},onMouseUp:function(k){var h=this.chart,t=this.xAxis,r=t&&t.reversed,g=this.scrollbar,p,n,l=k.DOMEvent||k;(!this.hasDragged||g&&g.hasDragged)&&"scrollbar"!==k.trigger||(g=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?p=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(n=this.fixedExtreme),this.zoomedMax===this.size&&(n=r?g.dataMin:g.dataMax),0===this.zoomedMin&&(p=r?g.dataMax:g.dataMin),t=t.toFixedRange(this.zoomedMin,this.zoomedMax,p,n),s(t.min)&&h.xAxis[0].setExtremes(Math.min(t.min,t.max),Math.max(t.min,t.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:l}));"mousemove"!==k.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(x(this.eventsToUnbind,function(c){c()}),this.eventsToUnbind=void 0);this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var c=this.baseSeries||[];this.navigatorEnabled&&c[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&x(c,function(d){aa(d,"updatedData",this.updatedDataHandler)},this),c[0].xAxis&&aa(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(y){var w=y.options,v=w.navigator,k=v.enabled,u=w.scrollbar,c=u.enabled,w=k?v.height:0,r=c?u.height:0;this.handles=[];this.shades=[];this.chart=y;this.setBaseSeries();this.height=w;this.scrollbarHeight=r;this.scrollbarEnabled=c;this.navigatorEnabled=k;this.navigatorOptions=v;this.scrollbarOptions=u;this.outlineHeight=w+r;this.opposite=Z(v.opposite,!k&&y.inverted);var f=this,u=f.baseSeries,c=y.xAxis.length,t=y.yAxis.length,p=u&&u[0]&&u[0].xAxis||y.xAxis[0]||{options:{}};T(y,"getMargins",function(){var d=f.opposite?"plotTop":"marginBottom";y.inverted&&(d=f.opposite?"marginRight":"plotLeft");y[d]=(y[d]||0)+(k||!y.inverted?f.outlineHeight:0)+v.margin});y.isDirtyBox=!0;f.navigatorEnabled?(f.xAxis=new C(y,P({breaks:p.options.breaks,ordinal:p.options.ordinal},v.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},y.inverted?{offsets:[r,0,-r,0],width:w}:{offsets:[0,-r,0,r],height:w})),f.yAxis=new C(y,P(v.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:t,zoomEnabled:!1},y.inverted?{width:w}:{height:w})),u||v.series.data?f.updateNavigatorSeries(!1):0===y.series.length&&(f.unbindRedraw=T(y,"beforeRedraw",function(){0<y.series.length&&!f.series&&(f.setBaseSeries(),f.unbindRedraw())})),f.renderElements(),f.addMouseEvents()):f.xAxis={translate:function(h,z){var q=y.xAxis[0],n=q.getExtremes(),g=q.len-2*r,l=N("min",q.options.min,n.dataMin),q=N("max",q.options.max,n.dataMax)-l;return z?h*q/g+l:g*(h-l)/q},toPixels:function(d){return this.translate(d)},toValue:function(d){return this.translate(d,!0)},toFixedRange:C.prototype.toFixedRange,fake:!0};y.options.scrollbar.enabled&&(y.scrollbar=f.scrollbar=new W(y.renderer,P(y.options.scrollbar,{margin:f.navigatorEnabled?0:10,vertical:y.inverted}),y),T(f.scrollbar,"changed",function(e){var h=f.size,g=h*this.to,h=h*this.from;f.hasDragged=f.scrollbar.hasDragged;f.render(0,0,h,g);(y.options.scrollbar.liveRedraw||"mousemove"!==e.DOMType&&"touchmove"!==e.DOMType)&&setTimeout(function(){f.onMouseUp(e)})}));f.addBaseSeriesEvents();f.addChartEvents()},getUnionExtremes:function(h){var g=this.chart.xAxis[0],n=this.xAxis,l=n.options,c=g.options,k;h&&null===g.dataMin||(k={dataMin:Z(l&&l.min,N("min",c.min,g.dataMin,n.dataMin,n.min)),dataMax:Z(l&&l.max,N("max",c.max,g.dataMax,n.dataMax,n.max))});return k},setBaseSeries:function(f,e){var h=this.chart,g=this.baseSeries=[];f=f||h.options&&h.options.navigator.baseSeries||0;x(h.series||[],function(d,k){d.options.isInternal||!d.options.showInNavigator&&(k!==f&&d.options.id!==f||!1===d.options.showInNavigator)||g.push(d)});this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,e)},updateNavigatorSeries:function(z,y){var r=this,w=r.chart,p=r.baseSeries,d,u,A=r.navigatorOptions.series,v,k={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0},t=r.series=ab.grep(r.series||[],function(f){var e=f.baseSeries;return 0>ab.inArray(e,p)?(e&&(aa(e,"updatedData",r.updatedDataHandler),delete e.navigatorSeries),f.destroy(),!1):!0});p&&p.length&&x(p,function(f){var e=f.navigatorSeries,g=j({color:f.color,visible:f.visible},Y(A)?m.navigator.series:A);e&&!1===r.navigatorOptions.adaptToUpdatedData||(k.name="Navigator "+p.length,d=f.options||{},v=d.navigatorOptions||{},u=P(d,k,g,v),g=v.data||g.data,r.hasNavigatorData=r.hasNavigatorData||!!g,u.data=g||d.data&&d.data.slice(0),e&&e.options?e.update(u,y):(f.navigatorSeries=w.initSeries(u),f.navigatorSeries.baseSeries=f,t.push(f.navigatorSeries)))});if(A.data&&(!p||!p.length)||Y(A)){r.hasNavigatorData=!1,A=ab.splat(A),x(A,function(e,c){k.name="Navigator "+(t.length+1);u=P(m.navigator.series,{color:w.series[c]&&!w.series[c].options.isInternal&&w.series[c].color||w.options.colors[c]||w.options.colors[0]},k,e);u.data=e.data;u.data&&(r.hasNavigatorData=!0,t.push(w.initSeries(u)))})}z&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var d=this,c=d.baseSeries||[];c[0]&&c[0].xAxis&&T(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes);x(c,function(e){T(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)});T(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)});!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&T(e,"updatedData",this.updatedDataHandler);T(e,"remove",function(){this.navigatorSeries&&(o(d.series,this.navigatorSeries),s(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var d=this.xAxis,c;d.getExtremes&&(!(c=this.getUnionExtremes(!0))||c.dataMin===d.min&&c.dataMax===d.max||(d.min=c.dataMin,d.max=c.dataMax))},modifyBaseAxisExtremes:function(){var A=this.chart.navigator,z=this.getExtremes(),y=z.dataMin,w=z.dataMax,z=z.max-z.min,v=A.stickToMin,p=A.stickToMax,c=Z(this.options.overscroll,0),t,u,k=A.series&&A.series[0],r=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(v&&(u=y,t=u+z),p&&(t=w+c,v||(u=Math.max(t-z,k&&k.xData?k.xData[0]:-Number.MAX_VALUE))),r&&(v||p)&&K(u)&&(this.min=this.userMin=u,this.max=this.userMax=t));A.stickToMin=A.stickToMax=null},updatedDataHandler:function(){var d=this.chart.navigator,c=this.navigatorSeries;d.stickToMax=d.xAxis.reversed?0===Math.round(d.zoomedMin):Math.round(d.zoomedMax)>=Math.round(d.size);d.stickToMin=K(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!d.stickToMax);c&&!d.hasNavigatorData&&(c.options.pointStart=this.xData[0],c.setData(this.options.data,!1,null,!1))},addChartEvents:function(){T(this.chart,"redraw",function(){var d=this.navigator,c=d&&(d.baseSeries&&d.baseSeries[0]&&d.baseSeries[0].xAxis||d.scrollbar&&this.xAxis[0]);c&&d.render(c.min,c.max)})},destroy:function(){this.removeEvents();this.xAxis&&(o(this.chart.xAxis,this.xAxis),o(this.chart.axes,this.xAxis));this.yAxis&&(o(this.chart.yAxis,this.yAxis),o(this.chart.axes,this.yAxis));x(this.series||[],function(c){c.destroy&&c.destroy()});x("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(c){this[c]&&this[c].destroy&&this[c].destroy();this[c]=null},this);x([this.handles],function(c){Q(c)},this)}};ab.Navigator=L;J(C.prototype,"zoom",function(v,u,t){var r=this.chart,p=r.options,l=p.chart.zoomType,k=p.chart.pinchType,h=p.navigator,p=p.rangeSelector,g;this.isXAxis&&(h&&h.enabled||p&&p.enabled)&&(!S&&"x"===l||S&&"x"===k?r.resetZoomButton="blocked":"y"===l?g=!1:(!S&&"xy"===l||S&&"xy"===k)&&this.options.range&&(r=this.previousZoom,s(u)?this.previousZoom=[this.min,this.max]:r&&(u=r[0],t=r[1],delete this.previousZoom)));return void 0!==g?g:v.call(this,u,t)});T(i,"beforeRender",function(){var c=this.options;if(c.navigator.enabled||c.scrollbar.enabled){this.scroller=this.navigator=new L(this)}});T(i,"afterSetChartSize",function(){var g=this.legend,c=this.navigator,l,k,h,p;c&&(k=g&&g.options,h=c.xAxis,p=c.yAxis,l=c.scrollbarHeight,this.inverted?(c.left=c.opposite?this.chartWidth-l-c.height:this.spacing[3]+l,c.top=this.plotTop+l):(c.left=this.plotLeft+l,c.top=c.navigatorOptions.top||this.chartHeight-c.height-l-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(k&&"bottom"===k.verticalAlign&&k.enabled&&!k.floating?g.legendHeight+Z(k.margin,10):0)),h&&p&&(this.inverted?h.options.left=p.options.left=c.left:h.options.top=p.options.top=c.top,h.setAxisSize(),p.setAxisSize()))});T(i,"update",function(e){var d=e.options.navigator||{},f=e.options.scrollbar||{};this.navigator||this.scroller||!d.enabled&&!f.enabled||(P(!0,this.options.navigator,d),P(!0,this.options.scrollbar,f),delete e.options.navigator,delete e.options.scrollbar)});T(i,"afterUpdate",function(){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new L(this))});J(O.prototype,"addPoint",function(h,g,p,n,l){var k=this.options.turboThreshold;k&&this.xData.length>k&&M(g,!0)&&this.chart.navigator&&I(20,!0);h.call(this,g,p,n,l)});T(i,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)});T(O,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)});i.prototype.callbacks.push(function(d){var c=d.navigator;c&&d.xAxis[0]&&(d=d.xAxis[0].getExtremes(),c.render(d.min,d.max))})})(b);(function(O){function x(c){this.init(c)}var J=O.addEvent,o=O.Axis,f=O.Chart,i=O.css,m=O.createElement,E=O.defaultOptions,n=O.defined,j=O.destroyObjectProperties,q=O.discardElement,h=O.each,K=O.extend,L=O.fireEvent,M=O.isNumber,s=O.merge,B=O.pick,I=O.pInt,C=O.splat,N=O.wrap;K(E,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0}}});E.lang=s(E.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});x.prototype={clickButton:function(R,P){var Q=this,G=Q.chart,F=Q.buttonOptions[R],y=G.xAxis[0],D=G.scroller&&G.scroller.getUnionExtremes()||y||{},p=D.dataMin,r=D.dataMax,d,W=y&&Math.round(Math.min(y.max,B(r,y.max))),T=F.type,V,D=F._range,U,S,k,H=F.dataGrouping;if(null!==p&&null!==r){G.fixedRange=D;H&&(this.forcedDataGrouping=!0,o.prototype.setDataGrouping.call(y||{chart:this.chart},H,!1));if("month"===T||"year"===T){y?(T={range:F,max:W,chart:G,dataMin:p,dataMax:r},d=y.minFromRange.call(T),M(T.newMax)&&(W=T.newMax)):D=F}else{if(D){d=Math.max(W-D,p),W=Math.min(d+D,r)}else{if("ytd"===T){if(y){void 0===r&&(p=Number.MAX_VALUE,r=Number.MIN_VALUE,h(G.series,function(c){c=c.xData;p=Math.min(c[0],p);r=Math.max(c[c.length-1],r)}),P=!1),W=Q.getYTDExtremes(r,p,G.time.useUTC),d=U=W.min,W=W.max}else{J(G,"beforeRender",function(){Q.clickButton(R)});return}}else{"all"===T&&y&&(d=p,W=r)}}}d+=F._offsetMin;W+=F._offsetMax;Q.setSelected(R);y?y.setExtremes(d,W,B(P,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:F}):(V=C(G.options.xAxis)[0],k=V.range,V.range=D,S=V.min,V.min=U,J(G,"load",function(){V.range=k;V.min=S}))}},setSelected:function(c){this.selected=this.options.selected=c},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(k){var e=this,t=k.options.rangeSelector,r=t.buttons||[].concat(e.defaultButtons),p=t.selected,l=function(){var d=e.minInput,g=e.maxInput;d&&d.blur&&L(d,"blur");g&&g.blur&&L(g,"blur")};e.chart=k;e.options=t;e.buttons=[];k.extraTopMargin=t.height;e.buttonOptions=r;this.unMouseDown=J(k.container,"mousedown",l);this.unResize=J(k,"resize",l);h(r,e.computeButtonRange);void 0!==p&&r[p]&&this.clickButton(p,!1);J(k,"load",function(){k.xAxis&&k.xAxis[0]&&J(k.xAxis[0],"setExtremes",function(d){this.max-this.min!==k.fixedRange&&"rangeSelectorButton"!==d.trigger&&"updatedData"!==d.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var P=this.chart,H=P.xAxis[0],G=Math.round(H.max-H.min),w=!H.hasVisibleSeries,F=P.scroller&&P.scroller.getUnionExtremes()||H,D=F.dataMin,z=F.dataMax,P=this.getYTDExtremes(z,D,P.time.useUTC),y=P.min,v=P.max,R=this.selected,A=M(R),d=this.options.allButtonsEnabled,Q=this.buttons;h(this.buttonOptions,function(S,t){var r=S._range,p=S.type,e=S.count||1,l=Q[t],k=0;S=S._offsetMax-S._offsetMin;t=t===R;var c=r>z-D,u=r<H.minRange,U=!1,T=!1,r=r===G;("month"===p||"year"===p)&&G+3600000>=86400000*{month:28,year:365}[p]*e-S&&G-3600000<=86400000*{month:31,year:366}[p]*e+S?r=!0:"ytd"===p?(r=v-y+S===G,U=!t):"all"===p&&(r=H.max-H.min>=z-D,T=!t&&A&&r);p=!d&&(c||u||T||w);e=t&&r||r&&!A&&!U;p?k=3:e&&(A=!0,k=2);l.state!==k&&l.setState(k)})},computeButtonRange:function(g){var e=g.type,l=g.count||1,k={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(k[e]){g._range=k[e]*l}else{if("month"===e||"year"===e){g._range=86400000*{month:30,year:365}[e]*l}}g._offsetMin=B(g.offsetMin,0);g._offsetMax=B(g.offsetMax,0);g._range+=g._offsetMax-g._offsetMin},setInputValue:function(k,r){var g=this.chart.options.rangeSelector,p=this.chart.time,l=this[k+"Input"];n(r)&&(l.previousValue=l.HCTime,l.HCTime=r);l.value=p.dateFormat(g.inputEditDateFormat||"%Y-%m-%d",l.HCTime);this[k+"DateBox"].attr({text:p.dateFormat(g.inputDateFormat||"%b %e, %Y",l.HCTime)})},showInput:function(e){var d=this.inputGroup,g=this[e+"DateBox"];i(this[e+"Input"],{left:d.translateX+g.x+"px",top:d.translateY+"px",width:g.width-2+"px",height:g.height-2+"px",border:"2px solid silver"})},hideInput:function(c){i(this[c+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(c)},drawInput:function(F){function D(){var e=v.value,c=(w.inputDateParser||Date.parse)(e),k=z.xAxis[0],p=z.scroller&&z.scroller.xAxis?z.scroller.xAxis:k,g=p.dataMin,p=p.dataMax;c!==v.previousValue&&(v.previousValue=c,M(c)||(c=e.split("-"),c=Date.UTC(I(c[0]),I(c[1])-1,I(c[2]))),M(c)&&(z.time.useUTC||(c+=60000*(new Date).getTimezoneOffset()),u?c>A.maxInput.HCTime?c=void 0:c<g&&(c=g):c<A.minInput.HCTime?c=void 0:c>p&&(c=p),void 0!==c&&k.setExtremes(u?c:k.min,u?k.max:c,void 0,void 0,{trigger:"rangeSelectorInput"})))}var A=this,z=A.chart,y=z.renderer,w=z.options.rangeSelector,l=A.div,u="min"===F,v,G,d=this.inputGroup;this[F+"Label"]=G=y.label(E.lang[u?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(d);d.offset+=G.width+5;this[F+"DateBox"]=y=y.label("",d.offset).addClass("highcharts-range-input").attr({padding:2,width:w.inputBoxWidth||90,height:w.inputBoxHeight||17,stroke:w.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){A.showInput(F);A[F+"Input"].focus()}).add(d);d.offset+=y.width+(u?10:0);this[F+"Input"]=v=m("input",{name:F,className:"highcharts-range-selector",type:"text"},{top:z.plotTop+"px"},l);v.onfocus=function(){A.showInput(F)};v.onblur=function(){A.hideInput(F)};v.onchange=D;v.onkeypress=function(c){13===c.keyCode&&D()}},getPosition:function(){var d=this.chart,e=d.options.rangeSelector,d="top"===e.verticalAlign?d.plotTop-d.axisOffset[0]:0;return{buttonTop:d+e.buttonPosition.y,inputTop:d+e.inputPosition.y-10}},getYTDExtremes:function(k,t,r){var g=this.chart.time,p=new g.Date(k),l=g.get("FullYear",p);r=r?g.Date.UTC(l,0,1):+new g.Date(l,0,1);t=Math.max(t||0,r);p=p.getTime();return{max:Math.min(k||p,p),min:t}},render:function(av,at){var au=this,ar=au.chart,aq=ar.renderer,ap=ar.container,ao=ar.options,al=ao.exporting&&!1!==ao.exporting.enabled&&ao.navigation&&ao.navigation.buttonOptions,am=E.lang,an=au.div,ak=ao.rangeSelector,ao=ak.floating,ai=au.buttons,an=au.inputGroup,ah=ak.buttonTheme,af=ak.buttonPosition,ae=ak.inputPosition,ab=ak.inputEnabled,aj=ah&&ah.states,ag=ar.plotLeft,ad,aa=au.buttonGroup,ac;ac=au.rendered;var W=au.options.verticalAlign,G=ar.legend,A=G&&G.options,y=af.y,V=ae.y,r=ac||!1,X=0,Z=0,Y;if(!1!==ak.enabled){ac||(au.group=ac=aq.g("range-selector-group").attr({zIndex:7}).add(),au.buttonGroup=aa=aq.g("range-selector-buttons").add(ac),au.zoomText=aq.text(am.rangeSelectorZoom,B(ag+af.x,ag),15).css(ak.labelStyle).add(aa),ad=B(ag+af.x,ag)+au.zoomText.getBBox().width+5,h(au.buttonOptions,function(d,e){ai[e]=aq.button(d.text,ad,0,function(){var g=d.events&&d.events.click,c;g&&(c=g.call(d));!1!==c&&au.clickButton(e);au.isActive=!0},ah,aj&&aj.hover,aj&&aj.select,aj&&aj.disabled).attr({"text-align":"center"}).add(aa);ad+=ai[e].width+B(ak.buttonSpacing,5)}),!1!==ab&&(au.div=an=m("div",null,{position:"relative",height:0,zIndex:1}),ap.parentNode.insertBefore(an,ap),au.inputGroup=an=aq.g("input-group").add(ac),an.offset=0,au.drawInput("min"),au.drawInput("max")));ag=ar.plotLeft-ar.spacing[3];au.updateButtonStates();al&&this.titleCollision(ar)&&"top"===W&&"right"===af.align&&af.y+aa.getBBox().height-12<(al.y||0)+al.height&&(X=-40);"left"===af.align?Y=af.x-ar.spacing[3]:"right"===af.align&&(Y=af.x+X-ar.spacing[1]);aa.align({y:af.y,width:aa.getBBox().width,align:af.align,x:Y},!0,ar.spacingBox);au.group.placed=r;au.buttonGroup.placed=r;!1!==ab&&(X=al&&this.titleCollision(ar)&&"top"===W&&"right"===ae.align&&ae.y-an.getBBox().height-12<(al.y||0)+al.height+ar.spacing[0]?-40:0,"left"===ae.align?Y=ag:"right"===ae.align&&(Y=-Math.max(ar.axisOffset[1],-X)),an.align({y:ae.y,width:an.getBBox().width,align:ae.align,x:ae.x+Y-2},!0,ar.spacingBox),ap=an.alignAttr.translateX+an.alignOptions.x-X+an.getBBox().x+2,al=an.alignOptions.width,am=aa.alignAttr.translateX+aa.getBBox().x,Y=aa.getBBox().width+20,(ae.align===af.align||am+Y>ap&&ap+al>am&&y<V+an.getBBox().height)&&an.attr({translateX:an.alignAttr.translateX+(ar.axisOffset[1]>=-X?0:-X),translateY:an.alignAttr.translateY+aa.getBBox().height+10}),au.setInputValue("min",av),au.setInputValue("max",at),au.inputGroup.placed=r);au.group.align({verticalAlign:W},!0,ar.spacingBox);av=au.group.getBBox().height+20;at=au.group.alignAttr.translateY;"bottom"===W&&(G=A&&"bottom"===A.verticalAlign&&A.enabled&&!A.floating?G.legendHeight+B(A.margin,10):0,av=av+G-20,Z=at-av-(ao?0:ak.y)-10);if("top"===W){ao&&(Z=0),ar.titleOffset&&(Z=ar.titleOffset+ar.options.title.margin),Z+=ar.margin[0]-ar.spacing[0]||0}else{if("middle"===W){if(V===y){Z=0>V?at+void 0:at}else{if(V||y){Z=0>V||0>y?Z-Math.min(V,y):at-av+NaN}}}}au.group.translate(ak.x,ak.y+Math.floor(Z));!1!==ab&&(au.minInput.style.marginTop=au.group.translateY+"px",au.maxInput.style.marginTop=au.group.translateY+"px");au.rendered=!0}},getHeight:function(){var g=this.options,p=this.group,l=g.y,k=g.buttonPosition.y,g=g.inputPosition.y,p=p?p.getBBox(!0).height+13+l:0,l=Math.min(g,k);if(0>g&&0>k||0<g&&0<k){p+=Math.abs(l)}return p},titleCollision:function(c){return !(c.options.title.text||c.options.subtitle.text)},update:function(d){var c=this.chart;s(!0,c.options.rangeSelector,d);this.destroy();this.init(c);c.rangeSelector.render()},destroy:function(){var e=this,k=e.minInput,g=e.maxInput;e.unMouseDown();e.unResize();j(e.buttons);k&&(k.onfocus=k.onblur=k.onchange=null);g&&(g.onfocus=g.onblur=g.onchange=null);O.objectEach(e,function(d,l){d&&"chart"!==l&&(d.destroy?d.destroy():d.nodeType&&q(this[l]));d!==x.prototype[l]&&(e[l]=null)},this)}};o.prototype.toFixedRange=function(k,r,p,l){var d=this.chart&&this.chart.fixedRange;k=B(p,this.translate(k,!0,!this.horiz));r=B(l,this.translate(r,!0,!this.horiz));p=d&&(r-k)/d;0.7<p&&1.3>p&&(l?k=r-d:r=k+d);M(k)&&M(r)||(k=r=void 0);return{min:k,max:r}};o.prototype.minFromRange=function(){var p=this.range,w={month:"Month",year:"FullYear"}[p.type],v,u=this.max,d,t,r=function(g,c){var l=new Date(g),k=l["get"+w]();l["set"+w](k+c);k===l["get"+w]()&&l.setDate(0);return l.getTime()-g};M(p)?(v=u-p,t=p):(v=u+r(u,-p.count),this.chart&&(this.chart.fixedRange=u-v));d=B(this.dataMin,Number.MIN_VALUE);M(v)||(v=d);v<=d&&(v=d,void 0===t&&(t=r(v,p.count)),this.newMax=Math.min(v+t,this.dataMax));M(u)||(v=void 0);return v};J(f,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new x(this))});N(f.prototype,"render",function(k,r,p){var g=this.axes,l=this.rangeSelector;l&&(h(g,function(c){c.updateNames();c.setScale()}),this.getAxisMargins(),l.render(),g=l.options.verticalAlign,l.options.floating||("bottom"===g?this.extraBottomMargin=!0:"middle"!==g&&(this.extraTopMargin=!0)));k.call(this,r,p)});J(f,"update",function(d){var c=d.options;d=this.rangeSelector;this.extraTopMargin=this.extraBottomMargin=!1;this.isDirtyBox=!0;d&&(d.render(),c=c.rangeSelector&&c.rangeSelector.verticalAlign||d.options&&d.options.verticalAlign,d.options.floating||("bottom"===c?this.extraBottomMargin=!0:"middle"!==c&&(this.extraTopMargin=!0)))});N(f.prototype,"redraw",function(g,l,k){var e=this.rangeSelector;e&&!e.options.floating&&(e.render(),e=e.options.verticalAlign,"bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0));g.call(this,l,k)});J(f,"getMargins",function(){var c=this.rangeSelector;c&&(c=c.getHeight(),this.extraTopMargin&&(this.plotTop+=c),this.extraBottomMargin&&(this.marginBottom+=c))});f.prototype.callbacks.push(function(k){function d(){t=k.xAxis[0].getExtremes();M(t.min)&&r.render(t.min,t.max)}var t,r=k.rangeSelector,p,l;r&&(l=J(k.xAxis[0],"afterSetExtremes",function(c){r.render(c.min,c.max)}),p=J(k,"redraw",d),d());J(k,"destroy",function(){r&&(p(),l())})});O.RangeSelector=x})(b);(function(X){var J=X.addEvent,Q=X.arrayMax,x=X.arrayMin,h=X.Axis,j=X.Chart,o=X.defined,N=X.each,s=X.format,m=X.grep,B=X.inArray,i=X.isNumber,R=X.isString,T=X.map,U=X.merge,I=X.pick,K=X.Point,P=X.Series,M=X.splat,V=X.SVGRenderer,W=X.wrap,S=P.prototype,L=S.init,O=S.processData,C=K.prototype.tooltipFormatter;X.StockChart=X.stockChart=function(D,A,t){var z=R(D)||D.nodeName,y=arguments[z?1:0],v=y.series,w=X.getOptions(),p,e=I(y.navigator&&y.navigator.enabled,w.navigator.enabled,!0),d=e?{startOnTick:!1,endOnTick:!1}:null,g={marker:{enabled:!1,radius:2}},E={shadow:!1,borderWidth:0};y.xAxis=T(M(y.xAxis||{}),function(f,c){return U({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},w.xAxis,w.xAxis&&w.xAxis[c],f,{type:"datetime",categories:null},d)});y.yAxis=T(M(y.yAxis||{}),function(f,c){p=I(f.opposite,!0);return U({labels:{y:-2},opposite:p,showLastLabel:!(!f.categories&&"category"!==f.type),title:{text:null}},w.yAxis,w.yAxis&&w.yAxis[c],f)});y.series=null;y=U({chart:{panning:!0,pinchType:"x"},navigator:{enabled:e},scrollbar:{enabled:I(w.scrollbar.enabled,!0)},rangeSelector:{enabled:I(w.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:I(w.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1},plotOptions:{line:g,spline:g,area:g,areaspline:g,arearange:g,areasplinerange:g,column:E,columnrange:E,candlestick:E,ohlc:E}},y,{isStock:!0});y.series=v;return z?new j(D,y,t):new j(y,A)};W(h.prototype,"autoLabelAlign",function(f){var e=this.chart,k=this.options,e=e._labelPanes=e._labelPanes||{},g=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&(k=k.top+","+k.height,!e[k]&&g.enabled)?(15===g.x&&(g.x=0),void 0===g.align&&(g.align="right"),e[k]=this,"right"):f.apply(this,[].slice.call(arguments,1))});J(h,"destroy",function(){var d=this.chart,c=this.options&&this.options.top+","+this.options.height;c&&d._labelPanes&&d._labelPanes[c]===this&&delete d._labelPanes[c]});W(h.prototype,"getPlotLinePath",function(ai,ah,ag,af,ad,ac){var ae=this,ab=this.isLinked&&!this.series?this.linkedParent.series:this.series,aa=ae.chart,Z=aa.renderer,Y=ae.left,G=ae.top,H,g,u,t,F=[],e=[],A,y;if("xAxis"!==ae.coll&&"yAxis"!==ae.coll){return ai.apply(this,[].slice.call(arguments,1))}e=function(d){var c="xAxis"===d?"yAxis":"xAxis";d=ae.options[c];return i(d)?[aa[c][d]]:R(d)?[aa.get(d)]:T(ab,function(f){return f[c]})}(ae.coll);N(ae.isXAxis?aa.yAxis:aa.xAxis,function(d){if(o(d.options.id)?-1===d.options.id.indexOf("navigator"):1){var c=d.isXAxis?"yAxis":"xAxis",c=o(d.options[c])?aa[c][d.options[c]]:aa[c][0];ae===c&&e.push(d)}});A=e.length?[]:[ae.isXAxis?aa.yAxis[0]:aa.xAxis[0]];N(e,function(c){-1!==B(c,A)||X.find(A,function(d){return d.pos===c.pos&&d.len&&c.len})||A.push(c)});y=I(ac,ae.translate(ah,null,null,af));i(y)&&(ae.horiz?N(A,function(d){var c;g=d.pos;t=g+d.len;H=u=Math.round(y+ae.transB);if(H<Y||H>Y+ae.width){ad?H=u=Math.min(Math.max(Y,H),Y+ae.width):c=!0}c||F.push("M",H,g,"L",u,t)}):N(A,function(d){var c;H=d.pos;u=H+d.len;g=t=Math.round(G+ae.height-y);if(g<G||g>G+ae.height){ad?g=t=Math.min(Math.max(G,g),ae.top+ae.height):c=!0}c||F.push("M",H,g,"L",u,t)}));return 0<F.length?Z.crispPolyLine(F,ag||1):null});V.prototype.crispPolyLine=function(e,d){var f;for(f=0;f<e.length;f+=6){e[f+1]===e[f+4]&&(e[f+1]=e[f+4]=Math.round(e[f+1])-d%2/2),e[f+2]===e[f+5]&&(e[f+2]=e[f+5]=Math.round(e[f+2])+d%2/2)}return e};W(h.prototype,"hideCrosshair",function(d,c){d.call(this,c);this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});J(h,"afterDrawCrosshair",function(aa){var Z,Y;if(o(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var H=this.chart,G=this.options.crosshair.label,F=this.horiz;Z=this.opposite;Y=this.left;var E=this.top,D=this.crossLabel,A=G.format,z="",y="inside"===this.options.tickPosition,w=!1!==this.crosshair.snap,v=0,t=aa.e||this.cross&&this.cross.e,ab=aa.point;aa=F?"center":Z?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";D||(D=this.crossLabel=H.renderer.label(null,null,null,G.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:G.align||aa,padding:I(G.padding,8),r:I(G.borderRadius,3),zIndex:2}).add(this.labelGroup));F?(aa=w?ab.plotX+Y:t.chartX,E+=Z?0:this.height):(aa=Z?this.width+Y:0,E=w?ab.plotY+E:t.chartY);A||G.formatter||(this.isDatetimeAxis&&(z="%b %d, %Y"),A="{value"+(z?":"+z:"")+"}");z=w?ab[this.isXAxis?"x":"y"]:this.toValue(F?t.chartX:t.chartY);D.attr({text:A?s(A,{value:z},H.time):G.formatter.call(this,z),x:aa,y:E,visibility:z<this.min||z>this.max?"hidden":"visible"});G=D.getBBox();if(F){if(y&&!Z||!y&&Z){E=D.y-G.height}}else{E=D.y-G.height/2}F?(Z=Y-G.x,Y=Y+this.width-G.x):(Z="left"===this.labelAlign?Y:0,Y="right"===this.labelAlign?Y+this.width:H.chartWidth);D.translateX<Z&&(v=Z-D.translateX);D.translateX+G.width>=Y&&(v=-(D.translateX+G.width-Y));D.attr({x:aa+v,y:E,anchorX:F?aa:this.opposite?0:H.chartWidth,anchorY:F?this.opposite?H.chartHeight:0:E+G.height/2})}});S.init=function(){L.apply(this,arguments);this.setCompare(this.options.compare)};S.setCompare=function(c){this.modifyValue="value"===c||"percent"===c?function(e,g){var f=this.compareValue;if(void 0!==e&&void 0!==f){return e="value"===c?e-f:e/f*100-(100===this.options.compareBase?0:100),g&&(g.change=e),e}}:null;this.userOptions.compare=c;this.chart.hasRendered&&(this.isDirty=!0)};S.processData=function(){var l,k=-1,t,r,q=!0===this.options.compareStart?0:1,p,n;O.apply(this,arguments);if(this.xAxis&&this.processedYData){for(t=this.processedXData,r=this.processedYData,p=r.length,this.pointArrayMap&&(k=B("close",this.pointArrayMap),-1===k&&(k=B(this.pointValKey||"y",this.pointArrayMap))),l=0;l<p-q;l++){if(n=r[l]&&-1<k?r[l][k]:r[l],i(n)&&t[l+q]>=this.xAxis.min&&0!==n){this.compareValue=n;break}}}};W(S,"getExtremes",function(d){var c;d.apply(this,[].slice.call(arguments,1));this.modifyValue&&(c=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=x(c),this.dataMax=Q(c))});h.prototype.setCompare=function(d,c){this.isXAxis||(N(this.series,function(e){e.setCompare(d)}),I(c,!0)&&this.chart.redraw())};K.prototype.tooltipFormatter=function(c){c=c.replace("{point.change}",(0<this.change?"+":"")+X.numberFormat(this.change,I(this.series.tooltipOptions.changeDecimals,2)));return C.apply(this,[c])};W(P.prototype,"render",function(d){var c;this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(c=this.yAxis.len-(this.xAxis.axisLine?Math.floor(this.xAxis.axisLine.strokeWidth()/2):0),!this.clipBox&&this.animate?(this.clipBox=U(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=c):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:c}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=c));d.call(this)});W(j.prototype,"getSelectedPoints",function(d){var c=d.call(this);N(this.series,function(e){e.hasGroupedData&&(c=c.concat(m(e.points||[],function(f){return f.selected})))});return c});J(j,"update",function(c){c=c.options;"scrollbar" in c&&this.navigator&&(U(!0,this.options.scrollbar,c.scrollbar),this.navigator.update({},!1),delete c.scrollbar)})})(b)});