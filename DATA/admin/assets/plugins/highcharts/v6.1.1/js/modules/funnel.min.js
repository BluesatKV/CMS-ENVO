(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(d){var h=d.seriesType,i=d.seriesTypes,c=d.noop,f=d.pick,b=d.each;h("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0},{animate:c,translate:function(){var af=function(g,e){return/%$/.test(g)?e*parseInt(g,10)/100:parseInt(g,10)},M=0,ae=this.chart,ab=this.options,ad=ab.reversed,ac=ab.ignoreHiddenPoint,N=ae.plotWidth,ae=ae.plotHeight,S=0,aa=ab.center,Z=af(aa[0],N),Q=af(aa[1],ae),P=af(ab.width,N),X,J,W=af(ab.height,ae),H=af(ab.neckWidth,N),L=af(ab.neckHeight,ae),s=Q-W/2+W-L,af=this.data,j,U,O="left"===ab.dataLabels.position?1:0,R,V,I,K,Y,o,T;this.getWidthAt=J=function(g){var e=Q-W/2;return g>s||W===L?H:H+(P-H)*(1-(g-e)/(W-L))};this.getX=function(g,e,k){return Z+(e?-1:1)*(J(ad?2*Q-g:g)/2+k.labelDistance)};this.center=[Z,Q,W];this.centerX=Z;b(af,function(e){ac&&!1===e.visible||(M+=e.y)});b(af,function(e){T=null;U=M?e.y/M:0;V=Q-W/2+S*W;Y=V+U*W;X=J(V);R=Z-X/2;I=R+X;X=J(Y);K=Z-X/2;o=K+X;V>s?(R=K=Z-H/2,I=o=Z+H/2):Y>s&&(T=Y,X=J(s),K=Z-X/2,o=K+X,Y=s);ad&&(V=2*Q-V,Y=2*Q-Y,null!==T&&(T=2*Q-T));j=["M",R,V,"L",I,V,o,Y];null!==T&&j.push(o,T,K,T);j.push(K,Y,"Z");e.shapeType="path";e.shapeArgs={d:j};e.percentage=100*U;e.plotX=Z;e.plotY=(V+(T||Y))/2;e.tooltipPos=[Z,e.plotY];e.slice=c;e.half=O;ac&&!1===e.visible||(S+=U)})},sortByAngle:function(e){e.sort(function(g,j){return g.plotY-j.plotY})},drawDataLabels:function(){var j=this.data,o=this.options.dataLabels.distance,r,n,p,l=j.length,k,m;for(this.center[2]-=2*o;l--;){p=j[l],n=(r=p.half)?1:-1,m=p.plotY,p.labelDistance=f(p.options.dataLabels&&p.options.dataLabels.distance,o),this.maxLabelDistance=Math.max(p.labelDistance,this.maxLabelDistance||0),k=this.getX(m,r,p),p.labelPos=[0,m,k+(p.labelDistance-5)*n,m,k+p.labelDistance*n,m,r?"right":"left",0]}i.pie.prototype.drawDataLabels.call(this)}});h("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})})(a)});