(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(W){var o,V;V=W.Chart;var R=W.createElement,T=W.css,H=W.defined,S=W.deg2rad,s=W.discardElement,U=W.doc,m=W.each,q=W.erase,Q=W.extend;o=W.extendClass;var e=W.isArray,i=W.isNumber,K=W.isObject,c=W.merge,g=W.noop,k=W.pick,z=W.pInt,J=W.svg,j=W.SVGElement,r=W.SVGRenderer,p=W.win,b=W.wrap;W.getOptions().global.VMLRadialGradientURL="http://code.highcharts.com/6.1.1/gfx/vml-radial-gradient.png";U&&!U.defaultView&&(W.getStyle=function(f,d){var h={width:"clientWidth",height:"clientHeight"}[d];if(f.style[d]){return W.pInt(f.style[d])}"opacity"===d&&(d="filter");if(h){return f.style.zoom=1,Math.max(f[h]-2*W.getStyle(f,"padding"),0)}f=f.currentStyle[d.replace(/\-(\w)/g,function(n,l){return l.toUpperCase()})];"filter"===d&&(f=f.replace(/alpha\(opacity=([0-9]+)\)/,function(n,l){return l/100}));return""===f?1:W.pInt(f)});Array.prototype.forEach||(W.forEachPolyfill=function(f,d){for(var l=0,h=this.length;l<h;l++){if(!1===f.call(d,this[l],l,this)){return l}}});Array.prototype.indexOf||(W.indexOfPolyfill=function(f){var d,h=0;if(f){for(d=f.length;h<d;h++){if(f[h]===this){return h}}}return -1});Array.prototype.filter||(W.filterPolyfill=function(f){for(var d=[],l=0,h=this.length;l<h;l++){f(this[l],l)&&d.push(this[l])}return d});Array.prototype.some||(W.some=function(f,d){for(var l=0,h=this.length;l<h&&!0!==f.call(d,this[l],l,this);l++){}});Object.prototype.keys||(W.keysPolyfill=function(f){var d=[],l=Object.prototype.hasOwnProperty,h;for(h in f){l.call(f,h)&&d.push(h)}return d});Array.prototype.reduce||(W.reducePolyfill=function(f,d){for(var n=1<arguments.length?0:1,l=1<arguments.length?d:this[0],h=this.length;n<h;++n){l=f.call(this,l,this[n],n,this)}return l});J||(b(W.SVGRenderer.prototype,"text",function(d){return d.apply(this,Array.prototype.slice.call(arguments,1)).css({position:"absolute"})}),W.Pointer.prototype.normalize=function(f,d){f=f||p.event;f.target||(f.target=f.srcElement);d||(this.chartPosition=d=W.offset(this.chart.container));return W.extend(f,{chartX:Math.round(Math.max(f.x,f.clientX-d.left)),chartY:Math.round(f.y)})},V.prototype.ieSanitizeSVG=function(d){return d=d.replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(f){return f.toLowerCase()})},V.prototype.isReadyToRender=function(){var d=this;return J||p!=p.top||"complete"===U.readyState?!0:(U.attachEvent("onreadystatechange",function(){U.detachEvent("onreadystatechange",d.firstRender);"complete"===U.readyState&&d.firstRender()}),!1)},U.createElementNS||(U.createElementNS=function(f,d){return U.createElement(d)}),W.addEventListenerPolyfill=function(f,d){function l(n){n.target=n.srcElement||p;d.call(h,n)}var h=this;h.attachEvent&&(h.hcEventsIE||(h.hcEventsIE={}),d.hcKey||(d.hcKey=W.uniqueKey()),h.hcEventsIE[d.hcKey]=l,h.attachEvent("on"+f,l))},W.removeEventListenerPolyfill=function(f,d){this.detachEvent&&(d=this.hcEventsIE[d.hcKey],this.detachEvent("on"+f,d))},V={docMode8:U&&8===U.documentMode,init:function(h,f){var t=["\x3c",f,' filled\x3d"f" stroked\x3d"f"'],l=["position: ","absolute",";"],n="div"===f;("shape"===f||n)&&l.push("left:0;top:0;width:1px;height:1px;");l.push("visibility: ",n?"hidden":"visible");t.push(' style\x3d"',l.join(""),'"/\x3e');f&&(t=n||"span"===f||"img"===f?t.join(""):h.prepVML(t),this.element=R(t));this.renderer=h},add:function(h){var f=this.renderer,t=this.element,l=f.box,n=h&&h.inverted,l=h?h.element||h:l;h&&(this.parentGroup=h);n&&f.invertChild(t,l);l.appendChild(t);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}this.className&&this.attr("class",this.className);return this},updateTransform:j.prototype.htmlUpdateTransform,setSpanRotation:function(){var f=this.rotation,d=Math.cos(f*S),h=Math.sin(f*S);T(this.element,{filter:f?["progid:DXImageTransform.Microsoft.Matrix(M11\x3d",d,", M12\x3d",-h,", M21\x3d",h,", M22\x3d",d,", sizingMethod\x3d'auto expand')"].join(""):"none"})},getSpanCorrection:function(y,w,v,t,u){var l=t?Math.cos(t*S):1,x=t?Math.sin(t*S):0,f=k(this.elemHeight,this.element.offsetHeight),n;this.xCorr=0>l&&-y;this.yCorr=0>x&&-f;n=0>l*x;this.xCorr+=x*w*(n?1-v:v);this.yCorr-=l*w*(t?n?v:1-v:1);u&&"left"!==u&&(this.xCorr-=y*v*(0>l?-1:1),t&&(this.yCorr-=f*v*(0>x?-1:1)),T(this.element,{textAlign:u}))},pathToVML:function(f){for(var d=f.length,h=[];d--;){i(f[d])?h[d]=Math.round(10*f[d])-5:"Z"===f[d]?h[d]="x":(h[d]=f[d],!f.isArc||"wa"!==f[d]&&"at"!==f[d]||(h[d+5]===h[d+7]&&(h[d+7]+=f[d+7]>f[d+5]?1:-1),h[d+6]===h[d+8]&&(h[d+8]+=f[d+8]>f[d+6]?1:-1)))}return h.join(" ")||"x"},clip:function(f){var d=this,h;f?(h=f.members,q(h,d),h.push(d),d.destroyClip=function(){q(h,d)},f=f.getCSS(d)):(d.destroyClip&&d.destroyClip(),f={clip:d.docMode8?"inherit":"rect(auto)"});return d.css(f)},css:j.prototype.htmlCss,safeRemoveChild:function(d){d.parentNode&&s(d)},destroy:function(){this.destroyClip&&this.destroyClip();return j.prototype.destroy.apply(this)},on:function(f,d){this.element["on"+f]=function(){var h=p.event;h.target=h.srcElement;d(h)};return this},cutOffPath:function(f,d){var h;f=f.split(/[ ,]/);h=f.length;if(9===h||11===h){f[h-4]=f[h-2]=z(f[h-2])-10*d}return f.join(" ")},shadow:function(L,I,F){var D=[],E,B=this.element,A=this.renderer,u,C=B.style,y,t=B.path,G,w,x,v;t&&"string"!==typeof t.value&&(t="x");w=t;if(L){x=k(L.width,3);v=(L.opacity||0.15)/x;for(E=1;3>=E;E++){G=2*x+1-2*E,F&&(w=this.cutOffPath(t.value,G+0.5)),y=['\x3cshape isShadow\x3d"true" strokeweight\x3d"',G,'" filled\x3d"false" path\x3d"',w,'" coordsize\x3d"10 10" style\x3d"',B.style.cssText,'" /\x3e'],u=R(A.prepVML(y),null,{left:z(C.left)+k(L.offsetX,1),top:z(C.top)+k(L.offsetY,1)}),F&&(u.cutOff=G+1),y=['\x3cstroke color\x3d"',L.color||"#000000",'" opacity\x3d"',v*E,'"/\x3e'],R(A.prepVML(y),null,null,u),I?I.element.appendChild(u):B.parentNode.insertBefore(u,B),D.push(u)}this.shadows=D}return this},updateShadows:g,setAttr:function(f,d){this.docMode8?this.element[f]=d:this.element.setAttribute(f,d)},getAttr:function(d){return this.docMode8?this.element[d]:this.element.getAttribute(d)},classSetter:function(d){(this.added?this.element:this).className=d},dashstyleSetter:function(f,d,h){(h.getElementsByTagName("stroke")[0]||R(this.renderer.prepVML(["\x3cstroke/\x3e"]),null,null,h))[d]=f||"solid";this[d]=f},dSetter:function(f,d,l){var h=this.shadows;f=f||[];this.d=f.join&&f.join(" ");l.path=f=this.pathToVML(f);if(h){for(l=h.length;l--;){h[l].path=h[l].cutOff?this.cutOffPath(f,h[l].cutOff):f}}this.setAttr(d,f)},fillSetter:function(f,d,l){var h=l.nodeName;"SPAN"===h?l.style.color=f:"IMG"!==h&&(l.filled="none"!==f,this.setAttr("fillcolor",this.renderer.color(f,l,d,this)))},"fill-opacitySetter":function(f,d,h){R(this.renderer.prepVML(["\x3c",d.split("-")[0],' opacity\x3d"',f,'"/\x3e']),null,null,h)},opacitySetter:g,rotationSetter:function(f,d,h){h=h.style;this[d]=h[d]=f;h.left=-Math.round(Math.sin(f*S)+1)+"px";h.top=Math.round(Math.cos(f*S))+"px"},strokeSetter:function(f,d,h){this.setAttr("strokecolor",this.renderer.color(f,h,d,this))},"stroke-widthSetter":function(f,d,h){h.stroked=!!f;this[d]=f;i(f)&&(f+="px");this.setAttr("strokeweight",f)},titleSetter:function(f,d){this.setAttr(d,f)},visibilitySetter:function(f,d,h){"inherit"===f&&(f="visible");this.shadows&&m(this.shadows,function(l){l.style[d]=f});"DIV"===h.nodeName&&(f="hidden"===f?"-999em":0,this.docMode8||(h.style[d]=f?"visible":"hidden"),d="top");h.style[d]=f},xSetter:function(f,d,h){this[d]=f;"x"===d?d="left":"y"===d&&(d="top");this.updateClipping?(this[d]=f,this.updateClipping()):h.style[d]=f},zIndexSetter:function(f,d,h){h.style[d]=f},fillGetter:function(){return this.getAttr("fillcolor")||""},strokeGetter:function(){return this.getAttr("strokecolor")||""},classGetter:function(){return this.getAttr("className")||""}},V["stroke-opacitySetter"]=V["fill-opacitySetter"],W.VMLElement=V=o(j,V),V.prototype.ySetter=V.prototype.widthSetter=V.prototype.heightSetter=V.prototype.xSetter,V={Element:V,isIE8:-1<p.navigator.userAgent.indexOf("MSIE 8.0"),init:function(h,f,u){var n,t;this.alignedObjects=[];n=this.createElement("div").css({position:"relative"});t=n.element;h.appendChild(n.element);this.isVML=!0;this.box=t;this.boxWrapper=n;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(f,u,!1);if(!U.namespaces.hcv){U.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{U.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(l){U.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(h,f,u,n){var t=this.createElement(),l=K(h);return Q(t,{members:[],count:0,left:(l?h.x:h)+1,top:(l?h.y:f)+1,width:(l?h.width:u)-1,height:(l?h.height:n)-1,getCSS:function(w){var v=w.element,C=v.nodeName,A=w.inverted,B=this.top-("shape"===C?v.offsetTop:0),x=this.left,v=x+this.width,y=B+this.height,B={clip:"rect("+Math.round(A?x:B)+"px,"+Math.round(A?y:v)+"px,"+Math.round(A?v:y)+"px,"+Math.round(A?B:x)+"px)"};!A&&w.docMode8&&"DIV"===C&&Q(B,{width:v+"px",height:y+"px"});return B},updateClipping:function(){m(t.members,function(d){d.element&&d.css(t.getCSS(d))})}})},color:function(aq,ap,ao,an){var af=this,al,ak=/^rgba/,ae,am,aj="none";aq&&aq.linearGradient?am="gradient":aq&&aq.radialGradient&&(am="pattern");if(am){var ac,ai,ah=aq.linearGradient||aq.radialGradient,ag,Z,X,O,M,I="";aq=aq.stops;var A,ad=[],ab=function(){ae=['\x3cfill colors\x3d"'+ad.join(",")+'" opacity\x3d"',X,'" o:opacity2\x3d"',Z,'" type\x3d"',am,'" ',I,'focus\x3d"100%" method\x3d"any" /\x3e'];R(af.prepVML(ae),null,null,ap)};ag=aq[0];A=aq[aq.length-1];0<ag[0]&&aq.unshift([0,ag[1]]);1>A[0]&&aq.push([1,A[1]]);m(aq,function(h,f){ak.test(h[1])?(al=W.color(h[1]),ac=al.get("rgb"),ai=al.get("a")):(ac=h[1],ai=1);ad.push(100*h[0]+"% "+ac);f?(X=ai,O=ac):(Z=ai,M=ac)});if("fill"===ao){if("gradient"===am){ao=ah.x1||ah[0]||0,aq=ah.y1||ah[1]||0,ag=ah.x2||ah[2]||0,ah=ah.y2||ah[3]||0,I='angle\x3d"'+(90-180*Math.atan((ah-aq)/(ag-ao))/Math.PI)+'"',ab()}else{var aj=ah.r,aa=2*aj,Y=2*aj,P=ah.cx,N=ah.cy,L=ap.radialReference,d,aj=function(){L&&(d=an.getBBox(),P+=(L[0]-d.x)/d.width-0.5,N+=(L[1]-d.y)/d.height-0.5,aa*=L[2]/d.width,Y*=L[2]/d.height);I='src\x3d"'+W.getOptions().global.VMLRadialGradientURL+'" size\x3d"'+aa+","+Y+'" origin\x3d"0.5,0.5" position\x3d"'+P+","+N+'" color2\x3d"'+M+'" ';ab()};an.added?aj():an.onAdd=aj;aj=O}}else{aj=ac}}else{ak.test(aq)&&"IMG"!==ap.tagName?(al=W.color(aq),an[ao+"-opacitySetter"](al.get("a"),ao,ap),aj=al.get("rgb")):(aj=ap.getElementsByTagName(ao),aj.length&&(aj[0].opacity=1,aj[0].type="solid"),aj=aq)}return aj},prepVML:function(f){var d=this.isIE8;f=f.join("");d?(f=f.replace("/\x3e",' xmlns\x3d"urn:schemas-microsoft-com:vml" /\x3e'),f=-1===f.indexOf('style\x3d"')?f.replace("/\x3e",' style\x3d"display:inline-block;behavior:url(#default#VML);" /\x3e'):f.replace('style\x3d"','style\x3d"display:inline-block;behavior:url(#default#VML);')):f=f.replace("\x3c","\x3chcv:");return f},text:r.prototype.html,path:function(f){var d={coordsize:"10 10"};e(f)?d.d=f:K(f)&&Q(d,f);return this.createElement("shape").attr(d)},circle:function(f,d,l){var h=this.symbol("circle");K(f)&&(l=f.r,d=f.y,f=f.x);h.isCircle=!0;h.r=l;return h.attr({x:f,y:d})},g:function(f){var d;f&&(d={className:"highcharts-"+f,"class":"highcharts-"+f});return this.createElement("div").attr(d)},image:function(h,f,u,n,t){var l=this.createElement("img").attr({src:h});1<arguments.length&&l.attr({x:f,y:u,width:n,height:t});return l},createElement:function(d){return"rect"===d?this.symbol(d):r.prototype.createElement.call(this,d)},invertChild:function(f,d){var l=this;d=d.style;var h="IMG"===f.tagName&&f.style;T(f,{flip:"x",left:z(d.width)-(h?z(h.top):1),top:z(d.height)-(h?z(h.left):1),rotation:-90});m(f.childNodes,function(n){l.invertChild(n,f)})},symbols:{arc:function(D,C,B,y,A){var w=A.start,v=A.end,x=A.r||B||y;B=A.innerR;y=Math.cos(w);var n=Math.sin(w),u=Math.cos(v),t=Math.sin(v);if(0===v-w){return["x"]}w=["wa",D-x,C-x,D+x,C+x,D+x*y,C+x*n,D+x*u,C+x*t];A.open&&!B&&w.push("e","M",D,C);w.push("at",D-B,C-B,D+B,C+B,D+B*u,C+B*t,D+B*y,C+B*n,"x","e");w.isArc=!0;return w},circle:function(h,f,t,l,n){n&&H(n.r)&&(t=l=2*n.r);n&&n.isCircle&&(h-=t/2,f-=l/2);return["wa",h,f,h+t,f+l,h+t,f+l/2,h+t,f+l/2,"e"]},rect:function(l,h,u,t,n){return r.prototype.symbols[H(n)&&n.r?"callout":"square"].call(0,l,h,u,t,n)}}},W.VMLRenderer=o=function(){this.init.apply(this,arguments)},o.prototype=c(r.prototype,V),W.Renderer=o);r.prototype.getSpanWidth=function(f,d){var h=f.getBBox(!0).width;!J&&this.forExport&&(h=this.measureSpanWidth(d.firstChild.data,f.styles));return h};r.prototype.measureSpanWidth=function(f,d){var h=U.createElement("span");f=U.createTextNode(f);h.appendChild(f);T(h,d);this.box.appendChild(h);d=h.offsetWidth;s(h);return d}})(a)});