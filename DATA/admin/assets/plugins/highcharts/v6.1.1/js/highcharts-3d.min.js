(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(c){var d=c.deg2rad,e=c.pick;c.perspective3D=function(g,h,f){h=0<f&&f<Number.POSITIVE_INFINITY?f/(g.z+h.z+f):1;return{x:g.x*h,y:g.y*h}};c.perspective=function(b,z,j){var u=z.options.chart.options3d,k=j?z.inverted:!1,y={x:z.plotWidth/2,y:z.plotHeight/2,z:u.depth/2,vd:e(u.depth,1)*e(u.viewDistance,0)},A=z.scale3d||1,i=d*u.beta*(k?-1:1),u=d*u.alpha*(k?-1:1),n=Math.cos(u),s=Math.cos(-i),p=Math.sin(u),o=Math.sin(-i);j||(y.x+=z.plotLeft,y.y+=z.plotTop);return c.map(b,function(f){var g;g=(k?f.y:f.x)-y.x;var h=(k?f.x:f.y)-y.y;f=(f.z||0)-y.z;g={x:s*g-o*f,y:-p*o*g+n*h-s*p*f,z:n*o*g+p*h+n*s*f};h=c.perspective3D(g,y,y.vd);h.x=h.x*A+y.x;h.y=h.y*A+y.y;h.z=g.z*A+y.z;return{x:k?h.y:h.x,y:k?h.x:h.y,z:h.z}})};c.pointCameraDistance=function(h,i){var g=i.options.chart.options3d,f=i.plotWidth/2;i=i.plotHeight/2;g=e(g.depth,1)*e(g.viewDistance,0)+g.depth;return Math.sqrt(Math.pow(f-h.plotX,2)+Math.pow(i-h.plotY,2)+Math.pow(g-h.plotZ,2))};c.shapeArea=function(h){var i=0,g,f;for(g=0;g<h.length;g++){f=(g+1)%h.length,i+=h[g].x*h[f].y-h[f].x*h[g].y}return i/2};c.shapeArea3d=function(g,f,b){return c.shapeArea(c.perspective(g,f,b))}})(a);(function(O){function i(r,n,p,h,q,e,m,l){var k=[],t=e-q;return e>q&&e-q>Math.PI/2+0.0001?(k=k.concat(i(r,n,p,h,q,q+Math.PI/2,m,l)),k=k.concat(i(r,n,p,h,q+Math.PI/2,e,m,l))):e<q&&q-e>Math.PI/2+0.0001?(k=k.concat(i(r,n,p,h,q,q-Math.PI/2,m,l)),k=k.concat(i(r,n,p,h,q-Math.PI/2,e,m,l))):["C",r+p*Math.cos(q)-p*L*t*Math.sin(q)+m,n+h*Math.sin(q)+h*L*t*Math.cos(q)+l,r+p*Math.cos(e)+p*L*t*Math.sin(e)+m,n+h*Math.sin(e)-h*L*t*Math.cos(e)+l,r+p*Math.cos(e)+m,n+h*Math.sin(e)+l]}var j=Math.cos,B=Math.PI,u=Math.sin,F=O.animObject,o=O.charts,G=O.color,s=O.defined,A=O.deg2rad,C=O.each,I=O.extend,P=O.inArray,K=O.map,J=O.merge,H=O.perspective,D=O.pick,M=O.SVGElement,N=O.SVGRenderer,E=O.wrap,L=4*(Math.sqrt(2)-1)/3/(B/2);E(N.prototype,"init",function(b){b.apply(this,[].slice.call(arguments,1));C([{name:"darker",slope:0.6},{name:"brighter",slope:1.4}],function(c){this.definition({tagName:"filter",id:"highcharts-"+c.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:c.slope},{tagName:"feFuncG",type:"linear",slope:c.slope},{tagName:"feFuncB",type:"linear",slope:c.slope}]}]})},this)});N.prototype.toLinePath=function(b,e){var f=[];C(b,function(c){f.push("L",c.x,c.y)});b.length&&(f[0]="M",e&&f.push("Z"));return f};N.prototype.toLineSegments=function(b){var e=[],f=!0;C(b,function(c){e.push(f?"M":"L",c.x,c.y);f=!f});return e};N.prototype.face3d=function(b){var e=this,f=this.createElement("path");f.vertexes=[];f.insidePlotArea=!1;f.enabled=!0;E(f,"attr",function(g,k){if("object"===typeof k&&(s(k.enabled)||s(k.vertexes)||s(k.insidePlotArea))){this.enabled=D(k.enabled,this.enabled);this.vertexes=D(k.vertexes,this.vertexes);this.insidePlotArea=D(k.insidePlotArea,this.insidePlotArea);delete k.enabled;delete k.vertexes;delete k.insidePlotArea;var d=H(this.vertexes,o[e.chartIndex],this.insidePlotArea),h=e.toLinePath(d,!0),d=O.shapeArea(d),d=this.enabled&&0<d?"visible":"hidden";k.d=h;k.visibility=d}return g.apply(this,[].slice.call(arguments,1))});E(f,"animate",function(g,k){if("object"===typeof k&&(s(k.enabled)||s(k.vertexes)||s(k.insidePlotArea))){this.enabled=D(k.enabled,this.enabled);this.vertexes=D(k.vertexes,this.vertexes);this.insidePlotArea=D(k.insidePlotArea,this.insidePlotArea);delete k.enabled;delete k.vertexes;delete k.insidePlotArea;var d=H(this.vertexes,o[e.chartIndex],this.insidePlotArea),h=e.toLinePath(d,!0),d=O.shapeArea(d),d=this.enabled&&0<d?"visible":"hidden";k.d=h;this.attr("visibility",d)}return g.apply(this,[].slice.call(arguments,1))});return f.attr(b)};N.prototype.polyhedron=function(f){var h=this,g=this.g(),e=g.destroy;g.faces=[];g.destroy=function(){for(var b=0;b<g.faces.length;b++){g.faces[b].destroy()}return e.call(this)};E(g,"attr",function(k,d,n,c,m){if("object"===typeof d&&s(d.faces)){for(;g.faces.length>d.faces.length;){g.faces.pop().destroy()}for(;g.faces.length<d.faces.length;){g.faces.push(h.face3d().add(g))}for(var l=0;l<d.faces.length;l++){g.faces[l].attr(d.faces[l],null,c,m)}delete d.faces}return k.apply(this,[].slice.call(arguments,1))});E(g,"animate",function(k,d,m,c){if(d&&d.faces){for(;g.faces.length>d.faces.length;){g.faces.pop().destroy()}for(;g.faces.length<d.faces.length;){g.faces.push(h.face3d().add(g))}for(var l=0;l<d.faces.length;l++){g.faces[l].animate(d.faces[l],m,c)}delete d.faces}return k.apply(this,[].slice.call(arguments,1))});return g.attr(f)};N.prototype.cuboid=function(e){var f=this.g(),d=f.destroy;e=this.cuboidPath(e);f.front=this.path(e[0]).attr({"class":"highcharts-3d-front"}).add(f);f.top=this.path(e[1]).attr({"class":"highcharts-3d-top"}).add(f);f.side=this.path(e[2]).attr({"class":"highcharts-3d-side"}).add(f);f.fillSetter=function(b){this.front.attr({fill:b});this.top.attr({fill:G(b).brighten(0.1).get()});this.side.attr({fill:G(b).brighten(-0.1).get()});this.color=b;f.fill=b;return this};f.opacitySetter=function(b){this.front.attr({opacity:b});this.top.attr({opacity:b});this.side.attr({opacity:b});return this};f.attr=function(k,m,h,g){if("string"===typeof k&&"undefined"!==typeof m){var l=k;k={};k[l]=m}if(k.shapeArgs||s(k.x)){k=this.renderer.cuboidPath(k.shapeArgs||k),this.front.attr({d:k[0]}),this.top.attr({d:k[1]}),this.side.attr({d:k[2]})}else{return M.prototype.attr.call(this,k,void 0,h,g)}return this};f.animate=function(h,k,g){s(h.x)&&s(h.y)?(h=this.renderer.cuboidPath(h),this.front.animate({d:h[0]},k,g),this.top.animate({d:h[1]},k,g),this.side.animate({d:h[2]},k,g),this.attr({zIndex:-h[3]})):h.opacity?(this.front.animate(h,k,g),this.top.animate(h,k,g),this.side.animate(h,k,g)):M.prototype.animate.call(this,h,k,g);return this};f.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return d.call(this)};f.attr({zIndex:-e[3]});return f};O.SVGRenderer.prototype.cuboidPath=function(R){function Q(c){return t[c]}var z=R.x,y=R.y,x=R.z,b=R.height,w=R.width,U=R.depth,k=o[this.chartIndex],f,T,S=k.options.chart.options3d.alpha,r=0,t=[{x:z,y:y,z:x},{x:z+w,y:y,z:x},{x:z+w,y:y+b,z:x},{x:z,y:y+b,z:x},{x:z,y:y+b,z:x+U},{x:z+w,y:y+b,z:x+U},{x:z+w,y:y,z:x+U},{x:z,y:y,z:x+U}],t=H(t,k,R.insidePlotArea);T=function(c,h){var g=[[],-1];c=K(c,Q);h=K(h,Q);0>O.shapeArea(c)?g=[c,0]:0>O.shapeArea(h)&&(g=[h,1]);return g};f=T([3,2,1,0],[7,6,5,4]);R=f[0];w=f[1];f=T([1,6,7,0],[4,5,2,3]);b=f[0];U=f[1];f=T([1,2,5,6],[0,7,4,3]);T=f[0];f=f[1];1===f?r+=10000*(1000-z):f||(r+=10000*z);r+=10*(!U||0<=S&&180>=S||360>S&&357.5<S?k.plotHeight-y:10+y);1===w?r+=100*x:w||(r+=100*(1000-x));r=-Math.round(r);return[this.toLinePath(R,!0),this.toLinePath(b,!0),this.toLinePath(T,!0),r]};O.SVGRenderer.prototype.arc3d=function(m){function d(p){var n=!1,k={};p=J(p);for(var f in p){-1!==P(f,g)&&(k[f]=p[f],delete p[f],n=!0)}return n?k:!1}var l=this.g(),h=l.renderer,g="x y r innerR start end".split(" ");m=J(m);m.alpha*=A;m.beta*=A;l.top=h.path();l.side1=h.path();l.side2=h.path();l.inn=h.path();l.out=h.path();l.onAdd=function(){var b=l.parentGroup,e=l.attr("class");l.top.add(l);C(["out","inn","side1","side2"],function(c){l[c].attr({"class":e+" highcharts-3d-side"}).add(b)})};C(["addClass","removeClass"],function(b){l[b]=function(){var e=arguments;C(["top","out","inn","side1","side2"],function(c){l[c][b].apply(l[c],e)})}});l.setPaths=function(b){var f=l.renderer.arc3dPath(b),e=100*f.zTop;l.attribs=b;l.top.attr({d:f.top,zIndex:f.zTop});l.inn.attr({d:f.inn,zIndex:f.zInn});l.out.attr({d:f.out,zIndex:f.zOut});l.side1.attr({d:f.side1,zIndex:f.zSide1});l.side2.attr({d:f.side2,zIndex:f.zSide2});l.zIndex=e;l.attr({zIndex:e});b.center&&(l.top.setRadialReference(b.center),delete b.center)};l.setPaths(m);l.fillSetter=function(b){var e=G(b).brighten(-0.1).get();this.fill=b;this.side1.attr({fill:e});this.side2.attr({fill:e});this.inn.attr({fill:e});this.out.attr({fill:e});this.top.attr({fill:b});return this};C(["opacity","translateX","translateY","visibility"],function(b){l[b+"Setter"]=function(e,f){l[f]=e;C(["out","inn","side1","side2","top"],function(c){l[c].attr(f,e)})}});E(l,"attr",function(b,f){var e;"object"===typeof f&&(e=d(f))&&(I(l.attribs,e),l.setPaths(l.attribs));return b.apply(this,[].slice.call(arguments,1))});E(l,"animate",function(b,v,t,r){var p,n=this.attribs,e;delete v.center;delete v.z;delete v.depth;delete v.alpha;delete v.beta;e=F(D(t,this.renderer.globalAnimation));e.duration&&(p=d(v),v.dummy=l.dummy++,p&&(e.step=function(f,q){function k(c){return n[c]+(D(p[c],n[c])-n[c])*q.pos}"dummy"===q.prop&&q.elem.setPaths(J(n,{x:k("x"),y:k("y"),r:k("r"),innerR:k("innerR"),start:k("start"),end:k("end")}))}),t=e);return b.call(this,v,t,r)});l.dummy=0;l.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();M.prototype.destroy.call(this)};l.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};l.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return l};N.prototype.arc3dPath=function(ag){function ae(b){b%=2*Math.PI;b>Math.PI&&(b=2*Math.PI-b);return b}var ad=ag.x,ac=ag.y,af=ag.start,ab=ag.end-0.00001,aa=ag.r,T=ag.innerR,Z=ag.depth,Y=ag.alpha,V=ag.beta,U=Math.cos(af),z=Math.sin(af);ag=Math.cos(ab);var W=Math.sin(ab),X=aa*Math.cos(V),aa=aa*Math.cos(Y),r=T*Math.cos(V),v=T*Math.cos(Y),T=Z*Math.sin(V),R=Z*Math.sin(Y),Z=["M",ad+X*U,ac+aa*z],Z=Z.concat(i(ad,ac,X,aa,af,ab,0,0)),Z=Z.concat(["L",ad+r*ag,ac+v*W]),Z=Z.concat(i(ad,ac,r,v,ab,af,0,0)),Z=Z.concat(["Z"]),S=0<V?Math.PI/2:0,V=0<Y?0:Math.PI/2,S=af>-S?af:ab>-S?-S:af,Q=ab<B-V?ab:af<B-V?B-V:ab,y=2*B-V,Y=["M",ad+X*j(S),ac+aa*u(S)],Y=Y.concat(i(ad,ac,X,aa,S,Q,0,0));ab>y&&af<y?(Y=Y.concat(["L",ad+X*j(Q)+T,ac+aa*u(Q)+R]),Y=Y.concat(i(ad,ac,X,aa,Q,y,T,R)),Y=Y.concat(["L",ad+X*j(y),ac+aa*u(y)]),Y=Y.concat(i(ad,ac,X,aa,y,ab,0,0)),Y=Y.concat(["L",ad+X*j(ab)+T,ac+aa*u(ab)+R]),Y=Y.concat(i(ad,ac,X,aa,ab,y,T,R)),Y=Y.concat(["L",ad+X*j(y),ac+aa*u(y)]),Y=Y.concat(i(ad,ac,X,aa,y,Q,0,0))):ab>B-V&&af<B-V&&(Y=Y.concat(["L",ad+X*Math.cos(Q)+T,ac+aa*Math.sin(Q)+R]),Y=Y.concat(i(ad,ac,X,aa,Q,ab,T,R)),Y=Y.concat(["L",ad+X*Math.cos(ab),ac+aa*Math.sin(ab)]),Y=Y.concat(i(ad,ac,X,aa,ab,Q,0,0)));Y=Y.concat(["L",ad+X*Math.cos(Q)+T,ac+aa*Math.sin(Q)+R]);Y=Y.concat(i(ad,ac,X,aa,Q,S,T,R));Y=Y.concat(["Z"]);V=["M",ad+r*U,ac+v*z];V=V.concat(i(ad,ac,r,v,af,ab,0,0));V=V.concat(["L",ad+r*Math.cos(ab)+T,ac+v*Math.sin(ab)+R]);V=V.concat(i(ad,ac,r,v,ab,af,T,R));V=V.concat(["Z"]);U=["M",ad+X*U,ac+aa*z,"L",ad+X*U+T,ac+aa*z+R,"L",ad+r*U+T,ac+v*z+R,"L",ad+r*U,ac+v*z,"Z"];ad=["M",ad+X*ag,ac+aa*W,"L",ad+X*ag+T,ac+aa*W+R,"L",ad+r*ag+T,ac+v*W+R,"L",ad+r*ag,ac+v*W,"Z"];W=Math.atan2(R,-T);ac=Math.abs(ab+W);ag=Math.abs(af+W);af=Math.abs((af+ab)/2+W);ac=ae(ac);ag=ae(ag);af=ae(af);af*=100000;ab=100000*ag;ac*=100000;return{top:Z,zTop:100000*Math.PI+1,out:Y,zOut:Math.max(af,ab,ac),inn:V,zInn:Math.max(af,ab,ac),side1:U,zSide1:0.99*ac,side2:ad,zSide2:0.99*ab}}})(a);(function(h){function f(B,v){var C=B.plotLeft,x=B.plotWidth+C,w=B.plotTop,t=B.plotHeight+w,o=C+B.plotWidth/2,z=w+B.plotHeight/2,A=Number.MAX_VALUE,p=-Number.MAX_VALUE,y=Number.MAX_VALUE,D=-Number.MAX_VALUE,s,r=1;s=[{x:C,y:w,z:0},{x:C,y:w,z:v}];k([0,1],function(b){s.push({x:x,y:s[b].y,z:s[b].z})});k([0,1,2,3],function(b){s.push({x:s[b].x,y:t,z:s[b].z})});s=i(s,B,!1);k(s,function(b){A=Math.min(A,b.x);p=Math.max(p,b.x);y=Math.min(y,b.y);D=Math.max(D,b.y)});C>A&&(r=Math.min(r,1-Math.abs((C+o)/(A+o))%1));x<p&&(r=Math.min(r,(x-o)/(p-o)));w>y&&(r=0>y?Math.min(r,(w+z)/(-y+w+z)):Math.min(r,1-(w+z)/(y+z)%1));t<D&&(r=Math.min(r,Math.abs((t-z)/(D-z))));return r}var g=h.addEvent,c=h.Chart,k=h.each,d=h.merge,i=h.perspective,e=h.pick,j=h.wrap;c.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};c.prototype.propsRequireDirtyBox.push("chart.options3d");c.prototype.propsRequireUpdateSeries.push("chart.options3d");g(c,"afterInit",function(){var l=this.options;this.is3d()&&k(l.series,function(b){"scatter"===(b.type||l.chart.type||l.chart.defaultSeriesType)&&(b.type="scatter3d")})});g(c,"addSeries",function(l){this.is3d()&&"scatter"===l.options.type&&(l.options.type="scatter3d")});h.wrap(h.Chart.prototype,"isInsidePlot",function(l){return this.is3d()||l.apply(this,[].slice.call(arguments,1))});var n=h.getOptions();d(!0,n,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}});g(c,"afterGetContainer",function(){this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"})});j(c.prototype,"setClassName",function(l){l.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});g(h.Chart,"afterSetChartSize",function(){var l=this.options.chart.options3d;if(this.is3d()){var o=this.inverted,m=this.clipBox,p=this.margin;m[o?"y":"x"]=-(p[3]||0);m[o?"x":"y"]=-(p[0]||0);m[o?"height":"width"]=this.chartWidth+(p[3]||0)+(p[1]||0);m[o?"width":"height"]=this.chartHeight+(p[0]||0)+(p[2]||0);this.scale3d=1;!0===l.fitToPlot&&(this.scale3d=f(this,l.depth));this.frame3d=this.get3dFrame()}});g(c,"beforeRedraw",function(){this.is3d()&&(this.isDirtyBox=!0)});g(c,"beforeRender",function(){this.is3d()&&(this.frame3d=this.get3dFrame())});j(c.prototype,"renderSeries",function(l){var m=this.series.length;if(this.is3d()){for(;m--;){l=this.series[m],l.translate(),l.render()}}else{l.call(this)}});g(c,"afterDrawChartBox",function(){if(this.is3d()){var b=this.renderer,w=this.options.chart.options3d,C=this.get3dFrame(),y=this.plotLeft,x=this.plotLeft+this.plotWidth,v=this.plotTop,o=this.plotTop+this.plotHeight,w=w.depth,A=y-(C.left.visible?C.left.size:0),B=x+(C.right.visible?C.right.size:0),r=v-(C.top.visible?C.top.size:0),z=o+(C.bottom.visible?C.bottom.size:0),D=0-(C.front.visible?C.front.size:0),t=w+(C.back.visible?C.back.size:0),s=this.hasRendered?"animate":"attr";this.frame3d=C;this.frameShapes||(this.frameShapes={bottom:b.polyhedron().add(),top:b.polyhedron().add(),left:b.polyhedron().add(),right:b.polyhedron().add(),back:b.polyhedron().add(),front:b.polyhedron().add()});this.frameShapes.bottom[s]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:C.bottom.frontFacing?-1000:1000,faces:[{fill:h.color(C.bottom.color).brighten(0.1).get(),vertexes:[{x:A,y:z,z:D},{x:B,y:z,z:D},{x:B,y:z,z:t},{x:A,y:z,z:t}],enabled:C.bottom.visible},{fill:h.color(C.bottom.color).brighten(0.1).get(),vertexes:[{x:y,y:o,z:w},{x:x,y:o,z:w},{x:x,y:o,z:0},{x:y,y:o,z:0}],enabled:C.bottom.visible},{fill:h.color(C.bottom.color).brighten(-0.1).get(),vertexes:[{x:A,y:z,z:D},{x:A,y:z,z:t},{x:y,y:o,z:w},{x:y,y:o,z:0}],enabled:C.bottom.visible&&!C.left.visible},{fill:h.color(C.bottom.color).brighten(-0.1).get(),vertexes:[{x:B,y:z,z:t},{x:B,y:z,z:D},{x:x,y:o,z:0},{x:x,y:o,z:w}],enabled:C.bottom.visible&&!C.right.visible},{fill:h.color(C.bottom.color).get(),vertexes:[{x:B,y:z,z:D},{x:A,y:z,z:D},{x:y,y:o,z:0},{x:x,y:o,z:0}],enabled:C.bottom.visible&&!C.front.visible},{fill:h.color(C.bottom.color).get(),vertexes:[{x:A,y:z,z:t},{x:B,y:z,z:t},{x:x,y:o,z:w},{x:y,y:o,z:w}],enabled:C.bottom.visible&&!C.back.visible}]});this.frameShapes.top[s]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:C.top.frontFacing?-1000:1000,faces:[{fill:h.color(C.top.color).brighten(0.1).get(),vertexes:[{x:A,y:r,z:t},{x:B,y:r,z:t},{x:B,y:r,z:D},{x:A,y:r,z:D}],enabled:C.top.visible},{fill:h.color(C.top.color).brighten(0.1).get(),vertexes:[{x:y,y:v,z:0},{x:x,y:v,z:0},{x:x,y:v,z:w},{x:y,y:v,z:w}],enabled:C.top.visible},{fill:h.color(C.top.color).brighten(-0.1).get(),vertexes:[{x:A,y:r,z:t},{x:A,y:r,z:D},{x:y,y:v,z:0},{x:y,y:v,z:w}],enabled:C.top.visible&&!C.left.visible},{fill:h.color(C.top.color).brighten(-0.1).get(),vertexes:[{x:B,y:r,z:D},{x:B,y:r,z:t},{x:x,y:v,z:w},{x:x,y:v,z:0}],enabled:C.top.visible&&!C.right.visible},{fill:h.color(C.top.color).get(),vertexes:[{x:A,y:r,z:D},{x:B,y:r,z:D},{x:x,y:v,z:0},{x:y,y:v,z:0}],enabled:C.top.visible&&!C.front.visible},{fill:h.color(C.top.color).get(),vertexes:[{x:B,y:r,z:t},{x:A,y:r,z:t},{x:y,y:v,z:w},{x:x,y:v,z:w}],enabled:C.top.visible&&!C.back.visible}]});this.frameShapes.left[s]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:C.left.frontFacing?-1000:1000,faces:[{fill:h.color(C.left.color).brighten(0.1).get(),vertexes:[{x:A,y:z,z:D},{x:y,y:o,z:0},{x:y,y:o,z:w},{x:A,y:z,z:t}],enabled:C.left.visible&&!C.bottom.visible},{fill:h.color(C.left.color).brighten(0.1).get(),vertexes:[{x:A,y:r,z:t},{x:y,y:v,z:w},{x:y,y:v,z:0},{x:A,y:r,z:D}],enabled:C.left.visible&&!C.top.visible},{fill:h.color(C.left.color).brighten(-0.1).get(),vertexes:[{x:A,y:z,z:t},{x:A,y:r,z:t},{x:A,y:r,z:D},{x:A,y:z,z:D}],enabled:C.left.visible},{fill:h.color(C.left.color).brighten(-0.1).get(),vertexes:[{x:y,y:v,z:w},{x:y,y:o,z:w},{x:y,y:o,z:0},{x:y,y:v,z:0}],enabled:C.left.visible},{fill:h.color(C.left.color).get(),vertexes:[{x:A,y:z,z:D},{x:A,y:r,z:D},{x:y,y:v,z:0},{x:y,y:o,z:0}],enabled:C.left.visible&&!C.front.visible},{fill:h.color(C.left.color).get(),vertexes:[{x:A,y:r,z:t},{x:A,y:z,z:t},{x:y,y:o,z:w},{x:y,y:v,z:w}],enabled:C.left.visible&&!C.back.visible}]});this.frameShapes.right[s]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:C.right.frontFacing?-1000:1000,faces:[{fill:h.color(C.right.color).brighten(0.1).get(),vertexes:[{x:B,y:z,z:t},{x:x,y:o,z:w},{x:x,y:o,z:0},{x:B,y:z,z:D}],enabled:C.right.visible&&!C.bottom.visible},{fill:h.color(C.right.color).brighten(0.1).get(),vertexes:[{x:B,y:r,z:D},{x:x,y:v,z:0},{x:x,y:v,z:w},{x:B,y:r,z:t}],enabled:C.right.visible&&!C.top.visible},{fill:h.color(C.right.color).brighten(-0.1).get(),vertexes:[{x:x,y:v,z:0},{x:x,y:o,z:0},{x:x,y:o,z:w},{x:x,y:v,z:w}],enabled:C.right.visible},{fill:h.color(C.right.color).brighten(-0.1).get(),vertexes:[{x:B,y:z,z:D},{x:B,y:r,z:D},{x:B,y:r,z:t},{x:B,y:z,z:t}],enabled:C.right.visible},{fill:h.color(C.right.color).get(),vertexes:[{x:B,y:r,z:D},{x:B,y:z,z:D},{x:x,y:o,z:0},{x:x,y:v,z:0}],enabled:C.right.visible&&!C.front.visible},{fill:h.color(C.right.color).get(),vertexes:[{x:B,y:z,z:t},{x:B,y:r,z:t},{x:x,y:v,z:w},{x:x,y:o,z:w}],enabled:C.right.visible&&!C.back.visible}]});this.frameShapes.back[s]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:C.back.frontFacing?-1000:1000,faces:[{fill:h.color(C.back.color).brighten(0.1).get(),vertexes:[{x:B,y:z,z:t},{x:A,y:z,z:t},{x:y,y:o,z:w},{x:x,y:o,z:w}],enabled:C.back.visible&&!C.bottom.visible},{fill:h.color(C.back.color).brighten(0.1).get(),vertexes:[{x:A,y:r,z:t},{x:B,y:r,z:t},{x:x,y:v,z:w},{x:y,y:v,z:w}],enabled:C.back.visible&&!C.top.visible},{fill:h.color(C.back.color).brighten(-0.1).get(),vertexes:[{x:A,y:z,z:t},{x:A,y:r,z:t},{x:y,y:v,z:w},{x:y,y:o,z:w}],enabled:C.back.visible&&!C.left.visible},{fill:h.color(C.back.color).brighten(-0.1).get(),vertexes:[{x:B,y:r,z:t},{x:B,y:z,z:t},{x:x,y:o,z:w},{x:x,y:v,z:w}],enabled:C.back.visible&&!C.right.visible},{fill:h.color(C.back.color).get(),vertexes:[{x:y,y:v,z:w},{x:x,y:v,z:w},{x:x,y:o,z:w},{x:y,y:o,z:w}],enabled:C.back.visible},{fill:h.color(C.back.color).get(),vertexes:[{x:A,y:z,z:t},{x:B,y:z,z:t},{x:B,y:r,z:t},{x:A,y:r,z:t}],enabled:C.back.visible}]});this.frameShapes.front[s]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:C.front.frontFacing?-1000:1000,faces:[{fill:h.color(C.front.color).brighten(0.1).get(),vertexes:[{x:A,y:z,z:D},{x:B,y:z,z:D},{x:x,y:o,z:0},{x:y,y:o,z:0}],enabled:C.front.visible&&!C.bottom.visible},{fill:h.color(C.front.color).brighten(0.1).get(),vertexes:[{x:B,y:r,z:D},{x:A,y:r,z:D},{x:y,y:v,z:0},{x:x,y:v,z:0}],enabled:C.front.visible&&!C.top.visible},{fill:h.color(C.front.color).brighten(-0.1).get(),vertexes:[{x:A,y:r,z:D},{x:A,y:z,z:D},{x:y,y:o,z:0},{x:y,y:v,z:0}],enabled:C.front.visible&&!C.left.visible},{fill:h.color(C.front.color).brighten(-0.1).get(),vertexes:[{x:B,y:z,z:D},{x:B,y:r,z:D},{x:x,y:v,z:0},{x:x,y:o,z:0}],enabled:C.front.visible&&!C.right.visible},{fill:h.color(C.front.color).get(),vertexes:[{x:x,y:v,z:0},{x:y,y:v,z:0},{x:y,y:o,z:0},{x:x,y:o,z:0}],enabled:C.front.visible},{fill:h.color(C.front.color).get(),vertexes:[{x:B,y:z,z:D},{x:A,y:z,z:D},{x:A,y:r,z:D},{x:B,y:r,z:D}],enabled:C.front.visible}]})}});c.prototype.retrieveStacks=function(l){var o=this.series,m={},q,p=1;k(this.series,function(b){q=e(b.options.stack,l?0:o.length-1-b.index);m[q]?m[q].series.push(b):(m[q]={series:[b],position:p},p++)});m.totalStacks=p+1;return m};c.prototype.get3dFrame=function(){var C=this,H=C.options.chart.options3d,N=H.frame,J=C.plotLeft,I=C.plotLeft+C.plotWidth,G=C.plotTop,D=C.plotTop+C.plotHeight,L=H.depth,M=function(m){m=h.shapeArea3d(m,C);return 0.5<m?1:-0.5>m?-1:0},E=M([{x:J,y:D,z:L},{x:I,y:D,z:L},{x:I,y:D,z:0},{x:J,y:D,z:0}]),K=M([{x:J,y:G,z:0},{x:I,y:G,z:0},{x:I,y:G,z:L},{x:J,y:G,z:L}]),s=M([{x:J,y:G,z:0},{x:J,y:G,z:L},{x:J,y:D,z:L},{x:J,y:D,z:0}]),F=M([{x:I,y:G,z:L},{x:I,y:G,z:0},{x:I,y:D,z:0},{x:I,y:D,z:L}]),o=M([{x:J,y:D,z:0},{x:I,y:D,z:0},{x:I,y:G,z:0},{x:J,y:G,z:0}]),M=M([{x:J,y:G,z:L},{x:I,y:G,z:L},{x:I,y:D,z:L},{x:J,y:D,z:L}]),v=!1,x=!1,l=!1,b=!1;k([].concat(C.xAxis,C.yAxis,C.zAxis),function(m){m&&(m.horiz?m.opposite?x=!0:v=!0:m.opposite?b=!0:l=!0)});var A=function(z,w,u){for(var y=["size","color","visible"],t={},r=0;r<y.length;r++){for(var q=y[r],p=0;p<z.length;p++){if("object"===typeof z[p]){var m=z[p][q];if(void 0!==m&&null!==m){t[q]=m;break}}}}z=u;!0===t.visible||!1===t.visible?z=t.visible:"auto"===t.visible&&(z=0<w);return{size:e(t.size,1),color:e(t.color,"none"),frontFacing:0<w,visible:z}},N={bottom:A([N.bottom,N.top,N],E,v),top:A([N.top,N.bottom,N],K,x),left:A([N.left,N.right,N.side,N],s,l),right:A([N.right,N.left,N.side,N],F,b),back:A([N.back,N.front,N],M,!0),front:A([N.front,N.back,N],o,!1)};"auto"===H.axisLabelPosition?(F=function(m,p){return m.visible!==p.visible||m.visible&&p.visible&&m.frontFacing!==p.frontFacing},H=[],F(N.left,N.front)&&H.push({y:(G+D)/2,x:J,z:0,xDir:{x:1,y:0,z:0}}),F(N.left,N.back)&&H.push({y:(G+D)/2,x:J,z:L,xDir:{x:0,y:0,z:-1}}),F(N.right,N.front)&&H.push({y:(G+D)/2,x:I,z:0,xDir:{x:0,y:0,z:1}}),F(N.right,N.back)&&H.push({y:(G+D)/2,x:I,z:L,xDir:{x:-1,y:0,z:0}}),E=[],F(N.bottom,N.front)&&E.push({x:(J+I)/2,y:D,z:0,xDir:{x:1,y:0,z:0}}),F(N.bottom,N.back)&&E.push({x:(J+I)/2,y:D,z:L,xDir:{x:-1,y:0,z:0}}),K=[],F(N.top,N.front)&&K.push({x:(J+I)/2,y:G,z:0,xDir:{x:1,y:0,z:0}}),F(N.top,N.back)&&K.push({x:(J+I)/2,y:G,z:L,xDir:{x:-1,y:0,z:0}}),s=[],F(N.bottom,N.left)&&s.push({z:(0+L)/2,y:D,x:J,xDir:{x:0,y:0,z:-1}}),F(N.bottom,N.right)&&s.push({z:(0+L)/2,y:D,x:I,xDir:{x:0,y:0,z:1}}),D=[],F(N.top,N.left)&&D.push({z:(0+L)/2,y:G,x:J,xDir:{x:0,y:0,z:-1}}),F(N.top,N.right)&&D.push({z:(0+L)/2,y:G,x:I,xDir:{x:0,y:0,z:1}}),J=function(p,u,t){if(0===p.length){return null}if(1===p.length){return p[0]}for(var m=0,r=i(p,C,!1),q=1;q<r.length;q++){t*r[q][u]>t*r[m][u]?m=q:t*r[q][u]===t*r[m][u]&&r[q].z<r[m].z&&(m=q)}return p[m]},N.axes={y:{left:J(H,"x",-1),right:J(H,"x",1)},x:{top:J(K,"y",-1),bottom:J(E,"y",1)},z:{top:J(D,"y",-1),bottom:J(s,"y",1)}}):N.axes={y:{left:{x:J,z:0,xDir:{x:1,y:0,z:0}},right:{x:I,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:G,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:D,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:l?I:J,y:G,xDir:l?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:l?I:J,y:D,xDir:l?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return N};h.Fx.prototype.matrixSetter=function(){var m;if(1>this.pos&&(h.isArray(this.start)||h.isArray(this.end))){var o=this.start||[1,0,0,1,0,0],b=this.end||[1,0,0,1,0,0];m=[];for(var p=0;6>p;p++){m.push(this.pos*b[p]+(1-this.pos)*o[p])}}else{m=this.end}this.elem.attr(this.prop,m,null,!0)}})(a);(function(C){function A(M,N,O){if(!M.chart.is3d()||"colorAxis"===M.coll){return N}var L=M.chart,K=E*L.options.chart.options3d.alpha,I=E*L.options.chart.options3d.beta,z=D(O&&M.options.title.position3d,M.options.labels.position3d);O=D(O&&M.options.title.skew3d,M.options.labels.skew3d);var x=L.frame3d,J=L.plotLeft,y=L.plotWidth+J,q=L.plotTop,Q=L.plotHeight+q,L=!1,R=0,P=0,f={x:0,y:1,z:0};N=M.swapZ({x:N.x,y:N.y,z:0});if(M.isZAxis){if(M.opposite){if(null===x.axes.z.top){return{}}P=N.y-q;N.x=x.axes.z.top.x;N.y=x.axes.z.top.y;J=x.axes.z.top.xDir;L=!x.top.frontFacing}else{if(null===x.axes.z.bottom){return{}}P=N.y-Q;N.x=x.axes.z.bottom.x;N.y=x.axes.z.bottom.y;J=x.axes.z.bottom.xDir;L=!x.bottom.frontFacing}}else{if(M.horiz){if(M.opposite){if(null===x.axes.x.top){return{}}P=N.y-q;N.y=x.axes.x.top.y;N.z=x.axes.x.top.z;J=x.axes.x.top.xDir;L=!x.top.frontFacing}else{if(null===x.axes.x.bottom){return{}}P=N.y-Q;N.y=x.axes.x.bottom.y;N.z=x.axes.x.bottom.z;J=x.axes.x.bottom.xDir;L=!x.bottom.frontFacing}}else{if(M.opposite){if(null===x.axes.y.right){return{}}R=N.x-y;N.x=x.axes.y.right.x;N.z=x.axes.y.right.z;J=x.axes.y.right.xDir;J={x:J.z,y:J.y,z:-J.x}}else{if(null===x.axes.y.left){return{}}R=N.x-J;N.x=x.axes.y.left.x;N.z=x.axes.y.left.z;J=x.axes.y.left.xDir}}}"chart"!==z&&("flap"===z?M.horiz?(I=Math.sin(K),K=Math.cos(K),M.opposite&&(I=-I),L&&(I=-I),f={x:J.z*I,y:K,z:-J.x*I}):J={x:Math.cos(I),y:0,z:Math.sin(I)}:"ortho"===z?M.horiz?(f=Math.cos(K),z=Math.sin(I)*f,K=-Math.sin(K),I=-f*Math.cos(I),f={x:J.y*I-J.z*K,y:J.z*z-J.x*I,z:J.x*K-J.y*z},K=1/Math.sqrt(f.x*f.x+f.y*f.y+f.z*f.z),L&&(K=-K),f={x:K*f.x,y:K*f.y,z:K*f.z}):J={x:Math.cos(I),y:0,z:Math.sin(I)}:M.horiz?f={x:Math.sin(I)*Math.sin(K),y:Math.cos(K),z:-Math.cos(I)*Math.sin(K)}:J={x:Math.cos(I),y:0,z:Math.sin(I)});N.x+=R*J.x+P*f.x;N.y+=R*J.y+P*f.y;N.z+=R*J.z+P*f.z;L=d([N],M.chart)[0];O&&(0>u(d([N,{x:N.x+J.x,y:N.y+J.y,z:N.z+J.z},{x:N.x+f.x,y:N.y+f.y,z:N.z+f.z}],M.chart))&&(J={x:-J.x,y:-J.y,z:-J.z}),M=d([{x:N.x,y:N.y,z:N.z},{x:N.x+J.x,y:N.y+J.y,z:N.z+J.z},{x:N.x+f.x,y:N.y+f.y,z:N.z+f.z}],M.chart),L.matrix=[M[1].x-M[0].x,M[1].y-M[0].y,M[2].x-M[0].x,M[2].y-M[0].y,L.x,L.y],L.matrix[4]-=L.x*L.matrix[0]+L.y*L.matrix[2],L.matrix[5]-=L.x*L.matrix[1]+L.y*L.matrix[3]);return L}var B,c=C.addEvent,G=C.Axis,i=C.Chart,E=C.deg2rad,j=C.each,F=C.extend,H=C.merge,d=C.perspective,o=C.perspective3D,D=C.pick,u=C.shapeArea,s=C.splat,n=C.Tick,e=C.wrap;H(!0,G.prototype.defaultOptions,{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}});c(G,"afterSetOptions",function(){var b;this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&(b=this.options,b.tickWidth=D(b.tickWidth,0),b.gridLineWidth=D(b.gridLineWidth,1))});e(G.prototype,"getPlotLinePath",function(g){var k=g.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll||null===k){return k}var h=this.chart,f=h.options.chart.options3d,f=this.isZAxis?h.plotWidth:f.depth,h=h.frame3d,k=[this.swapZ({x:k[1],y:k[2],z:0}),this.swapZ({x:k[1],y:k[2],z:f}),this.swapZ({x:k[4],y:k[5],z:0}),this.swapZ({x:k[4],y:k[5],z:f})],f=[];this.horiz?(this.isZAxis?(h.left.visible&&f.push(k[0],k[2]),h.right.visible&&f.push(k[1],k[3])):(h.front.visible&&f.push(k[0],k[2]),h.back.visible&&f.push(k[1],k[3])),h.top.visible&&f.push(k[0],k[1]),h.bottom.visible&&f.push(k[2],k[3])):(h.front.visible&&f.push(k[0],k[2]),h.back.visible&&f.push(k[1],k[3]),h.left.visible&&f.push(k[0],k[1]),h.right.visible&&f.push(k[2],k[3]));f=d(f,this.chart,!1);return this.chart.renderer.toLineSegments(f)});e(G.prototype,"getLinePath",function(b){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:b.apply(this,[].slice.call(arguments,1))});e(G.prototype,"getPlotBandPath",function(h){if(!this.chart.is3d()||"colorAxis"===this.coll){return h.apply(this,[].slice.call(arguments,1))}var m=arguments,l=m[2],f=[],m=this.getPlotLinePath(m[1]),l=this.getPlotLinePath(l);if(m&&l){for(var k=0;k<m.length;k+=6){f.push("M",m[k+1],m[k+2],"L",m[k+4],m[k+5],"L",l[k+4],l[k+5],"L",l[k+1],l[k+2],"Z")}}return f});e(n.prototype,"getMarkPath",function(b){var f=b.apply(this,[].slice.call(arguments,1)),f=[A(this.axis,{x:f[1],y:f[2],z:0}),A(this.axis,{x:f[4],y:f[5],z:0})];return this.axis.chart.renderer.toLineSegments(f)});c(n,"afterGetLabelPosition",function(b){F(b.pos,A(this.axis,b.pos))});e(G.prototype,"getTitlePosition",function(b){var f=b.apply(this,[].slice.call(arguments,1));return A(this,f,!0)});c(G,"drawCrosshair",function(b){this.chart.is3d()&&"colorAxis"!==this.coll&&b.point&&(b.point.crosshairPos=this.isXAxis?b.point.axisXpos:this.len-b.point.axisYpos)});c(G,"destroy",function(){j(["backFrame","bottomFrame","sideFrame"],function(b){this[b]&&(this[b]=this[b].destroy())},this)});G.prototype.swapZ=function(b,f){return this.isZAxis?(f=f?0:this.chart.plotLeft,{x:f+b.z,y:b.y,z:b.x-f}):b};B=C.ZAxis=function(){this.init.apply(this,arguments)};F(B.prototype,G.prototype);F(B.prototype,{isZAxis:!0,setOptions:function(b){b=H({offset:0,lineWidth:0},b);G.prototype.setOptions.call(this,b);this.coll="zAxis"},setAxisSize:function(){G.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,f=b.chart;b.hasVisibleSeries=!1;b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null;b.buildStacks&&b.buildStacks();j(b.series,function(g){if(g.visible||!f.options.chart.ignoreHiddenSeries){b.hasVisibleSeries=!0,g=g.zData,g.length&&(b.dataMin=Math.min(D(b.dataMin,g[0]),Math.min.apply(null,g)),b.dataMax=Math.max(D(b.dataMax,g[0]),Math.max.apply(null,g)))}})}});c(i,"afterGetAxes",function(){var b=this,f=this.options,f=f.zAxis=s(f.zAxis||{});b.is3d()&&(this.zAxis=[],j(f,function(h,g){h.index=g;h.isX=!0;(new B(b,h)).setScale()}))});e(G.prototype,"getSlotWidth",function(I,z){if(this.chart.is3d()&&z&&z.label&&this.categories){var y=this.chart,x=this.ticks,v=this.gridGroup.element.childNodes[0].getBBox(),t=y.frameShapes.left.getBBox(),w=y.options.chart.options3d,y={x:y.plotWidth/2,y:y.plotHeight/2,z:w.depth/2,vd:D(w.depth,1)*D(w.viewDistance,0)},r,h,w=z.pos,m=x[w-1],x=x[w+1];0!==w&&m&&(r=o({x:m.label.xy.x,y:m.label.xy.y,z:null},y,y.vd));x&&x.label.xy&&(h=o({x:x.label.xy.x,y:x.label.xy.y,z:null},y,y.vd));x={x:z.label.xy.x,y:z.label.xy.y,z:null};x=o(x,y,y.vd);return Math.abs(r?x.x-r.x:h?h.x-x.x:v.x-t.x)}return I.apply(this,[].slice.call(arguments,1))})})(a);(function(c){var e=c.addEvent,f=c.perspective,d=c.pick;e(c.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});c.Series.prototype.translate3dPoints=function(){var i=this.chart,h=d(this.zAxis,i.options.zAxis[0]),g=[],k,j,n;for(n=0;n<this.data.length;n++){k=this.data[n],h&&h.translate?(j=h.isLog&&h.val2lin?h.val2lin(k.z):k.z,k.plotZ=h.translate(j),k.isInside=k.isInside?j>=h.min&&j<=h.max:!1):k.plotZ=0,k.axisXpos=k.plotX,k.axisYpos=k.plotY,k.axisZpos=k.plotZ,g.push({x:k.plotX,y:k.plotY,z:k.plotZ})}i=f(g,i,!0);for(n=0;n<this.data.length;n++){k=this.data[n],h=i[n],k.plotX=h.x,k.plotY=h.y,k.plotZ=h.z}}})(a);(function(h){var f=h.addEvent,g=h.each,c=h.perspective,k=h.pick,d=h.Series,i=h.seriesTypes,e=h.inArray,j=h.svg,n=h.wrap;n(i.column.prototype,"translate",function(l){l.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.translate3dShapes()});n(h.Series.prototype,"alignDataLabel",function(l){arguments[3].outside3dPlot=arguments[1].outside3dPlot;l.apply(this,[].slice.call(arguments,1))});n(h.Series.prototype,"justifyDataLabel",function(l){return arguments[2].outside3dPlot?!1:l.apply(this,[].slice.call(arguments,1))});i.column.prototype.translate3dPoints=function(){};i.column.prototype.translate3dShapes=function(){var l=this,p=l.chart,m=l.options,r=m.depth||25,q=(m.stacking?m.stack||0:l.index)*(r+(m.groupZPadding||1)),o=l.borderWidth%2?0.5:0;p.inverted&&!l.yAxis.reversed&&(o*=-1);!1!==m.grouping&&(q=0);q+=m.groupZPadding||1;g(l.data,function(s){s.outside3dPlot=null;if(null!==s.y){var t=s.shapeArgs,u=s.tooltipPos,b;g([["x","width"],["y","height"]],function(w){b=t[w[0]]-o;0>b&&(t[w[1]]+=t[w[0]]+o,t[w[0]]=-o,b=0);b+t[w[1]]>l[w[0]+"Axis"].len&&0!==t[w[1]]&&(t[w[1]]=l[w[0]+"Axis"].len-t[w[0]]);if(0!==t[w[1]]&&(t[w[0]]>=l[w[0]+"Axis"].len||t[w[0]]+t[w[1]]<=o)){for(var v in t){t[v]=0}s.outside3dPlot=!0}});s.shapeType="cuboid";t.z=q;t.depth=r;t.insidePlotArea=!0;u=c([{x:u[0],y:u[1],z:q}],p,!0)[0];s.tooltipPos=[u.x,u.y]}});l.z=q};n(i.column.prototype,"animate",function(l){if(this.chart.is3d()){var o=arguments[1],m=this.yAxis,q=this,p=this.yAxis.reversed;j&&(o?g(q.data,function(r){null!==r.y&&(r.height=r.shapeArgs.height,r.shapey=r.shapeArgs.y,r.shapeArgs.height=1,p||(r.shapeArgs.y=r.stackY?r.plotY+m.translate(r.stackY):r.plotY+(r.negative?-r.height:r.height)))}):(g(q.data,function(b){null!==b.y&&(b.shapeArgs.height=b.height,b.shapeArgs.y=b.shapey,b.graphic&&b.graphic.animate(b.shapeArgs,q.options.animation))}),this.drawDataLabels(),q.animate=null))}else{l.apply(this,[].slice.call(arguments,1))}});n(i.column.prototype,"plotGroup",function(l,p,m,r,q,o){this.chart.is3d()&&o&&!this[p]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(o)),this[p]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[p].survive=!0);return l.apply(this,Array.prototype.slice.call(arguments,1))});n(i.column.prototype,"setVisible",function(l,o){var m=this,p;m.chart.is3d()&&g(m.data,function(q){p=(q.visible=q.options.visible=o=void 0===o?!q.visible:o)?"visible":"hidden";m.options.data[e(q,m.data)]=q.options;q.graphic&&q.graphic.attr({visibility:p})});l.apply(this,Array.prototype.slice.call(arguments,1))});i.column.prototype.handle3dGrouping=!0;f(d,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var l=this.options,o=l.grouping,m=l.stacking,q=k(this.yAxis.options.reversedStacks,!0),p=0;if(void 0===o||o){o=this.chart.retrieveStacks(m);p=l.stack||0;for(m=0;m<o[p].series.length&&o[p].series[m]!==this;m++){}p=10*(o.totalStacks-o[p].position)+(q?m:-m);this.xAxis.reversed||(p=10*o.totalStacks-p)}l.zIndex=p}});n(d.prototype,"alignDataLabel",function(l){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var o=arguments,m=o[4],o=o[1],p={x:m.x,y:m.y,z:this.z},p=c([p],this.chart,!0)[0];m.x=p.x;m.y=o.outside3dPlot?-9000000000:p.y}l.apply(this,[].slice.call(arguments,1))});n(h.StackItem.prototype,"getStackBox",function(m,o){var b=m.apply(this,[].slice.call(arguments,1));if(o.is3d()){var p={x:b.x,y:b.y,z:0},p=h.perspective([p],o,!0)[0];b.x=p.x;b.y=p.y}return b})})(a);(function(c){var f=c.deg2rad,g=c.each,e=c.seriesTypes,d=c.svg;c=c.wrap;c(e.pie.prototype,"translate",function(j){j.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var i=this,n=i.options,s=n.depth||0,o=i.chart.options.chart.options3d,u=o.alpha,p=o.beta,k=n.stacking?(n.stack||0)*s:i._i*s,k=k+s/2;!1!==n.grouping&&(k=0);g(i.data,function(h){var l=h.shapeArgs;h.shapeType="arc3d";l.z=k;l.depth=0.75*s;l.alpha=u;l.beta=p;l.center=i.center;l=(l.end+l.start)/2;h.slicedTranslation={translateX:Math.round(Math.cos(l)*n.slicedOffset*Math.cos(u*f)),translateY:Math.round(Math.sin(l)*n.slicedOffset*Math.cos(u*f))}})}});c(e.pie.prototype.pointClass.prototype,"haloPath",function(i){var h=arguments;return this.series.chart.is3d()?[]:i.call(this,h[1])});c(e.pie.prototype,"drawPoints",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&g(this.points,function(i){var j=i.graphic;if(j){j[i.y&&i.visible?"show":"hide"]()}})});c(e.pie.prototype,"drawDataLabels",function(i){if(this.chart.is3d()){var h=this.chart.options.chart.options3d;g(this.data,function(j){var m=j.shapeArgs,o=m.r,s=(m.start+m.end)/2,n=j.labelPos,k=-o*(1-Math.cos((m.alpha||h.alpha)*f))*Math.sin(s),p=o*(Math.cos((m.beta||h.beta)*f)-1)*Math.cos(s);g([0,2,4],function(l){n[l]+=p;n[l+1]+=k})})}i.apply(this,[].slice.call(arguments,1))});c(e.pie.prototype,"addPoint",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});c(e.pie.prototype,"animate",function(i){if(this.chart.is3d()){var h=arguments[1],j=this.options.animation,n=this.center,k=this.group,o=this.markerGroup;d&&(!0===j&&(j={}),h?(k.oldtranslateX=k.translateX,k.oldtranslateY=k.translateY,h={translateX:n[0],translateY:n[1],scaleX:0.001,scaleY:0.001},k.attr(h),o&&(o.attrSetters=k.attrSetters,o.attr(h))):(h={translateX:k.oldtranslateX,translateY:k.oldtranslateY,scaleX:1,scaleY:1},k.animate(h,j),o&&o.animate(h,j),this.animate=null))}else{i.apply(this,[].slice.call(arguments,1))}})})(a);(function(c){var e=c.Point,f=c.seriesType,d=c.seriesTypes;f("scatter3d","scatter",{tooltip:{pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e"}},{pointAttribs:function(g){var b=d.scatter.prototype.pointAttribs.apply(this,arguments);this.chart.is3d()&&g&&(b.zIndex=c.pointCameraDistance(g,this.chart));return b},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){e.prototype.applyOptions.apply(this,arguments);void 0===this.z&&(this.z=0);return this}})})(a)});