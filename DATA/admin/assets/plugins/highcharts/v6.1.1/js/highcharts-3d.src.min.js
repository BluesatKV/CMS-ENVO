"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(c){var b=c.deg2rad,d=c.pick;function e(f,i,h,g){return{x:g.cosB*f-g.sinB*h,y:-g.sinA*g.sinB*f+g.cosA*i-g.cosB*g.sinA*h,z:g.cosA*g.sinB*f+g.sinA*i+g.cosA*g.cosB*h}}c.perspective3D=function(i,g,h){var f=((h>0)&&(h<Number.POSITIVE_INFINITY))?h/(i.z+g.z+h):1;return{x:i.x*f,y:i.y*f}};c.perspective=function(o,k,f){var j=k.options.chart.options3d,h=f?k.inverted:false,n={x:k.plotWidth/2,y:k.plotHeight/2,z:j.depth/2,vd:d(j.depth,1)*d(j.viewDistance,0)},g=k.scale3d||1,m=b*j.beta*(h?-1:1),i=b*j.alpha*(h?-1:1),l={cosA:Math.cos(i),cosB:Math.cos(-m),sinA:Math.sin(i),sinB:Math.sin(-m)};if(!f){n.x+=k.plotLeft;n.y+=k.plotTop}return c.map(o,function(p){var q=e((h?p.y:p.x)-n.x,(h?p.x:p.y)-n.y,(p.z||0)-n.z,l),r=c.perspective3D(q,n,n.vd);r.x=r.x*g+n.x;r.y=r.y*g+n.y;r.z=q.z*g+n.z;return{x:(h?r.y:r.x),y:(h?r.x:r.y),z:r.z}})};c.pointCameraDistance=function(h,g){var f=g.options.chart.options3d,j={x:g.plotWidth/2,y:g.plotHeight/2,z:d(f.depth,1)*d(f.viewDistance,0)+f.depth},i=Math.sqrt(Math.pow(j.x-h.plotX,2)+Math.pow(j.y-h.plotY,2)+Math.pow(j.z-h.plotZ,2));return i};c.shapeArea=function(k){var h=0,g,f;for(g=0;g<k.length;g++){f=(g+1)%k.length;h+=k[g].x*k[f].y-k[f].x*k[g].y}return h/2};c.shapeArea3d=function(h,g,f){return c.shapeArea(c.perspective(h,g,f))}}(a));(function(k){var d=Math.cos,p=Math.PI,b=Math.sin;var j=k.animObject,s=k.charts,r=k.color,c=k.defined,h=k.deg2rad,e=k.each,u=k.extend,t=k.inArray,v=k.map,g=k.merge,o=k.perspective,f=k.pick,l=k.SVGElement,q=k.SVGRenderer,i=k.wrap;var n=(4*(Math.sqrt(2)-1)/3)/(p/2);function m(B,z,y,w,x,A,F,D){var E=[],C=A-x;if((A>x)&&(A-x>Math.PI/2+0.0001)){E=E.concat(m(B,z,y,w,x,x+(Math.PI/2),F,D));E=E.concat(m(B,z,y,w,x+(Math.PI/2),A,F,D));return E}if((A<x)&&(x-A>Math.PI/2+0.0001)){E=E.concat(m(B,z,y,w,x,x-(Math.PI/2),F,D));E=E.concat(m(B,z,y,w,x-(Math.PI/2),A,F,D));return E}return["C",B+(y*Math.cos(x))-((y*n*C)*Math.sin(x))+F,z+(w*Math.sin(x))+((w*n*C)*Math.cos(x))+D,B+(y*Math.cos(A))+((y*n*C)*Math.sin(A))+F,z+(w*Math.sin(A))-((w*n*C)*Math.cos(A))+D,B+(y*Math.cos(A))+F,z+(w*Math.sin(A))+D]}i(q.prototype,"init",function(w){w.apply(this,[].slice.call(arguments,1));e([{name:"darker",slope:0.6},{name:"brighter",slope:1.4}],function(x){this.definition({tagName:"filter",id:"highcharts-"+x.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:x.slope},{tagName:"feFuncG",type:"linear",slope:x.slope},{tagName:"feFuncB",type:"linear",slope:x.slope}]}]})},this)});q.prototype.toLinePath=function(y,x){var w=[];e(y,function(z){w.push("L",z.x,z.y)});if(y.length){w[0]="M";if(x){w.push("Z")}}return w};q.prototype.toLineSegments=function(y){var x=[];var w=true;e(y,function(z){x.push(w?"M":"L",z.x,z.y);w=!w});return x};q.prototype.face3d=function(x){var y=this,w=this.createElement("path");w.vertexes=[];w.insidePlotArea=false;w.enabled=true;i(w,"attr",function(D,F){if(typeof F==="object"&&(c(F.enabled)||c(F.vertexes)||c(F.insidePlotArea))){this.enabled=f(F.enabled,this.enabled);this.vertexes=f(F.vertexes,this.vertexes);this.insidePlotArea=f(F.insidePlotArea,this.insidePlotArea);delete F.enabled;delete F.vertexes;delete F.insidePlotArea;var B=s[y.chartIndex],A=o(this.vertexes,B,this.insidePlotArea),E=y.toLinePath(A,true),C=k.shapeArea(A),z=(this.enabled&&C>0)?"visible":"hidden";F.d=E;F.visibility=z}return D.apply(this,[].slice.call(arguments,1))});i(w,"animate",function(D,F){if(typeof F==="object"&&(c(F.enabled)||c(F.vertexes)||c(F.insidePlotArea))){this.enabled=f(F.enabled,this.enabled);this.vertexes=f(F.vertexes,this.vertexes);this.insidePlotArea=f(F.insidePlotArea,this.insidePlotArea);delete F.enabled;delete F.vertexes;delete F.insidePlotArea;var B=s[y.chartIndex],A=o(this.vertexes,B,this.insidePlotArea),E=y.toLinePath(A,true),C=k.shapeArea(A),z=(this.enabled&&C>0)?"visible":"hidden";F.d=E;this.attr("visibility",z)}return D.apply(this,[].slice.call(arguments,1))});return w.attr(x)};q.prototype.polyhedron=function(x){var z=this,w=this.g(),y=w.destroy;w.faces=[];w.destroy=function(){for(var A=0;A<w.faces.length;A++){w.faces[A].destroy()}return y.call(this)};i(w,"attr",function(D,E,F,A,C){if(typeof E==="object"&&c(E.faces)){while(w.faces.length>E.faces.length){w.faces.pop().destroy()}while(w.faces.length<E.faces.length){w.faces.push(z.face3d().add(w))}for(var B=0;B<E.faces.length;B++){w.faces[B].attr(E.faces[B],null,A,C)}delete E.faces}return D.apply(this,[].slice.call(arguments,1))});i(w,"animate",function(C,E,D,A){if(E&&E.faces){while(w.faces.length>E.faces.length){w.faces.pop().destroy()}while(w.faces.length<E.faces.length){w.faces.push(z.face3d().add(w))}for(var B=0;B<E.faces.length;B++){w.faces[B].animate(E.faces[B],D,A)}delete E.faces}return C.apply(this,[].slice.call(arguments,1))});return w.attr(x)};q.prototype.cuboid=function(y){var w=this.g(),x=w.destroy,z=this.cuboidPath(y);w.front=this.path(z[0]).attr({"class":"highcharts-3d-front"}).add(w);w.top=this.path(z[1]).attr({"class":"highcharts-3d-top"}).add(w);w.side=this.path(z[2]).attr({"class":"highcharts-3d-side"}).add(w);w.fillSetter=function(A){this.front.attr({fill:A});this.top.attr({fill:r(A).brighten(0.1).get()});this.side.attr({fill:r(A).brighten(-0.1).get()});this.color=A;w.fill=A;return this};w.opacitySetter=function(A){this.front.attr({opacity:A});this.top.attr({opacity:A});this.side.attr({opacity:A});return this};w.attr=function(B,G,A,E){if(typeof B==="string"&&typeof G!=="undefined"){var D=B;B={};B[D]=G}if(B.shapeArgs||c(B.x)){var C=B.shapeArgs||B;var F=this.renderer.cuboidPath(C);this.front.attr({d:F[0]});this.top.attr({d:F[1]});this.side.attr({d:F[2]})}else{return l.prototype.attr.call(this,B,undefined,A,E)}return this};w.animate=function(B,C,A){if(c(B.x)&&c(B.y)){var D=this.renderer.cuboidPath(B);this.front.animate({d:D[0]},C,A);this.top.animate({d:D[1]},C,A);this.side.animate({d:D[2]},C,A);this.attr({zIndex:-D[3]})}else{if(B.opacity){this.front.animate(B,C,A);this.top.animate(B,C,A);this.side.animate(B,C,A)}else{l.prototype.animate.call(this,B,C,A)}}return this};w.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return x.call(this)};w.attr({zIndex:-z[3]});return w};k.SVGRenderer.prototype.cuboidPath=function(ad){var S=ad.x,R=ad.y,O=ad.z,Z=ad.height,T=ad.width,ab=ad.depth,V=s[this.chartIndex],M,X,U,N,J,ac,I,H,G,E,Q,Y,C,P=V.options.chart.options3d,K=P.alpha,F=10000,D=10,B=100,W=0;var A=[{x:S,y:R,z:O},{x:S+T,y:R,z:O},{x:S+T,y:R+Z,z:O},{x:S,y:R+Z,z:O},{x:S,y:R+Z,z:O+ab},{x:S+T,y:R+Z,z:O+ab},{x:S+T,y:R,z:O+ab},{x:S,y:R,z:O+ab}];A=o(A,V,ad.insidePlotArea);function L(w){return A[w]}var aa=function(y,x){var w=[[],-1];y=v(y,L);x=v(x,L);if(k.shapeArea(y)<0){w=[y,0]}else{if(k.shapeArea(x)<0){w=[x,1]}}return w};M=[3,2,1,0];X=[7,6,5,4];I=aa(M,X);H=I[0];Q=I[1];U=[1,6,7,0];N=[4,5,2,3];I=aa(U,N);G=I[0];Y=I[1];ac=[1,2,5,6];J=[0,7,4,3];I=aa(ac,J);E=I[0];C=I[1];if(C===1){W+=F*(1000-S)}else{if(!C){W+=F*S}}W+=D*(!Y||(K>=0&&K<=180||K<360&&K>357.5)?V.plotHeight-R:10+R);if(Q===1){W+=B*(O)}else{if(!Q){W+=B*(1000-O)}}W=-Math.round(W);return[this.toLinePath(H,true),this.toLinePath(G,true),this.toLinePath(E,true),W]};k.SVGRenderer.prototype.arc3d=function(z){var A=this.g(),x=A.renderer,y=["x","y","r","innerR","start","end"];function w(E){var D=false,B={};E=g(E);for(var C in E){if(t(C,y)!==-1){B[C]=E[C];delete E[C];D=true}}return D?B:false}z=g(z);z.alpha*=h;z.beta*=h;A.top=x.path();A.side1=x.path();A.side2=x.path();A.inn=x.path();A.out=x.path();A.onAdd=function(){var C=A.parentGroup,B=A.attr("class");A.top.add(A);e(["out","inn","side1","side2"],function(D){A[D].attr({"class":B+" highcharts-3d-side"}).add(C)})};e(["addClass","removeClass"],function(B){A[B]=function(){var C=arguments;e(["top","out","inn","side1","side2"],function(D){A[D][B].apply(A[D],C)})}});A.setPaths=function(C){var B=A.renderer.arc3dPath(C),D=B.zTop*100;A.attribs=C;A.top.attr({d:B.top,zIndex:B.zTop});A.inn.attr({d:B.inn,zIndex:B.zInn});A.out.attr({d:B.out,zIndex:B.zOut});A.side1.attr({d:B.side1,zIndex:B.zSide1});A.side2.attr({d:B.side2,zIndex:B.zSide2});A.zIndex=D;A.attr({zIndex:D});if(C.center){A.top.setRadialReference(C.center);delete C.center}};A.setPaths(z);A.fillSetter=function(B){var C=r(B).brighten(-0.1).get();this.fill=B;this.side1.attr({fill:C});this.side2.attr({fill:C});this.inn.attr({fill:C});this.out.attr({fill:C});this.top.attr({fill:B});return this};e(["opacity","translateX","translateY","visibility"],function(B){A[B+"Setter"]=function(D,C){A[C]=D;e(["out","inn","side1","side2","top"],function(E){A[E].attr(C,D)})}});i(A,"attr",function(C,D){var B;if(typeof D==="object"){B=w(D);if(B){u(A.attribs,B);A.setPaths(A.attribs)}}return C.apply(this,[].slice.call(arguments,1))});i(A,"animate",function(D,G,F,C){var B,I=this.attribs,H,E;delete G.center;delete G.z;delete G.depth;delete G.alpha;delete G.beta;E=j(f(F,this.renderer.globalAnimation));if(E.duration){B=w(G);G.dummy=A.dummy++;if(B){H=B;E.step=function(J,L){function K(M){return I[M]+(f(H[M],I[M])-I[M])*L.pos}if(L.prop==="dummy"){L.elem.setPaths(g(I,{x:K("x"),y:K("y"),r:K("r"),innerR:K("innerR"),start:K("start"),end:K("end")}))}}}F=E}return D.call(this,G,F,C)});A.dummy=0;A.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();l.prototype.destroy.call(this)};A.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};A.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return A};q.prototype.arc3dPath=function(z){var G=z.x,F=z.y,K=z.start,B=z.end-0.00001,Z=z.r,N=z.innerR,af=z.depth,ae=z.alpha,U=z.beta;var J=Math.cos(K),A=Math.sin(K),S=Math.cos(B),E=Math.sin(B),O=Z*Math.cos(U),L=Z*Math.cos(ae),D=N*Math.cos(U),C=N*Math.cos(ae),x=af*Math.sin(U),w=af*Math.sin(ae);var y=["M",G+(O*J),F+(L*A)];y=y.concat(m(G,F,O,L,K,B,0,0));y=y.concat(["L",G+(D*S),F+(C*E)]);y=y.concat(m(G,F,D,C,B,K,0,0));y=y.concat(["Z"]);var ag=(U>0?Math.PI/2:0),ah=(ae>0?0:Math.PI/2);var ad=K>-ag?K:(B>-ag?-ag:K),P=B<p-ah?B:(K<p-ah?p-ah:B),T=2*p-ah;var X=["M",G+(O*d(ad)),F+(L*b(ad))];X=X.concat(m(G,F,O,L,ad,P,0,0));if(B>T&&K<T){X=X.concat(["L",G+(O*d(P))+x,F+(L*b(P))+w]);X=X.concat(m(G,F,O,L,P,T,x,w));X=X.concat(["L",G+(O*d(T)),F+(L*b(T))]);X=X.concat(m(G,F,O,L,T,B,0,0));X=X.concat(["L",G+(O*d(B))+x,F+(L*b(B))+w]);X=X.concat(m(G,F,O,L,B,T,x,w));X=X.concat(["L",G+(O*d(T)),F+(L*b(T))]);X=X.concat(m(G,F,O,L,T,P,0,0))}else{if(B>p-ah&&K<p-ah){X=X.concat(["L",G+(O*Math.cos(P))+x,F+(L*Math.sin(P))+w]);X=X.concat(m(G,F,O,L,P,B,x,w));X=X.concat(["L",G+(O*Math.cos(B)),F+(L*Math.sin(B))]);X=X.concat(m(G,F,O,L,B,P,0,0))}}X=X.concat(["L",G+(O*Math.cos(P))+x,F+(L*Math.sin(P))+w]);X=X.concat(m(G,F,O,L,P,ad,x,w));X=X.concat(["Z"]);var Y=["M",G+(D*J),F+(C*A)];Y=Y.concat(m(G,F,D,C,K,B,0,0));Y=Y.concat(["L",G+(D*Math.cos(B))+x,F+(C*Math.sin(B))+w]);Y=Y.concat(m(G,F,D,C,B,K,x,w));Y=Y.concat(["Z"]);var R=["M",G+(O*J),F+(L*A),"L",G+(O*J)+x,F+(L*A)+w,"L",G+(D*J)+x,F+(C*A)+w,"L",G+(D*J),F+(C*A),"Z"];var Q=["M",G+(O*S),F+(L*E),"L",G+(O*S)+x,F+(L*E)+w,"L",G+(D*S)+x,F+(C*E)+w,"L",G+(D*S),F+(C*E),"Z"];var M=Math.atan2(w,-x),ai=Math.abs(B+M),W=Math.abs(K+M),V=Math.abs((K+B)/2+M);function I(aj){aj=aj%(2*Math.PI);if(aj>Math.PI){aj=2*Math.PI-aj}return aj}ai=I(ai);W=I(W);V=I(V);var H=100000,ac=V*H,ab=W*H,aa=ai*H;return{top:y,zTop:Math.PI*H+1,out:X,zOut:Math.max(ac,ab,aa),inn:Y,zInn:Math.max(ac,ab,aa),side1:R,zSide1:aa*0.99,side2:Q,zSide2:ab*0.99}}}(a));(function(l){var f=l.addEvent,g=l.Chart,j=l.each,i=l.merge,d=l.perspective,h=l.pick,c=l.wrap;g.prototype.is3d=function(){return(this.options.chart.options3d&&this.options.chart.options3d.enabled)};g.prototype.propsRequireDirtyBox.push("chart.options3d");g.prototype.propsRequireUpdateSeries.push("chart.options3d");f(g,"afterInit",function(){var m=this.options;if(this.is3d()){j(m.series,function(o){var n=o.type||m.chart.type||m.chart.defaultSeriesType;if(n==="scatter"){o.type="scatter3d"}})}});f(g,"addSeries",function(m){if(this.is3d()){if(m.options.type==="scatter"){m.options.type="scatter3d"}}});function k(s,o){var m=s.plotLeft,p=s.plotWidth+m,t=s.plotTop,u=s.plotHeight+t,w=m+s.plotWidth/2,v=t+s.plotHeight/2,r={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},q,n=1;q=[{x:m,y:t,z:0},{x:m,y:t,z:o}];j([0,1],function(x){q.push({x:p,y:q[x].y,z:q[x].z})});j([0,1,2,3],function(x){q.push({x:q[x].x,y:u,z:q[x].z})});q=d(q,s,false);j(q,function(x){r.minX=Math.min(r.minX,x.x);r.maxX=Math.max(r.maxX,x.x);r.minY=Math.min(r.minY,x.y);r.maxY=Math.max(r.maxY,x.y)});if(m>r.minX){n=Math.min(n,1-Math.abs((m+w)/(r.minX+w))%1)}if(p<r.maxX){n=Math.min(n,(p-w)/(r.maxX-w))}if(t>r.minY){if(r.minY<0){n=Math.min(n,(t+v)/(-r.minY+t+v))}else{n=Math.min(n,1-(t+v)/(r.minY+v)%1)}}if(u<r.maxY){n=Math.min(n,Math.abs((u-v)/(r.maxY-v)))}return n}l.wrap(l.Chart.prototype,"isInsidePlot",function(m){return this.is3d()||m.apply(this,[].slice.call(arguments,1))});var e=l.getOptions();var b={chart:{options3d:{enabled:false,alpha:0,beta:0,depth:100,fitToPlot:true,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};i(true,e,b);f(g,"afterGetContainer",function(){this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"})});c(g.prototype,"setClassName",function(m){m.apply(this,[].slice.call(arguments,1));if(this.is3d()){this.container.className+=" highcharts-3d-chart"}});f(l.Chart,"afterSetChartSize",function(){var r=this,q=r.options.chart.options3d;if(r.is3d()){var n=r.inverted,m=r.clipBox,o=r.margin,t=n?"y":"x",s=n?"x":"y",u=n?"height":"width",p=n?"width":"height";m[t]=-(o[3]||0);m[s]=-(o[0]||0);m[u]=r.chartWidth+(o[3]||0)+(o[1]||0);m[p]=r.chartHeight+(o[0]||0)+(o[2]||0);r.scale3d=1;if(q.fitToPlot===true){r.scale3d=k(r,q.depth)}r.frame3d=this.get3dFrame()}});f(g,"beforeRedraw",function(){if(this.is3d()){this.isDirtyBox=true}});f(g,"beforeRender",function(){if(this.is3d()){this.frame3d=this.get3dFrame()}});c(g.prototype,"renderSeries",function(o){var n,m=this.series.length;if(this.is3d()){while(m--){n=this.series[m];n.translate();n.render()}}else{o.call(this)}});f(g,"afterDrawChartBox",function(){if(this.is3d()){var y=this,x=y.renderer,v=this.options.chart.options3d,n=y.get3dFrame(),u=this.plotLeft,r=this.plotLeft+this.plotWidth,o=this.plotTop,m=this.plotTop+this.plotHeight,B=0,A=v.depth,s=u-(n.left.visible?n.left.size:0),q=r+(n.right.visible?n.right.size:0),w=o-(n.top.visible?n.top.size:0),t=m+(n.bottom.visible?n.bottom.size:0),C=B-(n.front.visible?n.front.size:0),z=A+(n.back.visible?n.back.size:0),p=y.hasRendered?"animate":"attr";this.frame3d=n;if(!this.frameShapes){this.frameShapes={bottom:x.polyhedron().add(),top:x.polyhedron().add(),left:x.polyhedron().add(),right:x.polyhedron().add(),back:x.polyhedron().add(),front:x.polyhedron().add()}}this.frameShapes.bottom[p]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:n.bottom.frontFacing?-1000:1000,faces:[{fill:l.color(n.bottom.color).brighten(0.1).get(),vertexes:[{x:s,y:t,z:C},{x:q,y:t,z:C},{x:q,y:t,z:z},{x:s,y:t,z:z}],enabled:n.bottom.visible},{fill:l.color(n.bottom.color).brighten(0.1).get(),vertexes:[{x:u,y:m,z:A},{x:r,y:m,z:A},{x:r,y:m,z:B},{x:u,y:m,z:B}],enabled:n.bottom.visible},{fill:l.color(n.bottom.color).brighten(-0.1).get(),vertexes:[{x:s,y:t,z:C},{x:s,y:t,z:z},{x:u,y:m,z:A},{x:u,y:m,z:B}],enabled:n.bottom.visible&&!n.left.visible},{fill:l.color(n.bottom.color).brighten(-0.1).get(),vertexes:[{x:q,y:t,z:z},{x:q,y:t,z:C},{x:r,y:m,z:B},{x:r,y:m,z:A}],enabled:n.bottom.visible&&!n.right.visible},{fill:l.color(n.bottom.color).get(),vertexes:[{x:q,y:t,z:C},{x:s,y:t,z:C},{x:u,y:m,z:B},{x:r,y:m,z:B}],enabled:n.bottom.visible&&!n.front.visible},{fill:l.color(n.bottom.color).get(),vertexes:[{x:s,y:t,z:z},{x:q,y:t,z:z},{x:r,y:m,z:A},{x:u,y:m,z:A}],enabled:n.bottom.visible&&!n.back.visible}]});this.frameShapes.top[p]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:n.top.frontFacing?-1000:1000,faces:[{fill:l.color(n.top.color).brighten(0.1).get(),vertexes:[{x:s,y:w,z:z},{x:q,y:w,z:z},{x:q,y:w,z:C},{x:s,y:w,z:C}],enabled:n.top.visible},{fill:l.color(n.top.color).brighten(0.1).get(),vertexes:[{x:u,y:o,z:B},{x:r,y:o,z:B},{x:r,y:o,z:A},{x:u,y:o,z:A}],enabled:n.top.visible},{fill:l.color(n.top.color).brighten(-0.1).get(),vertexes:[{x:s,y:w,z:z},{x:s,y:w,z:C},{x:u,y:o,z:B},{x:u,y:o,z:A}],enabled:n.top.visible&&!n.left.visible},{fill:l.color(n.top.color).brighten(-0.1).get(),vertexes:[{x:q,y:w,z:C},{x:q,y:w,z:z},{x:r,y:o,z:A},{x:r,y:o,z:B}],enabled:n.top.visible&&!n.right.visible},{fill:l.color(n.top.color).get(),vertexes:[{x:s,y:w,z:C},{x:q,y:w,z:C},{x:r,y:o,z:B},{x:u,y:o,z:B}],enabled:n.top.visible&&!n.front.visible},{fill:l.color(n.top.color).get(),vertexes:[{x:q,y:w,z:z},{x:s,y:w,z:z},{x:u,y:o,z:A},{x:r,y:o,z:A}],enabled:n.top.visible&&!n.back.visible}]});this.frameShapes.left[p]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:n.left.frontFacing?-1000:1000,faces:[{fill:l.color(n.left.color).brighten(0.1).get(),vertexes:[{x:s,y:t,z:C},{x:u,y:m,z:B},{x:u,y:m,z:A},{x:s,y:t,z:z}],enabled:n.left.visible&&!n.bottom.visible},{fill:l.color(n.left.color).brighten(0.1).get(),vertexes:[{x:s,y:w,z:z},{x:u,y:o,z:A},{x:u,y:o,z:B},{x:s,y:w,z:C}],enabled:n.left.visible&&!n.top.visible},{fill:l.color(n.left.color).brighten(-0.1).get(),vertexes:[{x:s,y:t,z:z},{x:s,y:w,z:z},{x:s,y:w,z:C},{x:s,y:t,z:C}],enabled:n.left.visible},{fill:l.color(n.left.color).brighten(-0.1).get(),vertexes:[{x:u,y:o,z:A},{x:u,y:m,z:A},{x:u,y:m,z:B},{x:u,y:o,z:B}],enabled:n.left.visible},{fill:l.color(n.left.color).get(),vertexes:[{x:s,y:t,z:C},{x:s,y:w,z:C},{x:u,y:o,z:B},{x:u,y:m,z:B}],enabled:n.left.visible&&!n.front.visible},{fill:l.color(n.left.color).get(),vertexes:[{x:s,y:w,z:z},{x:s,y:t,z:z},{x:u,y:m,z:A},{x:u,y:o,z:A}],enabled:n.left.visible&&!n.back.visible}]});this.frameShapes.right[p]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:n.right.frontFacing?-1000:1000,faces:[{fill:l.color(n.right.color).brighten(0.1).get(),vertexes:[{x:q,y:t,z:z},{x:r,y:m,z:A},{x:r,y:m,z:B},{x:q,y:t,z:C}],enabled:n.right.visible&&!n.bottom.visible},{fill:l.color(n.right.color).brighten(0.1).get(),vertexes:[{x:q,y:w,z:C},{x:r,y:o,z:B},{x:r,y:o,z:A},{x:q,y:w,z:z}],enabled:n.right.visible&&!n.top.visible},{fill:l.color(n.right.color).brighten(-0.1).get(),vertexes:[{x:r,y:o,z:B},{x:r,y:m,z:B},{x:r,y:m,z:A},{x:r,y:o,z:A}],enabled:n.right.visible},{fill:l.color(n.right.color).brighten(-0.1).get(),vertexes:[{x:q,y:t,z:C},{x:q,y:w,z:C},{x:q,y:w,z:z},{x:q,y:t,z:z}],enabled:n.right.visible},{fill:l.color(n.right.color).get(),vertexes:[{x:q,y:w,z:C},{x:q,y:t,z:C},{x:r,y:m,z:B},{x:r,y:o,z:B}],enabled:n.right.visible&&!n.front.visible},{fill:l.color(n.right.color).get(),vertexes:[{x:q,y:t,z:z},{x:q,y:w,z:z},{x:r,y:o,z:A},{x:r,y:m,z:A}],enabled:n.right.visible&&!n.back.visible}]});this.frameShapes.back[p]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:n.back.frontFacing?-1000:1000,faces:[{fill:l.color(n.back.color).brighten(0.1).get(),vertexes:[{x:q,y:t,z:z},{x:s,y:t,z:z},{x:u,y:m,z:A},{x:r,y:m,z:A}],enabled:n.back.visible&&!n.bottom.visible},{fill:l.color(n.back.color).brighten(0.1).get(),vertexes:[{x:s,y:w,z:z},{x:q,y:w,z:z},{x:r,y:o,z:A},{x:u,y:o,z:A}],enabled:n.back.visible&&!n.top.visible},{fill:l.color(n.back.color).brighten(-0.1).get(),vertexes:[{x:s,y:t,z:z},{x:s,y:w,z:z},{x:u,y:o,z:A},{x:u,y:m,z:A}],enabled:n.back.visible&&!n.left.visible},{fill:l.color(n.back.color).brighten(-0.1).get(),vertexes:[{x:q,y:w,z:z},{x:q,y:t,z:z},{x:r,y:m,z:A},{x:r,y:o,z:A}],enabled:n.back.visible&&!n.right.visible},{fill:l.color(n.back.color).get(),vertexes:[{x:u,y:o,z:A},{x:r,y:o,z:A},{x:r,y:m,z:A},{x:u,y:m,z:A}],enabled:n.back.visible},{fill:l.color(n.back.color).get(),vertexes:[{x:s,y:t,z:z},{x:q,y:t,z:z},{x:q,y:w,z:z},{x:s,y:w,z:z}],enabled:n.back.visible}]});this.frameShapes.front[p]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:n.front.frontFacing?-1000:1000,faces:[{fill:l.color(n.front.color).brighten(0.1).get(),vertexes:[{x:s,y:t,z:C},{x:q,y:t,z:C},{x:r,y:m,z:B},{x:u,y:m,z:B}],enabled:n.front.visible&&!n.bottom.visible},{fill:l.color(n.front.color).brighten(0.1).get(),vertexes:[{x:q,y:w,z:C},{x:s,y:w,z:C},{x:u,y:o,z:B},{x:r,y:o,z:B}],enabled:n.front.visible&&!n.top.visible},{fill:l.color(n.front.color).brighten(-0.1).get(),vertexes:[{x:s,y:w,z:C},{x:s,y:t,z:C},{x:u,y:m,z:B},{x:u,y:o,z:B}],enabled:n.front.visible&&!n.left.visible},{fill:l.color(n.front.color).brighten(-0.1).get(),vertexes:[{x:q,y:t,z:C},{x:q,y:w,z:C},{x:r,y:o,z:B},{x:r,y:m,z:B}],enabled:n.front.visible&&!n.right.visible},{fill:l.color(n.front.color).get(),vertexes:[{x:r,y:o,z:B},{x:u,y:o,z:B},{x:u,y:m,z:B},{x:r,y:m,z:B}],enabled:n.front.visible},{fill:l.color(n.front.color).get(),vertexes:[{x:q,y:t,z:C},{x:s,y:t,z:C},{x:s,y:w,z:C},{x:q,y:w,z:C}],enabled:n.front.visible}]})}});g.prototype.retrieveStacks=function(o){var n=this.series,p={},q,m=1;j(this.series,function(r){q=h(r.options.stack,(o?0:n.length-1-r.index));if(!p[q]){p[q]={series:[r],position:m};m++}else{p[q].series.push(r)}});p.totalStacks=m+1;return p};g.prototype.get3dFrame=function(){var B=this,x=B.options.chart.options3d,q=x.frame,A=B.plotLeft,z=B.plotLeft+B.plotWidth,N=B.plotTop,K=B.plotTop+B.plotHeight,r=0,o=x.depth,w=function(S){var R=l.shapeArea3d(S,B);if(R>0.5){return 1}if(R<-0.5){return -1}return 0},C=w([{x:A,y:K,z:o},{x:z,y:K,z:o},{x:z,y:K,z:r},{x:A,y:K,z:r}]),y=w([{x:A,y:N,z:r},{x:z,y:N,z:r},{x:z,y:N,z:o},{x:A,y:N,z:o}]),J=w([{x:A,y:N,z:r},{x:A,y:N,z:o},{x:A,y:K,z:o},{x:A,y:K,z:r}]),M=w([{x:z,y:N,z:o},{x:z,y:N,z:r},{x:z,y:K,z:r},{x:z,y:K,z:o}]),u=w([{x:A,y:K,z:r},{x:z,y:K,z:r},{x:z,y:N,z:r},{x:A,y:N,z:r}]),H=w([{x:A,y:N,z:o},{x:z,y:N,z:o},{x:z,y:K,z:o},{x:A,y:K,z:o}]),G=false,E=false,O=false,D=false,Q=false,v=true;j([].concat(B.xAxis,B.yAxis,B.zAxis),function(R){if(R){if(R.horiz){if(R.opposite){E=true}else{G=true}}else{if(R.opposite){D=true}else{O=true}}}});var t=function(R,S,Y){var T=["size","color","visible"];var aa={};for(var W=0;W<T.length;W++){var Z=T[W];for(var V=0;V<R.length;V++){if(typeof R[V]==="object"){var U=R[V][Z];if(U!==undefined&&U!==null){aa[Z]=U;break}}}}var X=Y;if(aa.visible===true||aa.visible===false){X=aa.visible}else{if(aa.visible==="auto"){X=S>0}}return{size:h(aa.size,1),color:h(aa.color,"none"),frontFacing:S>0,visible:X}};var P={bottom:t([q.bottom,q.top,q],C,G),top:t([q.top,q.bottom,q],y,E),left:t([q.left,q.right,q.side,q],J,O),right:t([q.right,q.left,q.side,q],M,D),back:t([q.back,q.front,q],H,v),front:t([q.front,q.back,q],u,Q)};if(x.axisLabelPosition==="auto"){var F=function(R,S){return((R.visible!==S.visible)||(R.visible&&S.visible&&(R.frontFacing!==S.frontFacing)))};var s=[];if(F(P.left,P.front)){s.push({y:(N+K)/2,x:A,z:r,xDir:{x:1,y:0,z:0}})}if(F(P.left,P.back)){s.push({y:(N+K)/2,x:A,z:o,xDir:{x:0,y:0,z:-1}})}if(F(P.right,P.front)){s.push({y:(N+K)/2,x:z,z:r,xDir:{x:0,y:0,z:1}})}if(F(P.right,P.back)){s.push({y:(N+K)/2,x:z,z:o,xDir:{x:-1,y:0,z:0}})}var L=[];if(F(P.bottom,P.front)){L.push({x:(A+z)/2,y:K,z:r,xDir:{x:1,y:0,z:0}})}if(F(P.bottom,P.back)){L.push({x:(A+z)/2,y:K,z:o,xDir:{x:-1,y:0,z:0}})}var n=[];if(F(P.top,P.front)){n.push({x:(A+z)/2,y:N,z:r,xDir:{x:1,y:0,z:0}})}if(F(P.top,P.back)){n.push({x:(A+z)/2,y:N,z:o,xDir:{x:-1,y:0,z:0}})}var p=[];if(F(P.bottom,P.left)){p.push({z:(r+o)/2,y:K,x:A,xDir:{x:0,y:0,z:-1}})}if(F(P.bottom,P.right)){p.push({z:(r+o)/2,y:K,x:z,xDir:{x:0,y:0,z:1}})}var m=[];if(F(P.top,P.left)){m.push({z:(r+o)/2,y:N,x:A,xDir:{x:0,y:0,z:-1}})}if(F(P.top,P.right)){m.push({z:(r+o)/2,y:N,x:z,xDir:{x:0,y:0,z:1}})}var I=function(R,T,V){if(R.length===0){return null}else{if(R.length===1){return R[0]}}var W=0,U=d(R,B,false);for(var S=1;S<U.length;S++){if(V*U[S][T]>V*U[W][T]){W=S}else{if((V*U[S][T]===V*U[W][T])&&(U[S].z<U[W].z)){W=S}}}return R[W]};P.axes={y:{left:I(s,"x",-1),right:I(s,"x",+1)},x:{top:I(n,"y",-1),bottom:I(L,"y",+1)},z:{top:I(m,"y",-1),bottom:I(p,"y",+1)}}}else{P.axes={y:{left:{x:A,z:r,xDir:{x:1,y:0,z:0}},right:{x:z,z:r,xDir:{x:0,y:0,z:1}}},x:{top:{y:N,z:r,xDir:{x:1,y:0,z:0}},bottom:{y:K,z:r,xDir:{x:1,y:0,z:0}}},z:{top:{x:O?z:A,y:N,xDir:O?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:O?z:A,y:K,xDir:O?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}}}return P};l.Fx.prototype.matrixSetter=function(){var n;if(this.pos<1&&(l.isArray(this.start)||l.isArray(this.end))){var p=this.start||[1,0,0,1,0,0];var m=this.end||[1,0,0,1,0,0];n=[];for(var o=0;o<6;o++){n.push(this.pos*m[o]+(1-this.pos)*p[o])}}else{n=this.end}this.elem.attr(this.prop,n,null,true)}}(a));(function(k){var r,n=k.addEvent,h=k.Axis,o=k.Chart,g=k.deg2rad,d=k.each,p=k.extend,f=k.merge,m=k.perspective,i=k.perspective3D,e=k.pick,l=k.shapeArea,s=k.splat,b=k.Tick,j=k.wrap;var q={labels:{position3d:"offset",skew3d:false},title:{position3d:null,skew3d:null}};f(true,h.prototype.defaultOptions,q);n(h,"afterSetOptions",function(){var t;if(this.chart.is3d&&this.chart.is3d()&&this.coll!=="colorAxis"){t=this.options;t.tickWidth=e(t.tickWidth,0);t.gridLineWidth=e(t.gridLineWidth,1)}});j(h.prototype,"getPlotLinePath",function(w){var y=w.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||this.coll==="colorAxis"){return y}if(y===null){return y}var v=this.chart,u=v.options.chart.options3d,A=this.isZAxis?v.plotWidth:u.depth,z=v.frame3d;var t=[this.swapZ({x:y[1],y:y[2],z:0}),this.swapZ({x:y[1],y:y[2],z:A}),this.swapZ({x:y[4],y:y[5],z:0}),this.swapZ({x:y[4],y:y[5],z:A})];var x=[];if(!this.horiz){if(z.front.visible){x.push(t[0],t[2])}if(z.back.visible){x.push(t[1],t[3])}if(z.left.visible){x.push(t[0],t[1])}if(z.right.visible){x.push(t[2],t[3])}}else{if(this.isZAxis){if(z.left.visible){x.push(t[0],t[2])}if(z.right.visible){x.push(t[1],t[3])}if(z.top.visible){x.push(t[0],t[1])}if(z.bottom.visible){x.push(t[2],t[3])}}else{if(z.front.visible){x.push(t[0],t[2])}if(z.back.visible){x.push(t[1],t[3])}if(z.top.visible){x.push(t[0],t[1])}if(z.bottom.visible){x.push(t[2],t[3])}}}x=m(x,this.chart,false);return this.chart.renderer.toLineSegments(x)});j(h.prototype,"getLinePath",function(t){if(!this.chart.is3d()||this.coll==="colorAxis"){return t.apply(this,[].slice.call(arguments,1))}return[]});j(h.prototype,"getPlotBandPath",function(v){if(!this.chart.is3d()||this.coll==="colorAxis"){return v.apply(this,[].slice.call(arguments,1))}var t=arguments,A=t[1],z=t[2],x=[],y=this.getPlotLinePath(A),w=this.getPlotLinePath(z);if(y&&w){for(var u=0;u<y.length;u+=6){x.push("M",y[u+1],y[u+2],"L",y[u+4],y[u+5],"L",w[u+4],w[u+5],"L",w[u+1],w[u+2],"Z")}}return x});function c(y,I,x){if(!y.chart.is3d()||y.coll==="colorAxis"){return I}var O=y.chart,E=g*O.options.chart.options3d.alpha,U=g*O.options.chart.options3d.beta,J=e(x&&y.options.title.position3d,y.options.labels.position3d),z=e(x&&y.options.title.skew3d,y.options.labels.skew3d),L=O.frame3d,P=O.plotLeft,M=O.plotWidth+P,R=O.plotTop,K=O.plotHeight+R,G=false,T=0,S=0,H,F={x:0,y:1,z:0};I=y.swapZ({x:I.x,y:I.y,z:0});if(y.isZAxis){if(y.opposite){if(L.axes.z.top===null){return{}}S=I.y-R;I.x=L.axes.z.top.x;I.y=L.axes.z.top.y;H=L.axes.z.top.xDir;G=!L.top.frontFacing}else{if(L.axes.z.bottom===null){return{}}S=I.y-K;I.x=L.axes.z.bottom.x;I.y=L.axes.z.bottom.y;H=L.axes.z.bottom.xDir;G=!L.bottom.frontFacing}}else{if(y.horiz){if(y.opposite){if(L.axes.x.top===null){return{}}S=I.y-R;I.y=L.axes.x.top.y;I.z=L.axes.x.top.z;H=L.axes.x.top.xDir;G=!L.top.frontFacing}else{if(L.axes.x.bottom===null){return{}}S=I.y-K;I.y=L.axes.x.bottom.y;I.z=L.axes.x.bottom.z;H=L.axes.x.bottom.xDir;G=!L.bottom.frontFacing}}else{if(y.opposite){if(L.axes.y.right===null){return{}}T=I.x-M;I.x=L.axes.y.right.x;I.z=L.axes.y.right.z;H=L.axes.y.right.xDir;H={x:H.z,y:H.y,z:-H.x}}else{if(L.axes.y.left===null){return{}}T=I.x-P;I.x=L.axes.y.left.x;I.z=L.axes.y.left.z;H=L.axes.y.left.xDir}}}if(J==="chart"){}else{if(J==="flap"){if(!y.horiz){H={x:Math.cos(U),y:0,z:Math.sin(U)}}else{var t=Math.sin(E);var w=Math.cos(E);if(y.opposite){t=-t}if(G){t=-t}F={x:H.z*t,y:w,z:-H.x*t}}}else{if(J==="ortho"){if(!y.horiz){H={x:Math.cos(U),y:0,z:Math.sin(U)}}else{var Q=Math.sin(E);var D=Math.cos(E);var N=Math.sin(U);var A=Math.cos(U);var C={x:N*D,y:-Q,z:-D*A};F={x:H.y*C.z-H.z*C.y,y:H.z*C.x-H.x*C.z,z:H.x*C.y-H.y*C.x};var V=1/Math.sqrt(F.x*F.x+F.y*F.y+F.z*F.z);if(G){V=-V}F={x:V*F.x,y:V*F.y,z:V*F.z}}}else{if(!y.horiz){H={x:Math.cos(U),y:0,z:Math.sin(U)}}else{F={x:Math.sin(U)*Math.sin(E),y:Math.cos(E),z:-Math.cos(U)*Math.sin(E)}}}}}I.x+=T*H.x+S*F.x;I.y+=T*H.y+S*F.y;I.z+=T*H.z+S*F.z;var v=m([I],y.chart)[0];if(z){var u=l(m([I,{x:I.x+H.x,y:I.y+H.y,z:I.z+H.z},{x:I.x+F.x,y:I.y+F.y,z:I.z+F.z}],y.chart))<0;if(u){H={x:-H.x,y:-H.y,z:-H.z}}var B=m([{x:I.x,y:I.y,z:I.z},{x:I.x+H.x,y:I.y+H.y,z:I.z+H.z},{x:I.x+F.x,y:I.y+F.y,z:I.z+F.z}],y.chart);v.matrix=[B[1].x-B[0].x,B[1].y-B[0].y,B[2].x-B[0].x,B[2].y-B[0].y,v.x,v.y];v.matrix[4]-=v.x*v.matrix[0]+v.y*v.matrix[2];v.matrix[5]-=v.x*v.matrix[1]+v.y*v.matrix[3]}return v}j(b.prototype,"getMarkPath",function(u){var v=u.apply(this,[].slice.call(arguments,1));var t=[c(this.axis,{x:v[1],y:v[2],z:0}),c(this.axis,{x:v[4],y:v[5],z:0})];return this.axis.chart.renderer.toLineSegments(t)});n(b,"afterGetLabelPosition",function(t){p(t.pos,c(this.axis,t.pos))});j(h.prototype,"getTitlePosition",function(t){var u=t.apply(this,[].slice.call(arguments,1));return c(this,u,true)});n(h,"drawCrosshair",function(t){if(this.chart.is3d()&&this.coll!=="colorAxis"){if(t.point){t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-(t.point.axisYpos)}}});n(h,"destroy",function(){d(["backFrame","bottomFrame","sideFrame"],function(t){if(this[t]){this[t]=this[t].destroy()}},this)});h.prototype.swapZ=function(u,t){if(this.isZAxis){var v=t?0:this.chart.plotLeft;return{x:v+u.z,y:u.y,z:u.x-v}}return u};r=k.ZAxis=function(){this.init.apply(this,arguments)};p(r.prototype,h.prototype);p(r.prototype,{isZAxis:true,setOptions:function(t){t=f({offset:0,lineWidth:0},t);h.prototype.setOptions.call(this,t);this.coll="zAxis"},setAxisSize:function(){h.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var u=this,t=u.chart;u.hasVisibleSeries=false;u.dataMin=u.dataMax=u.ignoreMinPadding=u.ignoreMaxPadding=null;if(u.buildStacks){u.buildStacks()}d(u.series,function(x){if(x.visible||!t.options.chart.ignoreHiddenSeries){var w=x.options,y,v=w.threshold;u.hasVisibleSeries=true;if(u.positiveValuesOnly&&v<=0){v=null}y=x.zData;if(y.length){u.dataMin=Math.min(e(u.dataMin,y[0]),Math.min.apply(null,y));u.dataMax=Math.max(e(u.dataMax,y[0]),Math.max.apply(null,y))}}})}});n(o,"afterGetAxes",function(){var u=this,t=this.options,v=t.zAxis=s(t.zAxis||{});if(!u.is3d()){return}this.zAxis=[];d(v,function(y,w){y.index=w;y.isX=true;var x=new r(u,y);x.setScale()})});j(h.prototype,"getSlotWidth",function(E,z){if(this.chart.is3d()&&z&&z.label&&this.categories){var F=this.chart,I=this.ticks,y=this.gridGroup.element.childNodes,G=y[0].getBBox(),D=F.frameShapes.left.getBBox(),A=F.options.chart.options3d,H={x:F.plotWidth/2,y:F.plotHeight/2,z:A.depth/2,vd:e(A.depth,1)*e(A.viewDistance,0)},v,C,w,u,t=z.pos,x=I[t-1],B=I[t+1];if(t!==0&&x){C=i({x:x.label.xy.x,y:x.label.xy.y,z:null},H,H.vd)}if(B&&B.label.xy){w=i({x:B.label.xy.x,y:B.label.xy.y,z:null},H,H.vd)}v={x:z.label.xy.x,y:z.label.xy.y,z:null};v=i(v,H,H.vd);u=Math.abs(C?v.x-C.x:w?w.x-v.x:G.x-D.x);return u}return E.apply(this,[].slice.call(arguments,1))})}(a));(function(b){var e=b.addEvent,d=b.perspective,c=b.pick;e(b.Series,"afterTranslate",function(){if(this.chart.is3d()){this.translate3dPoints()}});b.Series.prototype.translate3dPoints=function(){var j=this,l=j.chart,n=c(j.zAxis,l.options.zAxis[0]),k=[],g,m,f,o,h;for(h=0;h<j.data.length;h++){g=j.data[h];if(n&&n.translate){o=n.isLog&&n.val2lin?n.val2lin(g.z):g.z;g.plotZ=n.translate(o);g.isInside=g.isInside?(o>=n.min&&o<=n.max):false}else{g.plotZ=0}g.axisXpos=g.plotX;g.axisYpos=g.plotY;g.axisZpos=g.plotZ;k.push({x:g.plotX,y:g.plotY,z:g.plotZ})}m=d(k,l,true);for(h=0;h<j.data.length;h++){g=j.data[h];f=m[h];g.plotX=f.x;g.plotY=f.y;g.plotZ=f.z}}}(a));(function(j){var d=j.addEvent,i=j.each,c=j.perspective,g=j.pick,h=j.Series,e=j.seriesTypes,k=j.inArray,f=j.svg,b=j.wrap;b(e.column.prototype,"translate",function(l){l.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){this.translate3dShapes()}});b(j.Series.prototype,"alignDataLabel",function(l){arguments[3].outside3dPlot=arguments[1].outside3dPlot;l.apply(this,[].slice.call(arguments,1))});b(j.Series.prototype,"justifyDataLabel",function(l){return !(arguments[2].outside3dPlot)?l.apply(this,[].slice.call(arguments,1)):false});e.column.prototype.translate3dPoints=function(){};e.column.prototype.translate3dShapes=function(){var o=this,p=o.chart,n=o.options,r=n.depth||25,l=n.stacking?(n.stack||0):o.index,q=l*(r+(n.groupZPadding||1)),m=o.borderWidth%2?0.5:0;if(p.inverted&&!o.yAxis.reversed){m*=-1}if(n.grouping!==false){q=0}q+=(n.groupZPadding||1);i(o.data,function(s){s.outside3dPlot=null;if(s.y!==null){var u=s.shapeArgs,w=s.tooltipPos,v=[["x","width"],["y","height"]],t;i(v,function(y){t=u[y[0]]-m;if(t<0){u[y[1]]+=u[y[0]]+m;u[y[0]]=-m;t=0}if((t+u[y[1]]>o[y[0]+"Axis"].len)&&u[y[1]]!==0){u[y[1]]=o[y[0]+"Axis"].len-u[y[0]]}if((u[y[1]]!==0)&&(u[y[0]]>=o[y[0]+"Axis"].len||u[y[0]]+u[y[1]]<=m)){for(var x in u){u[x]=0}s.outside3dPlot=true}});s.shapeType="cuboid";u.z=q;u.depth=r;u.insidePlotArea=true;w=c([{x:w[0],y:w[1],z:q}],p,true)[0];s.tooltipPos=[w.x,w.y]}});o.z=q};b(e.column.prototype,"animate",function(o){if(!this.chart.is3d()){o.apply(this,[].slice.call(arguments,1))}else{var m=arguments,q=m[1],l=this.yAxis,n=this,p=this.yAxis.reversed;if(f){if(q){i(n.data,function(r){if(r.y!==null){r.height=r.shapeArgs.height;r.shapey=r.shapeArgs.y;r.shapeArgs.height=1;if(!p){if(r.stackY){r.shapeArgs.y=r.plotY+l.translate(r.stackY)}else{r.shapeArgs.y=r.plotY+(r.negative?-r.height:r.height)}}}})}else{i(n.data,function(r){if(r.y!==null){r.shapeArgs.height=r.height;r.shapeArgs.y=r.shapey;if(r.graphic){r.graphic.animate(r.shapeArgs,n.options.animation)}}});this.drawDataLabels();n.animate=null}}}});b(e.column.prototype,"plotGroup",function(o,q,m,l,p,n){if(this.chart.is3d()&&n&&!this[q]){if(!this.chart.columnGroup){this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(n)}this[q]=this.chart.columnGroup;this.chart.columnGroup.attr(this.getPlotBox());this[q].survive=true}return o.apply(this,Array.prototype.slice.call(arguments,1))});b(e.column.prototype,"setVisible",function(n,o){var m=this,l;if(m.chart.is3d()){i(m.data,function(p){p.visible=p.options.visible=o=o===undefined?!p.visible:o;l=o?"visible":"hidden";m.options.data[k(p,m.data)]=p.options;if(p.graphic){p.graphic.attr({visibility:l})}})}n.apply(this,Array.prototype.slice.call(arguments,1))});e.column.prototype.handle3dGrouping=true;d(h,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var m=this.options,r=m.grouping,o=m.stacking,q=g(this.yAxis.options.reversedStacks,true),s=0;if(!(r!==undefined&&!r)){var p=this.chart.retrieveStacks(o),l=m.stack||0,n;for(n=0;n<p[l].series.length;n++){if(p[l].series[n]===this){break}}s=(10*(p.totalStacks-p[l].position))+(q?n:-n);if(!this.xAxis.reversed){s=(p.totalStacks*10)-s}}m.zIndex=s}});b(h.prototype,"alignDataLabel",function(q){if(this.chart.is3d()&&(this.type==="column"||this.type==="columnrange")){var n=this,o=n.chart;var m=arguments,p=m[4],l=m[1];var r=({x:p.x,y:p.y,z:n.z});r=c([r],o,true)[0];p.x=r.x;p.y=l.outside3dPlot?-9000000000:r.y}q.apply(this,[].slice.call(arguments,1))});b(j.StackItem.prototype,"getStackBox",function(n,m){var l=n.apply(this,[].slice.call(arguments,1));if(m.is3d()){var o=({x:l.x,y:l.y,z:0});o=j.perspective([o],m,true)[0];l.x=o.x;l.y=o.y}return l})}(a));(function(e){var c=e.deg2rad,h=e.each,g=e.pick,d=e.seriesTypes,b=e.svg,f=e.wrap;f(d.pie.prototype,"translate",function(l){l.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var j=this,i=j.options,p=i.depth||0,k=j.chart.options.chart.options3d,n=k.alpha,m=k.beta,o=i.stacking?(i.stack||0)*p:j._i*p;o+=p/2;if(i.grouping!==false){o=0}h(j.data,function(q){var r=q.shapeArgs,s;q.shapeType="arc3d";r.z=o;r.depth=p*0.75;r.alpha=n;r.beta=m;r.center=j.center;s=(r.end+r.start)/2;q.slicedTranslation={translateX:Math.round(Math.cos(s)*i.slicedOffset*Math.cos(n*c)),translateY:Math.round(Math.sin(s)*i.slicedOffset*Math.cos(n*c))}})});f(d.pie.prototype.pointClass.prototype,"haloPath",function(j){var i=arguments;return this.series.chart.is3d()?[]:j.call(this,i[1])});f(d.pie.prototype,"drawPoints",function(i){i.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){h(this.points,function(j){var k=j.graphic;if(k){k[j.y&&j.visible?"show":"hide"]()}})}});f(d.pie.prototype,"drawDataLabels",function(l){if(this.chart.is3d()){var i=this,k=i.chart,j=k.options.chart.options3d;h(i.data,function(v){var s=v.shapeArgs,m=s.r,o=(s.alpha||j.alpha)*c,u=(s.beta||j.beta)*c,n=(s.start+s.end)/2,p=v.labelPos,w=[0,2,4],q=(-m*(1-Math.cos(o))*Math.sin(n)),t=m*(Math.cos(u)-1)*Math.cos(n);h(w,function(r){p[r]+=t;p[r+1]+=q})})}l.apply(this,[].slice.call(arguments,1))});f(d.pie.prototype,"addPoint",function(i){i.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){this.update(this.userOptions,true)}});f(d.pie.prototype,"animate",function(l){if(!this.chart.is3d()){l.apply(this,[].slice.call(arguments,1))}else{var j=arguments,p=j[1],m=this.options.animation,o,i=this.center,n=this.group,k=this.markerGroup;if(b){if(m===true){m={}}if(p){n.oldtranslateX=n.translateX;n.oldtranslateY=n.translateY;o={translateX:i[0],translateY:i[1],scaleX:0.001,scaleY:0.001};n.attr(o);if(k){k.attrSetters=n.attrSetters;k.attr(o)}}else{o={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1};n.animate(o,m);if(k){k.animate(o,m)}this.animate=null}}}})}(a));(function(d){var e=d.Point,b=d.seriesType,c=d.seriesTypes;b("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(f){var g=c.scatter.prototype.pointAttribs.apply(this,arguments);if(this.chart.is3d()&&f){g.zIndex=d.pointCameraDistance(f,this.chart)}return g},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:true},{applyOptions:function(){e.prototype.applyOptions.apply(this,arguments);if(this.z===undefined){this.z=0}return this}})}(a));(function(b){}(a));return(function(){}())}));