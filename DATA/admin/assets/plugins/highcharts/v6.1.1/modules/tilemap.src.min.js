"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(c){var f=c.defined,e=c.each,d=c.noop,b=c.seriesTypes;c.colorPointMixin={isValid:function(){return(this.value!==null&&this.value!==Infinity&&this.value!==-Infinity)},setVisible:function(h){var g=this,i=h?"show":"hide";e(["graphic","dataLabel"],function(j){if(g[j]){g[j][i]()}})},setState:function(g){c.Point.prototype.setState.call(this,g);if(this.graphic){this.graphic.attr({zIndex:g==="hover"?1:0})}}};c.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:d,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:b.column.prototype.pointAttribs,translateColors:function(){var i=this,g=this.options.nullColor,h=this.colorAxis,j=this.colorKey;e(this.data,function(k){var m=k[j],l;l=k.options.color||(k.isNull?g:(h&&m!==undefined)?h.toColor(m,k):k.color||i.color);if(l){k.color=l}})},colorAttribs:function(g){var h={};if(f(g.color)){h[this.colorProp||"fill"]=g.color}return h}}}(a));(function(k){var g=k.colorPointMixin,b=k.colorSeriesMixin,j=k.each,f=k.LegendSymbolMixin,i=k.merge,l=k.noop,e=k.pick,h=k.Series,d=k.seriesType,c=k.seriesTypes;d("heatmap","scatter",{animation:false,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:true,verticalAlign:"middle",crop:false,overflow:false,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:false,brightness:0.2}}},i(b,{pointArrayMap:["y","value"],hasPointSpecificOptions:true,getExtremesFromAll:true,directTouch:true,init:function(){var m;c.scatter.prototype.init.apply(this,arguments);m=this.options;m.pointRange=e(m.pointRange,m.colsize||1);this.yAxis.axisPointRange=m.rowsize||1},translate:function(){var o=this,n=o.options,r=o.xAxis,m=o.yAxis,q=n.pointPadding||0,p=function(t,u,s){return Math.min(Math.max(u,t),s)};o.generatePoints();j(o.points,function(s){var z=(n.colsize||1)/2,x=(n.rowsize||1)/2,v=p(Math.round(r.len-r.translate(s.x-z,0,1,0,1)),-r.len,2*r.len),u=p(Math.round(r.len-r.translate(s.x+z,0,1,0,1)),-r.len,2*r.len),y=p(Math.round(m.translate(s.y-x,0,1,0,1)),-m.len,2*m.len),w=p(Math.round(m.translate(s.y+x,0,1,0,1)),-m.len,2*m.len),t=e(s.pointPadding,q);s.plotX=s.clientX=(v+u)/2;s.plotY=(y+w)/2;s.shapeType="rect";s.shapeArgs={x:Math.min(v,u)+t,y:Math.min(y,w)+t,width:Math.abs(u-v)-t*2,height:Math.abs(w-y)-t*2}});o.translateColors()},drawPoints:function(){c.column.prototype.drawPoints.call(this);j(this.points,function(m){m.graphic.attr(this.colorAttribs(m))},this)},animate:l,getBox:l,drawLegendSymbol:f.drawRectangle,alignDataLabel:c.column.prototype.alignDataLabel,getExtremes:function(){h.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;h.prototype.getExtremes.call(this)}}),k.extend({haloPath:function(m){if(!m){return[]}var n=this.shapeArgs;return["M",n.x-m,n.y-m,"L",n.x-m,n.y+n.height+m,n.x+n.width+m,n.y+n.height+m,n.x+n.width+m,n.y-m,"Z"]}},g))}(a));(function(c){var b=c.seriesType,g=c.each,h=c.reduce,e=c.pick,d=function(j,k,i){return Math.min(Math.max(k,j),i)},f=function(j,l,k){var i=j.options;return{xPad:(i.colsize||1)/-l,yPad:(i.rowsize||1)/-k}};c.tileShapeTypes={hexagon:{alignDataLabel:c.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(i){return f(i,3,2)},haloPath:function(j){if(!j){return[]}var i=this.tileEdges;return["M",i.x2-j,i.y1+j,"L",i.x3+j,i.y1+j,i.x4+j*1.5,i.y2,i.x3+j,i.y3-j,i.x2-j,i.y3-j,i.x1-j*1.5,i.y2,"Z"]},translate:function(){var l=this,j=l.options,o=l.xAxis,i=l.yAxis,n=j.pointPadding||0,m=(j.colsize||1)/3,k=(j.rowsize||1)/2,p;l.generatePoints();g(l.points,function(B){var v=d(Math.floor(o.len-o.translate(B.x-m*2,0,1,0,1)),-o.len,2*o.len),t=d(Math.floor(o.len-o.translate(B.x-m,0,1,0,1)),-o.len,2*o.len),r=d(Math.floor(o.len-o.translate(B.x+m,0,1,0,1)),-o.len,2*o.len),C=d(Math.floor(o.len-o.translate(B.x+m*2,0,1,0,1)),-o.len,2*o.len),A=d(Math.floor(i.translate(B.y-k,0,1,0,1)),-i.len,2*i.len),z=d(Math.floor(i.translate(B.y,0,1,0,1)),-i.len,2*i.len),y=d(Math.floor(i.translate(B.y+k,0,1,0,1)),-i.len,2*i.len),w=e(B.pointPadding,n),q=w*Math.abs(t-v)/Math.abs(y-z),s=o.reversed?-q:q,u=o.reversed?-w:w,x=i.reversed?-w:w;if(B.x%2){p=p||Math.round(Math.abs(y-A)/2)*(i.reversed?-1:1);A+=p;z+=p;y+=p}B.plotX=B.clientX=(t+r)/2;B.plotY=z;v+=s+u;t+=u;r-=u;C-=s+u;A-=x;y+=x;B.tileEdges={x1:v,x2:t,x3:r,x4:C,y1:A,y2:z,y3:y};B.shapeType="path";B.shapeArgs={d:["M",t,A,"L",r,A,C,z,r,y,t,y,v,z,"Z"]}});l.translateColors()}},diamond:{alignDataLabel:c.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(i){return f(i,2,2)},haloPath:function(i){if(!i){return[]}var j=this.tileEdges;return["M",j.x2,j.y1+i,"L",j.x3+i,j.y2,j.x2,j.y3-i,j.x1-i,j.y2,"Z"]},translate:function(){var l=this,j=l.options,o=l.xAxis,i=l.yAxis,n=j.pointPadding||0,m=(j.colsize||1),k=(j.rowsize||1)/2,p;l.generatePoints();g(l.points,function(A){var u=d(Math.round(o.len-o.translate(A.x-m,0,1,0,0)),-o.len,2*o.len),s=d(Math.round(o.len-o.translate(A.x,0,1,0,0)),-o.len,2*o.len),r=d(Math.round(o.len-o.translate(A.x+m,0,1,0,0)),-o.len,2*o.len),z=d(Math.round(i.translate(A.y-k,0,1,0,0)),-i.len,2*i.len),y=d(Math.round(i.translate(A.y,0,1,0,0)),-i.len,2*i.len),x=d(Math.round(i.translate(A.y+k,0,1,0,0)),-i.len,2*i.len),v=e(A.pointPadding,n),q=v*Math.abs(s-u)/Math.abs(x-y),t=o.reversed?-q:q,w=i.reversed?-v:v;if(A.x%2){p=Math.abs(x-z)/2*(i.reversed?-1:1);z+=p;y+=p;x+=p}A.plotX=A.clientX=s;A.plotY=y;u+=t;r-=t;z-=w;x+=w;A.tileEdges={x1:u,x2:s,x3:r,y1:z,y2:y,y3:x};A.shapeType="path";A.shapeArgs={d:["M",s,z,"L",r,y,s,x,u,y,"Z"]}});l.translateColors()}},circle:{alignDataLabel:c.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(i){return f(i,2,2)},haloPath:function(i){return c.seriesTypes.scatter.prototype.pointClass.prototype.haloPath.call(this,i+(i&&this.radius))},translate:function(){var o=this,t=o.options,k=o.xAxis,i=o.yAxis,n=t.pointPadding||0,p=(t.rowsize||1)/2,m=(t.colsize||1),r,l,s,q,j=false;o.generatePoints();g(o.points,function(v){var u=d(Math.round(k.len-k.translate(v.x,0,1,0,0)),-k.len,2*k.len),A=d(Math.round(i.translate(v.y,0,1,0,0)),-i.len,2*i.len),w=n,z=false;if(v.pointPadding!==undefined){w=v.pointPadding;z=true;j=true}if(!q||j){r=Math.abs(d(Math.floor(k.len-k.translate(v.x+m,0,1,0,0)),-k.len,2*k.len)-u);l=Math.abs(d(Math.floor(i.translate(v.y+p,0,1,0,0)),-i.len,2*i.len)-A);s=Math.floor(Math.sqrt((r*r+l*l))/2);q=Math.min(r,s,l)-w;if(j&&!z){j=false}}if(v.x%2){A+=l*(i.reversed?-1:1)}v.plotX=v.clientX=u;v.plotY=A;v.radius=q;v.shapeType="circle";v.shapeArgs={x:u,y:A,r:q}});o.translateColors()}},square:{alignDataLabel:c.seriesTypes.heatmap.prototype.alignDataLabel,translate:c.seriesTypes.heatmap.prototype.translate,getSeriesPadding:function(){return},haloPath:c.seriesTypes.heatmap.prototype.pointClass.prototype.haloPath}};c.wrap(c.Axis.prototype,"setAxisTranslation",function(j){j.apply(this,Array.prototype.slice.call(arguments,1));var i=this,l=h(c.map(i.series,function(m){return m.getSeriesPixelPadding&&m.getSeriesPixelPadding(i)}),function(n,m){return(n&&n.padding)>(m&&m.padding)?n:m},undefined)||{padding:0,axisLengthFactor:1},k=Math.round(l.padding*l.axisLengthFactor);if(l.padding){i.len-=k;j.apply(i,Array.prototype.slice.call(arguments,1));i.minPixelPadding+=l.padding;i.len+=k}});b("tilemap","heatmap",{states:{hover:{halo:{enabled:true,size:2,opacity:0.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"},{setOptions:function(){var i=c.seriesTypes.heatmap.prototype.setOptions.apply(this,Array.prototype.slice.call(arguments));this.tileShape=c.tileShapeTypes[i.tileShape];return i},alignDataLabel:function(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))},getSeriesPixelPadding:function(i){var l=i.isXAxis,m=this.tileShape.getSeriesPadding(this),k,j;if(!m){return{padding:0,axisLengthFactor:1}}k=Math.round(i.translate(l?m.xPad*2:m.yPad,0,1,0,1));j=Math.round(i.translate(l?m.xPad:0,0,1,0,1));return{padding:Math.abs(k-j)||0,axisLengthFactor:l?2:1.1}},translate:function(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))}},c.extend({haloPath:function(){return this.series.tileShape.haloPath.apply(this,Array.prototype.slice.call(arguments))}},c.colorPointMixin))}(a));return(function(){}())}));