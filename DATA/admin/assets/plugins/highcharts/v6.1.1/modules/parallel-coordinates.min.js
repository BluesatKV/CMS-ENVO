(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(M){function L(b){var p=this.series&&this.series.chart,g=b.apply(this,Array.prototype.slice.call(arguments,1)),l,m,n;p&&p.hasParallelCoordinates&&!H(g.formattedValue)&&(n=p.yAxis[this.x],l=n.options,p=(m=s(l.tooltipValueFormat,l.labels.format))?M.format(m,G(this,{value:this.y}),p.time):n.isDatetimeAxis?p.time.dateFormat(l.dateTimeLabelFormats[n.tickPositions.info.unitName],this.y):l.categories?l.categories[this.y]:this.y,g.formattedValue=g.point.formattedValue=p);return g}var k=M.Axis,E=M.Chart,d=M.Series.prototype,c=E.prototype,j=M.Axis.prototype,J=M.addEvent,s=M.pick,K=M.each,i=M.wrap,I=M.merge,F=M.erase,h=M.splat,G=M.extend,H=M.defined,D=M.arrayMin,o=M.arrayMax,f={lineWidth:0,tickLength:0,opposite:!0,type:"category"};M.setOptions({chart:{parallelCoordinates:!1,parallelAxes:{lineWidth:1,title:{text:"",reserveSpace:!1},labels:{x:0,y:4,align:"center",reserveSpace:!1},offset:0}}});J(E,"init",function(g){g=g.args[0];var m=h(g.yAxis||{}),l=m.length,e=[];if(this.hasParallelCoordinates=g.chart&&g.chart.parallelCoordinates){for(this.setParallelInfo(g);l<=this.parallelInfo.counter;l++){e.push({})}g.legend||(g.legend={});void 0===g.legend.enabled&&(g.legend.enabled=!1);I(!0,g,{boost:{seriesThreshold:Number.MAX_SAFE_INTEGER},plotOptions:{series:{boostThreshold:Number.MAX_SAFE_INTEGER}}});g.yAxis=m.concat(e);g.xAxis=I(f,h(g.xAxis||{})[0])}});J(E,"update",function(b){b=b.options;b.chart&&(H(b.chart.parallelCoordinates)&&(this.hasParallelCoordinates=b.chart.parallelCoordinates),this.hasParallelCoordinates&&b.chart.parallelAxes&&(this.options.chart.parallelAxes=I(this.options.chart.parallelAxes,b.chart.parallelAxes),K(this.yAxis,function(e){e.update({},!1)})))});G(c,{setParallelInfo:function(b){var e=this;b=b.series;e.parallelInfo={counter:0};K(b,function(g){g.data&&(e.parallelInfo.counter=Math.max(e.parallelInfo.counter,g.data.length-1))})}});j.keepProps.push("parallelPosition");J(k,"afterSetOptions",function(g){var l=this.chart,e=["left","width","height","top"];l.hasParallelCoordinates&&(l.inverted&&(e=e.reverse()),this.isXAxis?this.options=I(this.options,f,g.userOptions):(this.options=I(this.options,this.chart.options.chart.parallelAxes,g.userOptions),this.parallelPosition=s(this.parallelPosition,l.yAxis.length),this.setParallelPosition(e,this.options)))});J(k,"getSeriesExtremes",function(g){if(this.chart&&this.chart.hasParallelCoordinates&&!this.isXAxis){var l=this.parallelPosition,e=[];K(this.series,function(b){H(b.yData[l])&&e.push(b.yData[l])});this.dataMin=D(e);this.dataMax=o(e);g.preventDefault()}});G(j,{setParallelPosition:function(g,l){var e=(this.parallelPosition+0.5)/(this.chart.parallelInfo.counter+1);this.chart.polar?l.angle=360*e:(l[g[0]]=100*e+"%",this[g[1]]=l[g[1]]=0,this[g[2]]=l[g[2]]=null,this[g[3]]=l[g[3]]=null)}});i(d,"bindAxes",function(g){if(this.chart.hasParallelCoordinates){var e=this;K(this.chart.axes,function(b){e.insert(b.series);b.isDirty=!0});e.xAxis=this.chart.xAxis[0];e.yAxis=this.chart.yAxis[0]}else{g.apply(this,Array.prototype.slice.call(arguments,1))}});J(M.Series,"afterTranslate",function(){var m=this.chart,l=this.points,r=l&&l.length,q=Number.MAX_VALUE,p,t,n;if(this.chart.hasParallelCoordinates){for(n=0;n<r;n++){t=l[n],H(t.y)?(t.plotX=m.polar?m.yAxis[n].angleRad||0:m.inverted?m.plotHeight-m.yAxis[n].top+m.plotTop:m.yAxis[n].left-m.plotLeft,t.clientX=t.plotX,t.plotY=m.yAxis[n].translate(t.y,!1,!0,null,!0),void 0!==p&&(q=Math.min(q,Math.abs(t.plotX-p))),p=t.plotX,t.isInside=m.isInsidePlot(t.plotX,t.plotY,m.inverted)):t.isNull=!0}this.closestPointRangePx=q}},{order:1});M.addEvent(M.Series,"destroy",function(){this.chart.hasParallelCoordinates&&K(this.chart.axes||[],function(b){b&&b.series&&(F(b.series,this),b.isDirty=b.forceRedraw=!0)},this)});K(["line","spline"],function(b){i(M.seriesTypes[b].prototype.pointClass.prototype,"getLabelConfig",L)})})(a)});