"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(e){var f=e.pick,h=e.each,g=e.grep,i=e.arrayMin,d=e.arrayMax,c=e.seriesType,b=e.seriesTypes.pie.prototype;c("variablepie","pie",{minPointSize:"10%",maxPointSize:"100%",zMin:undefined,zMax:undefined,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],redraw:function(){this.center=null;b.redraw.call(this,arguments)},zValEval:function(j){if(typeof j==="number"&&!isNaN(j)){return true}return null},calculateExtremes:function(){var m=this,o=m.chart,q=o.plotWidth,r=o.plotHeight,k=m.options,u=2*(k.slicedOffset||0),n,t,j=m.zData,p=Math.min(q,r)-u,s={},l=m.center||m.getCenter();h(["minPointSize","maxPointSize"],function(x){var v=k[x],w=/%$/.test(v);v=parseInt(v,10);s[x]=w?p*v/100:v*2});m.minPxSize=l[3]+s.minPointSize;m.maxPxSize=Math.max(Math.min(l[2],s.maxPointSize),l[3]+s.minPointSize);if(j.length){n=f(k.zMin,i(g(j,m.zValEval)));t=f(k.zMax,d(g(j,m.zValEval)));this.getRadii(n,t,m.minPxSize,m.maxPxSize)}},getRadii:function(p,v,j,u){var m=0,s,k=this.zData,o=k.length,l=[],w=this.options,r=w.sizeBy!=="radius",q=v-p,t,n;for(m;m<o;m++){t=this.zValEval(k[m])?k[m]:p;if(t<=p){n=j/2}else{if(t>=v){n=u/2}else{s=q>0?(t-p)/q:0.5;if(r){s=Math.sqrt(s)}n=Math.ceil(j+s*(u-j))/2}}l.push(n)}this.radii=l},translate:function(v){this.generatePoints();var x=this,z=0,F=1000,n=x.options,p=n.slicedOffset,w=p+(n.borderWidth||0),t,q,o,G,B=n.startAngle||0,H=Math.PI/180*(B-90),I=Math.PI/180*(f(n.endAngle,B+360)-90),y=I-H,D=x.points,u,s,r=n.dataLabels.distance,j=n.ignoreHiddenPoint,C,E=D.length,A,m,l,k;x.startAngleRad=H;x.endAngleRad=I;x.calculateExtremes();if(!v){x.center=v=x.getCenter()}x.getX=function(M,K,J){var L=J.series.radii[J.index];G=Math.asin(Math.max(Math.min((M-v[1])/(L+J.labelDistance),1),-1));return v[0]+(K?-1:1)*(Math.cos(G)*(L+J.labelDistance))};for(C=0;C<E;C++){A=D[C];m=x.radii[C];A.labelDistance=f(A.options.dataLabels&&A.options.dataLabels.distance,r);x.maxLabelDistance=Math.max(x.maxLabelDistance||0,A.labelDistance);q=H+(z*y);if(!j||A.visible){z+=A.percentage/100}o=H+(z*y);A.shapeType="arc";A.shapeArgs={x:v[0],y:v[1],r:m,innerR:v[3]/2,start:Math.round(q*F)/F,end:Math.round(o*F)/F};G=(o+q)/2;if(G>1.5*Math.PI){G-=2*Math.PI}else{if(G<-Math.PI/2){G+=2*Math.PI}}A.slicedTranslation={translateX:Math.round(Math.cos(G)*p),translateY:Math.round(Math.sin(G)*p)};u=Math.cos(G)*v[2]/2;s=Math.sin(G)*v[2]/2;l=Math.cos(G)*m;k=Math.sin(G)*m;A.tooltipPos=[v[0]+u*0.7,v[1]+s*0.7];A.half=G<-Math.PI/2||G>Math.PI/2?1:0;A.angle=G;t=Math.min(w,A.labelDistance/5);A.labelPos=[v[0]+l+Math.cos(G)*A.labelDistance,v[1]+k+Math.sin(G)*A.labelDistance,v[0]+l+Math.cos(G)*t,v[1]+k+Math.sin(G)*t,v[0]+l,v[1]+k,A.labelDistance<0?"center":A.half?"right":"left",G]}}})}(a));return(function(){}())}));