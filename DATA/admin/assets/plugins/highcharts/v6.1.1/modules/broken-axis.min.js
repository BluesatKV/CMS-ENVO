(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(h){function g(){return Array.prototype.slice.call(arguments,1)}function m(e){e.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,b(this.pointArrayMap,["y"]))}var o=h.addEvent,b=h.pick,n=h.wrap,d=h.each,j=h.extend,i=h.isArray,k=h.fireEvent,c=h.Axis,f=h.Series;j(c.prototype,{isInBreak:function(l,r){var q=l.repeat||Infinity,e=l.from,p=l.to-l.from;r=r>=e?(r-e)%q:q-(e-r)%q;return l.inclusive?r<=p:r<p&&0!==r},isInAnyBreak:function(l,t){var s=this.options.breaks,e=s&&s.length,r,p,q;if(e){for(;e--;){this.isInBreak(s[e],l)&&(r=!0,p||(p=b(s[e].showPoints,this.isXAxis?!1:!0)))}q=r&&t?r&&!p:r}return q}});o(c,"afterSetTickPositions",function(){if(this.options.breaks){var l=this.tickPositions,q=this.tickPositions.info,p=[],e;for(e=0;e<l.length;e++){this.isInAnyBreak(l[e])||p.push(l[e])}this.tickPositions=p;this.tickPositions.info=q}});o(c,"afterSetOptions",function(){this.options.breaks&&this.options.breaks.length&&(this.options.ordinal=!1)});o(c,"afterInit",function(){var e=this,l;l=this.options.breaks;e.isBroken=i(l)&&!!l.length;e.isBroken&&(e.val2lin=function(r){var p=r,q,s;for(s=0;s<e.breakArray.length;s++){if(q=e.breakArray[s],q.to<=r){p-=q.len}else{if(q.from>=r){break}else{if(e.isInBreak(q,r)){p-=r-q.from;break}}}}return p},e.lin2val=function(q){var p,r;for(r=0;r<e.breakArray.length&&!(p=e.breakArray[r],p.from>=q);r++){p.to<q?q+=p.len:e.isInBreak(p,q)&&(q+=p.len)}return q},e.setExtremes=function(q,p,t,r,s){for(;this.isInAnyBreak(q);){q-=this.closestPointRange}for(;this.isInAnyBreak(p);){p-=this.closestPointRange}c.prototype.setExtremes.call(this,q,p,t,r,s)},e.setAxisTranslation=function(x){c.prototype.setAxisTranslation.call(this,x);x=e.options.breaks;var z=[],y=[],s=0,t,u,w=e.userMin||e.min,p=e.userMax||e.max,A=b(e.pointRangePadding,0),q,r;d(x,function(v){u=v.repeat||Infinity;e.isInBreak(v,w)&&(w+=v.to%u-w%u);e.isInBreak(v,p)&&(p-=p%u-v.from%u)});d(x,function(v){q=v.from;for(u=v.repeat||Infinity;q-u>w;){q-=u}for(;q<w;){q+=u}for(r=q;r<p;r+=u){z.push({value:r,move:"in"}),z.push({value:r+(v.to-v.from),move:"out",size:v.breakSize})}});z.sort(function(B,v){return B.value===v.value?("in"===B.move?0:1)-("in"===v.move?0:1):B.value-v.value});t=0;q=w;d(z,function(v){t+="in"===v.move?1:-1;1===t&&"in"===v.move&&(q=v.value);0===t&&(y.push({from:q,to:v.value,len:v.value-q-(v.size||0)}),s+=v.value-q-(v.size||0))});e.breakArray=y;e.unitLength=p-w-s+A;k(e,"afterBreaks");e.options.staticScale?e.transA=e.options.staticScale:e.unitLength&&(e.transA*=(p-e.min+A)/e.unitLength);A&&(e.minPixelPadding=e.transA*e.minPointOffset);e.min=w;e.max=p})});n(f.prototype,"generatePoints",function(p){p.apply(this,g(arguments));var v=this.xAxis,u=this.yAxis,l=this.points,s,t=l.length,q=this.options.connectNulls,r;if(v&&u&&(v.options.breaks||u.options.breaks)){for(;t--;){s=l[t],r=null===s.y&&!1===q,r||!v.isInAnyBreak(s.x,!0)&&!u.isInAnyBreak(s.y,!0)||(l.splice(t,1),this.data[t]&&this.data[t].destroyElements())}}});h.Series.prototype.drawBreaks=function(p,v){var u=this,l=u.points,t,q,r,s;p&&d(v,function(e){t=p.breakArray||[];q=p.isXAxis?p.min:b(u.options.threshold,p.min);d(l,function(w){s=b(w["stack"+e.toUpperCase()],w[e]);d(t,function(x){r=!1;if(q<x.from&&s>x.to||q>x.from&&s<x.from){r="pointBreak"}else{if(q<x.from&&s>x.from&&s<x.to||q>x.from&&s>x.to&&s<x.from){r="pointInBreak"}}r&&k(p,r,{point:w,brk:x})})})})};h.Series.prototype.gappedPath=function(){var l=this.currentDataGrouping,r=l&&l.totalRange,l=this.options.gapSize,q=this.points.slice(),e=q.length-1,p=this.yAxis;if(l&&0<e){for("value"!==this.options.gapUnit&&(l*=this.closestPointRange),r&&r>l&&(l=r);e--;){q[e+1].x-q[e].x>l&&(r=(q[e].x+q[e+1].x)/2,q.splice(e+1,0,{isNull:!0,x:r}),this.options.stacking&&(r=p.stacks[this.stackKey][r]=new h.StackItem(p,p.options.stackLabels,!1,r,this.stack),r.total=0))}}return this.getGraphPath(q)};n(h.seriesTypes.column.prototype,"drawPoints",m);n(h.Series.prototype,"drawPoints",m)})(a)});