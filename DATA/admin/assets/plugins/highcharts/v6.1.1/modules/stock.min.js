(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(b){(function(h){var d=h.addEvent,e=h.Axis,l=h.Chart,g=h.css,n=h.defined,c=h.each,i=h.extend,j=h.noop,m=h.pick,k=h.timeUnits,f=h.wrap;f(h.Series.prototype,"init",function(p){var o;p.apply(this,Array.prototype.slice.call(arguments,1));(o=this.xAxis)&&o.options.ordinal&&d(this,"updatedData",function(){delete o.ordinalIndex})});f(e.prototype,"getTimeTicks",function(M,P,x,G,F,C,H,N){var O=0,I,K,D={},q,s,E,y=[],A=-Number.MAX_VALUE,v=this.options.tickPixelInterval,t=this.chart.time;if(!this.options.ordinal&&!this.options.breaks||!C||3>C.length||void 0===x){return M.call(this,P,x,G,F)}s=C.length;for(I=0;I<s;I++){E=I&&C[I-1]>G;C[I]<x&&(O=I);if(I===s-1||C[I+1]-C[I]>5*H||E){if(C[I]>A){for(K=M.call(this,P,C[O],C[I],F);K.length&&K[0]<=A;){K.shift()}K.length&&(A=K[K.length-1]);y=y.concat(K)}O=I+1}if(E){break}}M=K.info;if(N&&M.unitRange<=k.hour){I=y.length-1;for(O=1;O<I;O++){t.dateFormat("%d",y[O])!==t.dateFormat("%d",y[O-1])&&(D[y[O]]="day",q=!0)}q&&(D[y[0]]="day");M.higherRanks=D}y.info=M;if(N&&n(v)){N=t=y.length;I=[];var o;for(q=[];N--;){O=this.translate(y[N]),o&&(q[N]=o-O),I[N]=o=O}q.sort();q=q[Math.floor(q.length/2)];q<0.6*v&&(q=null);N=y[t-1]>G?t-1:t;for(o=void 0;N--;){O=I[N],G=Math.abs(o-O),o&&G<0.8*v&&(null===q||G<0.8*q)?(D[y[N]]&&!D[y[N+1]]?(G=N+1,o=O):G=N,y.splice(G,1)):o=O}}return y});i(e.prototype,{beforeSetTickPositions:function(){var x,A=[],o,t=!1,s,p=this.getExtremes(),u=p.min,y=p.max,z,v=this.isXAxis&&!!this.options.breaks,p=this.options.ordinal,w=Number.MAX_VALUE,q=this.chart.options.chart.ignoreHiddenSeries;s="highcharts-navigator-xaxis"===this.options.className;!this.options.overscroll||this.max!==this.dataMax||this.chart.mouseIsDown&&!s||this.eventArgs&&(!this.eventArgs||"navigator"===this.eventArgs.trigger)||(this.max+=this.options.overscroll,!s&&n(this.userMin)&&(this.min+=this.options.overscroll));if(p||v){c(this.series,function(r,B){o=[];if(!(q&&!1===r.visible||!1===r.takeOrdinalPosition&&!v)&&(A=A.concat(r.processedXData),x=A.length,A.sort(function(C,D){return C-D}),w=Math.min(w,m(r.closestPointRange,w)),x)){for(B=0;B<x-1;){A[B]!==A[B+1]&&o.push(A[B+1]),B++}o[0]!==A[0]&&o.unshift(A[0]);A=o}});x=A.length;if(2<x){s=A[1]-A[0];for(z=x-1;z--&&!t;){A[z+1]-A[z]!==s&&(t=!0)}!this.options.keepOrdinalPadding&&(A[0]-u>s||y-A[A.length-1]>s)&&(t=!0)}else{this.options.overscroll&&(2===x?w=A[1]-A[0]:1===x?(w=this.options.overscroll,A=[A[0],A[0]+w]):w=this.overscrollPointsRange)}t?(this.options.overscroll&&(this.overscrollPointsRange=w,A=A.concat(this.getOverscrollPositions())),this.ordinalPositions=A,s=this.ordinal2lin(Math.max(u,A[0]),!0),z=Math.max(this.ordinal2lin(Math.min(y,A[A.length-1]),!0),1),this.ordinalSlope=y=(y-u)/(z-s),this.ordinalOffset=u-s*y):(this.overscrollPointsRange=m(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=p&&t;this.groupIntervalFactor=null},val2lin:function(p,o){var s=this.ordinalPositions;if(s){var r=s.length,q,t;for(q=r;q--;){if(s[q]===p){t=q;break}}for(q=r-1;q--;){if(p>s[q]||0===q){p=(p-s[q])/(s[q+1]-s[q]);t=q+p;break}}o=o?t:this.ordinalSlope*(t||0)+this.ordinalOffset}else{o=p}return o},lin2val:function(p,o){var t=this.ordinalPositions;if(t){var r=this.ordinalSlope,q=this.ordinalOffset,u=t.length-1,s;if(o){0>p?p=t[0]:p>u?p=t[u]:(u=Math.floor(p),s=p-u)}else{for(;u--;){if(o=r*u+q,p>=o){r=r*(u+1)+q;s=(p-o)/(r-o);break}}}return void 0!==s&&void 0!==t[u]?t[u]+(s?s*(t[u+1]-t[u]):0):p}return p},getExtendedPositions:function(){var x=this,q=x.chart,o=x.series[0].currentDataGrouping,t=x.ordinalIndex,s=o?o.count+o.unitName:"raw",p=x.options.overscroll,u=x.getExtremes(),v,w;t||(t=x.ordinalIndex={});t[s]||(v={series:[],chart:q,getExtremes:function(){return{min:u.dataMin,max:u.dataMax+p}},options:{ordinal:!0},val2lin:e.prototype.val2lin,ordinal2lin:e.prototype.ordinal2lin},c(x.series,function(r){w={xAxis:v,xData:r.xData.slice(),chart:q,destroyGroupedData:j};w.xData=w.xData.concat(x.getOverscrollPositions());w.options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}};r.processData.apply(w);v.series.push(w)}),x.beforeSetTickPositions.apply(v),t[s]=v.ordinalPositions);return t[s]},getOverscrollPositions:function(){var s=this.options.overscroll,o=this.overscrollPointsRange,q=[],p=this.dataMax;if(h.defined(o)){for(q.push(p);p<=this.dataMax+s;){p+=o,q.push(p)}}return q},getGroupIntervalFactor:function(p,o,s){var t;s=s.processedXData;var q=s.length,u=[];t=this.groupIntervalFactor;if(!t){for(t=0;t<q-1;t++){u[t]=s[t+1]-s[t]}u.sort(function(r,v){return r-v});u=u[Math.floor(q/2)];p=Math.max(p,s[0]);o=Math.min(o,s[q-1]);this.groupIntervalFactor=t=q*u/(o-p)}return t},postProcessTickInterval:function(o){var p=this.ordinalSlope;return p?this.options.breaks?this.closestPointRange||o:o/(p/this.closestPointRange):o}});e.prototype.ordinal2lin=e.prototype.val2lin;f(l.prototype,"pan",function(F,r){var y=this.xAxis[0],t=y.options.overscroll,s=r.chartX,p=!1;if(y.options.ordinal&&y.series.length){var u=this.mouseDownX,C=y.getExtremes(),D=C.dataMax,v=C.min,w=C.max,q=this.hoverPoints,A=y.closestPointRange||y.overscrollPointsRange,u=(u-s)/(y.translationSlope*(y.ordinalSlope||A)),E={ordinalPositions:y.getExtendedPositions()},A=y.lin2val,x=y.val2lin,o;E.ordinalPositions?1<Math.abs(u)&&(q&&c(q,function(z){z.setState()}),0>u?(q=E,o=y.ordinalPositions?y:E):(q=y.ordinalPositions?y:E,o=E),E=o.ordinalPositions,D>E[E.length-1]&&E.push(D),this.fixedRange=w-v,u=y.toFixedRange(null,null,A.apply(q,[x.apply(q,[v,!0])+u,!0]),A.apply(o,[x.apply(o,[w,!0])+u,!0])),u.min>=Math.min(C.dataMin,v)&&u.max<=Math.max(D,w)+t&&y.setExtremes(u.min,u.max,!0,!1,{trigger:"pan"}),this.mouseDownX=s,g(this.container,{cursor:"move"})):p=!0}else{p=!0}p&&(t&&(y.max=y.dataMax+t),F.apply(this,Array.prototype.slice.call(arguments,1)))})})(b);(function(h){function d(){return Array.prototype.slice.call(arguments,1)}function e(o){o.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}var l=h.addEvent,g=h.pick,n=h.wrap,c=h.each,i=h.extend,j=h.isArray,m=h.fireEvent,k=h.Axis,f=h.Series;i(k.prototype,{isInBreak:function(p,o){var s=p.repeat||Infinity,r=p.from,q=p.to-p.from;o=o>=r?(o-r)%s:s-(r-o)%s;return p.inclusive?o<=q:o<q&&0!==o},isInAnyBreak:function(p,o){var t=this.options.breaks,r=t&&t.length,q,u,s;if(r){for(;r--;){this.isInBreak(t[r],p)&&(q=!0,u||(u=g(t[r].showPoints,this.isXAxis?!1:!0)))}s=q&&o?q&&!u:q}return s}});l(k,"afterSetTickPositions",function(){if(this.options.breaks){var p=this.tickPositions,o=this.tickPositions.info,s=[],q;for(q=0;q<p.length;q++){this.isInAnyBreak(p[q])||s.push(p[q])}this.tickPositions=s;this.tickPositions.info=o}});l(k,"afterSetOptions",function(){this.options.breaks&&this.options.breaks.length&&(this.options.ordinal=!1)});l(k,"afterInit",function(){var p=this,o;o=this.options.breaks;p.isBroken=j(o)&&!!o.length;p.isBroken&&(p.val2lin=function(t){var s=t,r,q;for(q=0;q<p.breakArray.length;q++){if(r=p.breakArray[q],r.to<=t){s-=r.len}else{if(r.from>=t){break}else{if(p.isInBreak(r,t)){s-=t-r.from;break}}}}return s},p.lin2val=function(s){var r,q;for(q=0;q<p.breakArray.length&&!(r=p.breakArray[q],r.from>=s);q++){r.to<s?s+=r.len:p.isInBreak(r,s)&&(s+=r.len)}return s},p.setExtremes=function(r,u,s,q,t){for(;this.isInAnyBreak(r);){r-=this.closestPointRange}for(;this.isInAnyBreak(u);){u-=this.closestPointRange}k.prototype.setExtremes.call(this,r,u,s,q,t)},p.setAxisTranslation=function(x){k.prototype.setAxisTranslation.call(this,x);x=p.options.breaks;var t=[],s=[],r=0,u,A,B=p.userMin||p.min,v=p.userMax||p.max,w=g(p.pointRangePadding,0),q,y;c(x,function(z){A=z.repeat||Infinity;p.isInBreak(z,B)&&(B+=z.to%A-B%A);p.isInBreak(z,v)&&(v-=v%A-z.from%A)});c(x,function(z){q=z.from;for(A=z.repeat||Infinity;q-A>B;){q-=A}for(;q<B;){q+=A}for(y=q;y<v;y+=A){t.push({value:y,move:"in"}),t.push({value:y+(z.to-z.from),move:"out",size:z.breakSize})}});t.sort(function(C,z){return C.value===z.value?("in"===C.move?0:1)-("in"===z.move?0:1):C.value-z.value});u=0;q=B;c(t,function(z){u+="in"===z.move?1:-1;1===u&&"in"===z.move&&(q=z.value);0===u&&(s.push({from:q,to:z.value,len:z.value-q-(z.size||0)}),r+=z.value-q-(z.size||0))});p.breakArray=s;p.unitLength=v-B-r+w;m(p,"afterBreaks");p.options.staticScale?p.transA=p.options.staticScale:p.unitLength&&(p.transA*=(v-p.min+w)/p.unitLength);w&&(p.minPixelPadding=p.transA*p.minPointOffset);p.min=B;p.max=v})});n(f.prototype,"generatePoints",function(o){o.apply(this,d(arguments));var u=this.xAxis,t=this.yAxis,q=this.points,p,w=q.length,s=this.options.connectNulls,v;if(u&&t&&(u.options.breaks||t.options.breaks)){for(;w--;){p=q[w],v=null===p.y&&!1===s,v||!u.isInAnyBreak(p.x,!0)&&!t.isInAnyBreak(p.y,!0)||(q.splice(w,1),this.data[w]&&this.data[w].destroyElements())}}});h.Series.prototype.drawBreaks=function(p,o){var t=this,r=t.points,q,v,s,u;p&&c(o,function(w){q=p.breakArray||[];v=p.isXAxis?p.min:g(t.options.threshold,p.min);c(r,function(x){u=g(x["stack"+w.toUpperCase()],x[w]);c(q,function(y){s=!1;if(v<y.from&&u>y.to||v>y.from&&u<y.from){s="pointBreak"}else{if(v<y.from&&u>y.from&&u<y.to||v>y.from&&u>y.to&&u<y.from){s="pointInBreak"}}s&&m(p,s,{point:x,brk:y})})})})};h.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,o=t&&t.totalRange,t=this.options.gapSize,s=this.points.slice(),q=s.length-1,p=this.yAxis;if(t&&0<q){for("value"!==this.options.gapUnit&&(t*=this.closestPointRange),o&&o>t&&(t=o);q--;){s[q+1].x-s[q].x>t&&(o=(s[q].x+s[q+1].x)/2,s.splice(q+1,0,{isNull:!0,x:o}),this.options.stacking&&(o=p.stacks[this.stackKey][o]=new h.StackItem(p,p.options.stackLabels,!1,o,this.stack),o.total=0))}}return this.getGraphPath(s)};n(h.seriesTypes.column.prototype,"drawPoints",e);n(h.Series.prototype,"drawPoints",e)})(b);(function(V){var B=V.addEvent,G=V.arrayMax,p=V.arrayMin,i=V.Axis,u=V.defaultPlotOptions,z=V.defined,o=V.each,j=V.extend,w=V.format,s=V.isNumber,J=V.merge,S=V.pick,M=V.Point,F=V.Series,O=V.Tooltip,N=V.wrap,K=F.prototype,P=K.processData,T=K.generatePoints,U={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Q={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},R=V.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],L=V.approximations={sum:function(d){var c=d.length,e;if(!c&&d.hasNulls){e=null}else{if(c){for(e=0;c--;){e+=d[c]}}}return e},average:function(d){var c=d.length;d=L.sum(d);s(d)&&c&&(d/=c);return d},averages:function(){var c=[];o(arguments,function(d){c.push(L.average(d))});return void 0===c[0]?void 0:c},open:function(c){return c.length?c[0]:c.hasNulls?null:void 0},high:function(c){return c.length?G(c):c.hasNulls?null:void 0},low:function(c){return c.length?p(c):c.hasNulls?null:void 0},close:function(c){return c.length?c[c.length-1]:c.hasNulls?null:void 0},ohlc:function(d,c,f,h){d=L.open(d);c=L.high(c);f=L.low(f);h=L.close(h);if(s(d)||s(c)||s(f)||s(h)){return[d,c,f,h]}},range:function(d,c){d=L.low(d);c=L.high(c);if(s(d)||s(c)){return[d,c]}if(null===d&&null===c){return null}}};K.groupData=function(af,ab,ac,ae){var W=this.data,A=this.options.data,v=[],ad=[],y=[],m=af.length,x,Z,aa=!!ab,Y=[];ae="function"===typeof ae?ae:L[ae]||Q[this.type]&&L[Q[this.type].approximation]||L[U.approximation];var q=this.pointArrayMap,X=q&&q.length,H=0;Z=0;var f,I;X?o(q,function(){Y.push([])}):Y.push([]);f=X||1;for(I=0;I<=m&&!(af[I]>=ac[0]);I++){}for(I;I<=m;I++){for(;void 0!==ac[H+1]&&af[I]>=ac[H+1]||I===m;){x=ac[H];this.dataGroupInfo={start:Z,length:Y[0].length};Z=ae.apply(this,Y);void 0!==Z&&(v.push(x),ad.push(Z),y.push(this.dataGroupInfo));Z=I;for(x=0;x<f;x++){Y[x].length=0,Y[x].hasNulls=!1}H+=1;if(I===m){break}}if(I===m){break}if(q){x=this.cropStart+I;var C=W&&W[x]||this.pointClass.prototype.applyOptions.apply({series:this},[A[x]]),E;for(x=0;x<X;x++){E=C[q[x]],s(E)?Y[x].push(E):null===E&&(Y[x].hasNulls=!0)}}else{x=aa?ab[I]:null,s(x)?Y[0].push(x):null===x&&(Y[0].hasNulls=!0)}}return[v,ad,y]};K.processData=function(){var x=this.chart,v=this.options.dataGrouping,t=!1!==this.allowDG&&v&&S(v.enabled,x.options.isStock),e=this.visible||!x.options.chart.ignoreHiddenSeries,d,C=this.currentDataGrouping,y;this.forceCrop=t;this.groupPixelWidth=null;this.hasProcessed=!0;if(!1!==P.apply(this,arguments)&&t){this.destroyGroupedData();var r,D=v.groupAll?this.xData:this.processedXData,n=v.groupAll?this.yData:this.processedYData,A=x.plotSizeX,x=this.xAxis,q=x.options.ordinal,g=this.groupPixelWidth=x.getGroupPixelWidth&&x.getGroupPixelWidth();if(g){this.isDirty=d=!0;this.points=null;t=x.getExtremes();y=t.min;t=t.max;q=q&&x.getGroupIntervalFactor(y,t,this)||1;g=g*(t-y)/A*q;A=x.getTimeTicks(x.normalizeTimeTickInterval(g,v.units||R),Math.min(y,D[0]),Math.max(t,D[D.length-1]),x.options.startOfWeek,D,this.closestPointRange);n=K.groupData.apply(this,[D,n,A,v.approximation]);D=n[0];q=n[1];if(v.smoothed&&D.length){r=D.length-1;for(D[r]=Math.min(D[r],t);r--&&0<r;){D[r]+=g/2}D[0]=Math.max(D[0],y)}y=A.info;this.closestPointRange=A.info.totalRange;this.groupMap=n[2];z(D[0])&&D[0]<x.dataMin&&e&&(x.min<=x.dataMin&&(x.min=D[0]),x.dataMin=D[0]);v.groupAll&&(v=this.cropData(D,q,x.min,x.max,1),D=v.xData,q=v.yData);this.processedXData=D;this.processedYData=q}else{this.groupMap=null}this.hasGroupedData=d;this.currentDataGrouping=y;this.preventGraphAnimation=(C&&C.totalRange)!==(y&&y.totalRange)}};K.destroyGroupedData=function(){var c=this.groupedData;o(c||[],function(d,e){d&&(c[e]=d.destroy?d.destroy():null)});this.groupedData=null};K.generatePoints=function(){T.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};B(M,"update",function(){if(this.dataGroup){return V.error(24),!1}});N(O.prototype,"tooltipFooterHeaderFormatter",function(t,r,k){var n=this.chart.time,d=r.series,x=d.tooltipOptions,v=d.options.dataGrouping,q=x.xDateFormat,h,l=d.xAxis;return l&&"datetime"===l.options.type&&v&&s(r.key)?(t=d.currentDataGrouping,v=v.dateTimeLabelFormats,t?(l=v[t.unitName],1===t.count?q=l[0]:(q=l[1],h=l[2])):!q&&v&&(q=this.getXDateFormat(r,x,l)),q=n.dateFormat(q,r.key),h&&(q+=n.dateFormat(h,r.key+t.totalRange-1)),w(x[(k?"footer":"header")+"Format"],{point:j(r.point,{key:q}),series:d},n)):t.call(this,r,k)});B(F,"destroy",K.destroyGroupedData);B(F,"afterSetOptions",function(d){d=d.options;var f=this.type,k=this.chart.options.plotOptions,l=u[f].dataGrouping,h=this.useCommonDataGrouping&&U;if(Q[f]||h){l||(l=J(U,Q[f])),d.dataGrouping=J(h,l,k.series&&k.series.dataGrouping,k[f].dataGrouping,this.userOptions.dataGrouping)}this.chart.options.isStock&&(this.requireSorting=!0)});B(i,"afterSetScale",function(){o(this.series,function(c){c.hasProcessed=!1})});i.prototype.getGroupPixelWidth=function(){var d=this.series,c=d.length,h,l=0,k=!1,f;for(h=c;h--;){(f=d[h].options.dataGrouping)&&(l=Math.max(l,f.groupPixelWidth))}for(h=c;h--;){(f=d[h].options.dataGrouping)&&d[h].hasProcessed&&(c=(d[h].processedXData||d[h].data).length,d[h].groupPixelWidth||c>this.chart.plotSizeX/l||c&&f.forced)&&(k=!0)}return k?l:0};i.prototype.setDataGrouping=function(d,c){var e;c=S(c,!0);d||(d={forced:!1,units:null});if(this instanceof i){for(e=this.series.length;e--;){this.series[e].update({dataGrouping:d},!1)}}else{o(this.chart.options.series,function(f){f.dataGrouping=d},!1)}this.ordinalSlope=null;c&&this.chart.redraw()}})(b);(function(c){var f=c.each,e=c.Point,d=c.seriesType,g=c.seriesTypes;d("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'\x3cspan style\x3d"color:{point.color}"\x3e\u25cf\x3c/span\x3e \x3cb\x3e {series.name}\x3c/b\x3e\x3cbr/\x3eOpen: {point.open}\x3cbr/\x3eHigh: {point.high}\x3cbr/\x3eLow: {point.low}\x3cbr/\x3eClose: {point.close}\x3cbr/\x3e'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(h){return[h.open,h.high,h.low,h.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(i,j){j=g.column.prototype.pointAttribs.call(this,i,j);var h=this.options;delete j.fill;!i.options.color&&h.upColor&&i.open<i.close&&(j.stroke=h.upColor);return j},translate:function(){var i=this,k=i.yAxis,h=!!i.modifyValue,j=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];g.column.prototype.translate.apply(i);f(i.points,function(l){f([l.open,l.high,l.low,l.close,l.low],function(n,m){null!==n&&(h&&(n=i.modifyValue(n)),l[j[m]]=k.toPixels(n,!0))});l.tooltipPos[1]=l.plotHigh+k.pos-i.chart.plotTop})},drawPoints:function(){var h=this,i=h.chart;f(h.points,function(k){var s,o,n,j,u=k.graphic,m,p=!u;void 0!==k.plotY&&(u||(k.graphic=u=i.renderer.path().add(h.group)),u.attr(h.pointAttribs(k,k.selected&&"select")),o=u.strokeWidth()%2/2,m=Math.round(k.plotX)-o,n=Math.round(k.shapeArgs.width/2),j=["M",m,Math.round(k.yBottom),"L",m,Math.round(k.plotHigh)],null!==k.open&&(s=Math.round(k.plotOpen)+o,j.push("M",m,s,"L",m-n,s)),null!==k.close&&(s=Math.round(k.plotClose)+o,j.push("M",m,s,"L",m+n,s)),u[p?"attr":"animate"]({d:j}).addClass(k.getClassName(),!0))})},animate:null},{getClassName:function(){return e.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})})(b);(function(c){var g=c.defaultPlotOptions,f=c.each,d=c.merge,h=c.seriesType,e=c.seriesTypes;h("candlestick","ohlc",d(g.column,{states:{hover:{lineWidth:2}},tooltip:g.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(k,n){var j=e.column.prototype.pointAttribs.call(this,k,n),m=this.options,l=k.open<k.close,i=m.lineColor||this.color;j["stroke-width"]=m.lineWidth;j.fill=k.options.color||(l?m.upColor||this.color:this.color);j.stroke=k.lineColor||(l?m.upLineColor||i:i);n&&(k=m.states[n],j.fill=k.color||j.fill,j.stroke=k.lineColor||j.stroke,j["stroke-width"]=k.lineWidth||j["stroke-width"]);return j},drawPoints:function(){var j=this,i=j.chart;f(j.points,function(o){var B=o.graphic,z,p,y,u,m,x,w,s=!B;void 0!==o.plotY&&(B||(o.graphic=B=i.renderer.path().add(j.group)),B.attr(j.pointAttribs(o,o.selected&&"select")).shadow(j.options.shadow),m=B.strokeWidth()%2/2,x=Math.round(o.plotX)-m,z=o.plotOpen,p=o.plotClose,y=Math.min(z,p),z=Math.max(z,p),w=Math.round(o.shapeArgs.width/2),p=Math.round(y)!==Math.round(o.plotHigh),u=z!==o.yBottom,y=Math.round(y)+m,z=Math.round(z)+m,m=[],m.push("M",x-w,z,"L",x-w,y,"L",x+w,y,"L",x+w,z,"Z","M",x,y,"L",x,p?Math.round(o.plotHigh):y,"M",x,z,"L",x,u?Math.round(o.yBottom):z),B[s?"attr":"animate"]({d:m}).addClass(o.getClassName(),!0))})}})})(b);var a=function(c){var f=c.each,e=c.defined,d=c.seriesTypes,g=c.stableSort;return{getPlotBox:function(){return c.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){d.column.prototype.translate.apply(this);var J=this.options,p=this.chart,j=this.points,i=j.length-1,o,m,s=J.onSeries,s=s&&p.get(s),J=J.onKey||"y",F=s&&s.options.step,w=s&&s.points,q=w&&w.length,z=p.inverted,y=this.xAxis,u=this.yAxis,B=0,G,H,C,E;if(s&&s.visible&&q){for(B=(s.pointXOffset||0)+(s.barW||0)/2,o=s.currentDataGrouping,H=w[q-1].x+(o?o.totalRange:0),g(j,function(k,h){return k.x-h.x}),J="plot"+J[0].toUpperCase()+J.substr(1);q--&&j[i]&&!(G=w[q],o=j[i],o.y=G.y,G.x<=o.x&&void 0!==G[J]&&(o.x<=H&&(o.plotY=G[J],G.x<o.x&&!F&&(C=w[q+1])&&void 0!==C[J]&&(E=(o.x-G.x)/(C.x-G.x),o.plotY+=E*(C[J]-G[J]),o.y+=E*(C.y-G.y))),i--,q++,0>i));){}}f(j,function(k,h){var l;k.plotX+=B;if(void 0===k.plotY||z){0<=k.plotX&&k.plotX<=y.len?z?(k.plotY=y.translate(k.x,0,1,0,1),k.plotX=e(k.y)?u.translate(k.y,0,0,0,1):0):k.plotY=p.chartHeight-y.bottom-(y.opposite?y.height:0)+y.offset-u.top:k.shapeArgs={}}(m=j[h-1])&&m.plotX===k.plotX&&(void 0===m.stackIndex&&(m.stackIndex=0),l=m.stackIndex+1);k.stackIndex=l});this.onSeries=s}}}(b);(function(h,d){function e(o){f[o+"pin"]=function(u,t,q,p,v){var s=v&&v.anchorX;v=v&&v.anchorY;"circle"===o&&p>q&&(u-=Math.round((p-q)/2),q=p);u=f[o](u,t,q,p);s&&v&&(u.push("M","circle"===o?u[1]-u[4]:u[1]+u[4]/2,t>v?t:t+p,"L",s,v),u=u.concat(f.circle(s-1,v-1,2,2)));return u}}var l=h.addEvent,g=h.each,n=h.merge,c=h.noop,i=h.Renderer,j=h.seriesType,m=h.TrackerMixin,k=h.VMLRenderer,f=h.SVGRenderer.prototype.symbols;j("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}\x3cbr/\x3e"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:h.Series.prototype.init,pointAttribs:function(p,o){var s=this.options,r=p&&p.color||this.color,q=s.lineColor,t=p&&p.lineWidth;p=p&&p.fillColor||s.fillColor;o&&(p=s.states[o].fillColor,q=s.states[o].lineColor,t=s.states[o].lineWidth);return{fill:p||r,stroke:q||r,"stroke-width":t||s.lineWidth||0}},translate:d.translate,getPlotBox:d.getPlotBox,drawPoints:function(){var G=this.points,y=this.chart,o=y.renderer,C,A,w=y.inverted,D=this.options,I=D.y,J,E,F,x,H,s,K=this.yAxis,v={},u=[];for(E=G.length;E--;){F=G[E],s=(w?F.plotY:F.plotX)>this.xAxis.len,C=F.plotX,x=F.stackIndex,J=F.options.shape||D.shape,A=F.plotY,void 0!==A&&(A=F.plotY+I-(void 0!==x&&x*D.stackDistance)),F.anchorX=x?void 0:F.plotX,H=x?void 0:F.plotY,x=F.graphic,void 0!==A&&0<=C&&!s?(x||(x=F.graphic=o.label("",null,null,J,null,null,D.useHTML).attr(this.pointAttribs(F)).css(n(D.style,F.style)).attr({align:"flag"===J?"left":"center",width:D.width,height:D.height,"text-align":D.textAlign}).addClass("highcharts-point").add(this.markerGroup),F.graphic.div&&(F.graphic.div.point=F),x.shadow(D.shadow),x.isNew=!0),0<C&&(C-=x.strokeWidth()%2),J={y:A,anchorY:H},D.allowOverlapX&&(J.x=C,J.anchorX=F.anchorX),x.attr({text:F.options.title||D.title||"A"})[x.isNew?"attr":"animate"](J),D.allowOverlapX||(v[F.plotX]?v[F.plotX].size=Math.max(v[F.plotX].size,x.width):v[F.plotX]={align:0,size:x.width,target:C,anchorX:C}),F.tooltipPos=[C,A+K.pos-y.plotTop]):x&&(F.graphic=x.destroy())}D.allowOverlapX||(h.objectEach(v,function(p){p.plotX=p.anchorX;u.push(p)}),h.distribute(u,w?K.len:this.xAxis.len,100),g(G,function(q){var p=q.graphic&&v[q.plotX];p&&(q.graphic[q.graphic.isNew?"attr":"animate"]({x:p.pos,anchorX:q.anchorX}),q.graphic.isNew=!1)}));D.useHTML&&h.wrap(this.markerGroup,"on",function(p){return h.SVGElement.prototype.on.apply(p.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var o=this.points;m.drawTrackerPoint.apply(this);g(o,function(q){var p=q.graphic;p&&l(p.element,"mouseover",function(){0<q.stackIndex&&!q.raised&&(q._y=p.y,p.attr({y:q._y-8}),q.raised=!0);g(o,function(r){r!==q&&r.raised&&r.graphic&&(r.graphic.attr({y:r._y}),r.raised=!1)})})})},animate:c,buildKDTree:c,setClip:c,invertGroups:c});f.flag=function(p,o,t,s,q){var u=q&&q.anchorX||p;q=q&&q.anchorY||o;return f.circle(u-1,q-1,2,2).concat(["M",u,q,"L",p,o+s,p,o,p+t,o,p+t,o+s,p,o+s,"Z"])};e("circle");e("square");i===k&&g(["flag","circlepin","squarepin"],function(o){k.prototype.symbols[o]=f[o]})})(b,a);(function(K){function p(h,k,d){this.init(h,k,d)}var u=K.addEvent,g=K.Axis,c=K.correctFloat,j=K.defaultOptions,o=K.defined,f=K.destroyObjectProperties,e=K.each,m=K.fireEvent,i=K.hasTouch,w=K.isTouchDevice,J=K.merge,B=K.pick,s=K.removeEvent,G=K.wrap,F,z={height:w?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:K.svg&&!w,margin:10,minWidth:6,step:0.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};j.scrollbar=J(!0,z,j.scrollbar);K.swapXY=F=function(h,l){var d=h.length,k;if(l){for(l=0;l<d;l+=3){k=h[l+1],h[l+1]=h[l+2],h[l+2]=k}}return h};p.prototype={init:function(h,k,d){this.scrollbarButtons=[];this.renderer=h;this.userOptions=k;this.options=J(z,k);this.chart=d;this.size=B(this.options.size,this.options.height);k.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var h=this.renderer,l=this.options,d=this.size,k;this.group=k=h.g("scrollbar").attr({zIndex:l.zIndex,translateY:-99999}).add();this.track=h.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:l.trackBorderRadius||0,height:d,width:d}).add(k);this.track.attr({fill:l.trackBackgroundColor,stroke:l.trackBorderColor,"stroke-width":l.trackBorderWidth});this.trackBorderWidth=this.track.strokeWidth();this.track.attr({y:-this.trackBorderWidth%2/2});this.scrollbarGroup=h.g().add(k);this.scrollbar=h.rect().addClass("highcharts-scrollbar-thumb").attr({height:d,width:d,r:l.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=h.path(F(["M",-3,d/4,"L",-3,2*d/3,"M",0,d/4,"L",0,2*d/3,"M",3,d/4,"L",3,2*d/3],l.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);this.scrollbar.attr({fill:l.barBackgroundColor,stroke:l.barBorderColor,"stroke-width":l.barBorderWidth});this.scrollbarRifles.attr({stroke:l.rifleColor,"stroke-width":1});this.scrollbarStrokeWidth=this.scrollbar.strokeWidth();this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2);this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(k,t,h,n){var q=this.options.vertical,l=0,r=this.rendered?"animate":"attr";this.x=k;this.y=t+this.trackBorderWidth;this.width=h;this.xOffset=this.height=n;this.yOffset=l;q?(this.width=this.yOffset=h=l=this.size,this.xOffset=t=0,this.barWidth=n-2*h,this.x=k+=this.options.margin):(this.height=this.xOffset=n=t=this.size,this.barWidth=h-2*n,this.y+=this.options.margin);this.group[r]({translateX:k,translateY:this.y});this.track[r]({width:h,height:n});this.scrollbarButtons[1][r]({translateX:q?0:h-t,translateY:q?n-l:0})},drawScrollbarButton:function(k){var l=this.renderer,h=this.scrollbarButtons,n=this.options,q=this.size,d;d=l.g().add(this.group);h.push(d);d=l.rect().addClass("highcharts-scrollbar-button").add(d);d.attr({stroke:n.buttonBorderColor,"stroke-width":n.buttonBorderWidth,fill:n.buttonBackgroundColor});d.attr(d.crisp({x:-0.5,y:-0.5,width:q+1,height:q+1,r:n.buttonBorderRadius},d.strokeWidth()));d=l.path(F(["M",q/2+(k?-1:1),q/2-3,"L",q/2+(k?-1:1),q/2+3,"L",q/2+(k?2:-2),q/2],n.vertical)).addClass("highcharts-scrollbar-arrow").add(h[k]);d.attr({fill:n.buttonArrowColor})},setRange:function(A,x){var y=this.options,r=y.vertical,t=y.minWidth,l=this.barWidth,v,n,q=this.rendered&&!this.hasDragged?"animate":"attr";o(l)&&(A=Math.max(A,0),v=Math.ceil(l*A),this.calculatedWidth=n=c(l*Math.min(x,1)-v),n<t&&(v=(l-t+n)*A,n=t),t=Math.floor(v+this.xOffset+this.yOffset),l=n/2-0.5,this.from=A,this.to=x,r?(this.scrollbarGroup[q]({translateY:t}),this.scrollbar[q]({height:n}),this.scrollbarRifles[q]({translateY:l}),this.scrollbarTop=t,this.scrollbarLeft=0):(this.scrollbarGroup[q]({translateX:t}),this.scrollbar[q]({width:n}),this.scrollbarRifles[q]({translateX:l}),this.scrollbarLeft=t,this.scrollbarTop=0),12>=n?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===y.showFull&&(0>=A&&1<=x?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var d=this;d.mouseMoveHandler=function(n){var h=d.chart.pointer.normalize(n),k=d.options.vertical?"chartY":"chartX",l=d.initPositions;!d.grabbedCenter||n.touches&&0===n.touches[0][k]||(h=d.cursorToScrollbarPosition(h)[k],k=d[k],k=h-k,d.hasDragged=!0,d.updatePosition(l[0]+k,l[1]+k),d.hasDragged&&m(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMType:n.type,DOMEvent:n}))};d.mouseUpHandler=function(h){d.hasDragged&&m(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMType:h.type,DOMEvent:h});d.grabbedCenter=d.hasDragged=d.chartX=d.chartY=null};d.mouseDownHandler=function(h){h=d.chart.pointer.normalize(h);h=d.cursorToScrollbarPosition(h);d.chartX=h.chartX;d.chartY=h.chartY;d.initPositions=[d.from,d.to];d.grabbedCenter=!0};d.buttonToMinClick=function(k){var h=c(d.to-d.from)*d.options.step;d.updatePosition(c(d.from-h),c(d.to-h));m(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:k})};d.buttonToMaxClick=function(k){var h=(d.to-d.from)*d.options.step;d.updatePosition(d.from+h,d.to+h);m(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:k})};d.trackClick=function(q){var h=d.chart.pointer.normalize(q),k=d.to-d.from,l=d.y+d.scrollbarTop,n=d.x+d.scrollbarLeft;d.options.vertical&&h.chartY>l||!d.options.vertical&&h.chartX>n?d.updatePosition(d.from+k,d.to+k):d.updatePosition(d.from-k,d.to-k);m(d,"changed",{from:d.from,to:d.to,trigger:"scrollbar",DOMEvent:q})}},cursorToScrollbarPosition:function(d){var h=this.options,h=h.minWidth>this.calculatedWidth?h.minWidth:0;return{chartX:(d.chartX-this.x-this.xOffset)/(this.barWidth-h),chartY:(d.chartY-this.y-this.yOffset)/(this.barWidth-h)}},updatePosition:function(d,h){1<h&&(d=c(1-c(h-d)),h=1);0>d&&(h=c(h-d),d=0);this.from=d;this.to=h},update:function(d){this.destroy();this.init(this.chart.renderer,J(!0,this.options,d),this.chart)},addEvents:function(){var k=this.options.inverted?[1,0]:[0,1],r=this.scrollbarButtons,h=this.scrollbarGroup.element,l=this.mouseDownHandler,n=this.mouseMoveHandler,q=this.mouseUpHandler,k=[[r[k[0]].element,"click",this.buttonToMinClick],[r[k[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[h,"mousedown",l],[h.ownerDocument,"mousemove",n],[h.ownerDocument,"mouseup",q]];i&&k.push([h,"touchstart",l],[h.ownerDocument,"touchmove",n],[h.ownerDocument,"touchend",q]);e(k,function(d){u.apply(null,d)});this._events=k},removeEvents:function(){e(this._events,function(d){s.apply(null,d)});this._events.length=0},destroy:function(){var d=this.chart.scroller;this.removeEvents();e(["track","scrollbarRifles","scrollbar","scrollbarGroup","group"],function(h){this[h]&&this[h].destroy&&(this[h]=this[h].destroy())},this);d&&this===d.scrollbar&&(d.scrollbar=null,f(d.scrollbarButtons))}};G(g.prototype,"init",function(d){var h=this;d.apply(h,Array.prototype.slice.call(arguments,1));h.options.scrollbar&&h.options.scrollbar.enabled&&(h.options.scrollbar.vertical=!h.horiz,h.options.startOnTick=h.options.endOnTick=!1,h.scrollbar=new p(h.chart.renderer,h.options.scrollbar,h.chart),u(h.scrollbar,"changed",function(l){var k=Math.min(B(h.options.min,h.min),h.min,h.dataMin),n=Math.max(B(h.options.max,h.max),h.max,h.dataMax)-k,q;h.horiz&&!h.reversed||!h.horiz&&h.reversed?(q=k+n*this.to,k+=n*this.from):(q=k+n*(1-this.from),k+=n*(1-this.to));h.setExtremes(k,q,!0,!1,l)}))});G(g.prototype,"render",function(h){var n=Math.min(B(this.options.min,this.min),this.min,B(this.dataMin,this.min)),d=Math.max(B(this.options.max,this.max),this.max,B(this.dataMax,this.max)),k=this.scrollbar,l=this.titleOffset||0;h.apply(this,Array.prototype.slice.call(arguments,1));if(k){this.horiz?(k.position(this.left,this.top+this.height+2+this.chart.scrollbarsOffsets[1]+(this.opposite?0:l+this.axisTitleMargin+this.offset),this.width,this.height),l=1):(k.position(this.left+this.width+2+this.chart.scrollbarsOffsets[0]+(this.opposite?l+this.axisTitleMargin+this.offset:0),this.top,this.width,this.height),l=0);if(!this.opposite&&!this.horiz||this.opposite&&this.horiz){this.chart.scrollbarsOffsets[l]+=this.scrollbar.size+this.scrollbar.options.margin}isNaN(n)||isNaN(d)||!o(this.min)||!o(this.max)?k.setRange(0,0):(l=(this.min-n)/(d-n),n=(this.max-n)/(d-n),this.horiz&&!this.reversed||!this.horiz&&this.reversed?k.setRange(l,n):k.setRange(1-n,1-l))}});G(g.prototype,"getOffset",function(h){var k=this.horiz?2:1,d=this.scrollbar;h.apply(this,Array.prototype.slice.call(arguments,1));d&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[k]+=d.size+d.options.margin)});G(g.prototype,"destroy",function(d){this.scrollbar&&(this.scrollbar=this.scrollbar.destroy());d.apply(this,Array.prototype.slice.call(arguments,1))});K.Scrollbar=p})(b);(function(ad){function N(c){this.init(c)}var Q=ad.addEvent,w=ad.Axis,p=ad.Chart,G=ad.color,L=ad.defaultOptions,u=ad.defined,s=ad.destroyObjectProperties,K=ad.each,F=ad.erase,R=ad.error,aa=ad.extend,U=ad.grep,O=ad.hasTouch,W=ad.isArray,V=ad.isNumber,S=ad.isObject,X=ad.isTouchDevice,ab=ad.merge,ac=ad.pick,Y=ad.removeEvent,Z=ad.Scrollbar,T=ad.Series,j=ad.seriesTypes,o=ad.wrap,i=[].concat(ad.defaultDataGroupingUnits),P=function(d){var c=U(arguments,V);if(c.length){return Math[d].apply(0,c)}};i[4]=["day",[1,2,3,4]];i[5]=["week",[1,2,3]];j=void 0===j.areaspline?"line":"areaspline";aa(L,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:G("#6685c2").setOpacity(0.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:j,fillOpacity:0.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:i},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},pointRange:0,threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}});ad.Renderer.prototype.symbols["navigator-handle"]=function(g,d,k,l,h){g=h.width/2;d=Math.round(g/3)+0.5;h=h.height;return["M",-g-1,0.5,"L",g,0.5,"L",g,h+0.5,"L",-g-1,h+0.5,"L",-g-1,0.5,"M",-d,4,"L",-d,h-3,"M",d-1,4,"L",d-1,h-3]};N.prototype={drawHandle:function(f,d,h,k){var g=this.navigatorOptions.handles.height;this.handles[d][k](h?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(f,10)+0.5-g)}:{translateX:Math.round(this.left+parseInt(f,10)),translateY:Math.round(this.top+this.height/2-g/2-1)})},drawOutline:function(z,y,t,x){var g=this.navigatorOptions.maskInside,B=this.outline.strokeWidth(),A=B/2,B=B%2/2,r=this.outlineHeight,v=this.scrollbarHeight,l=this.size,n=this.left-v,q=this.top;t?(n-=A,t=q+y+B,y=q+z+B,z=["M",n+r,q-v-B,"L",n+r,t,"L",n,t,"L",n,y,"L",n+r,y,"L",n+r,q+l+v].concat(g?["M",n+r,t-A,"L",n+r,y+A]:[])):(z+=n+v-B,y+=n+v-B,q+=A,z=["M",n,q,"L",z,q,"L",z,q+r,"L",y,q+r,"L",y,q,"L",n+l+2*v,q].concat(g?["M",z-A,q,"L",y+A,q]:[]));this.outline[x]({d:z})},drawMasks:function(x,v,q,t){var g=this.left,z=this.top,y=this.height,n,r,h,l;q?(h=[g,g,g],l=[z,z+x,z+v],r=[y,y,y],n=[x,v-x,this.size-v]):(h=[g,g+x,g+v],l=[z,z,z],r=[x,v-x,this.size-v],n=[y,y,y]);K(this.shades,function(d,c){d[t]({x:h[c],y:l[c],width:r[c],height:n[c]})})},renderElements:function(){var l=this,h=l.navigatorOptions,r=h.maskInside,v=l.chart,q=v.inverted,t=v.renderer,g;l.navigatorGroup=g=t.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();var n={cursor:q?"ns-resize":"ew-resize"};K([!r,r,!r],function(d,c){l.shades[c]=t.rect().addClass("highcharts-navigator-mask"+(1===c?"-inside":"-outside")).attr({fill:d?h.maskFill:"rgba(0,0,0,0)"}).css(1===c&&n).add(g)});l.outline=t.path().addClass("highcharts-navigator-outline").attr({"stroke-width":h.outlineWidth,stroke:h.outlineColor}).add(g);h.handles.enabled&&K([0,1],function(d){h.handles.inverted=v.inverted;l.handles[d]=t.symbol(h.handles.symbols[d],-h.handles.width/2-1,0,h.handles.width,h.handles.height,h.handles);l.handles[d].attr({zIndex:7-d}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][d]).add(g);var c=h.handles;l.handles[d].attr({fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.lineWidth}).css(n)})},update:function(c){K(this.series||[],function(d){d.baseSeries&&delete d.baseSeries.navigatorSeries});this.destroy();ab(!0,this.chart.options.navigator,this.options,c);this.init(this.chart)},render:function(v,E,M,D){var af=this.chart,H,ae,y=this.scrollbarHeight,B,C=this.xAxis;H=C.fake?af.xAxis[0]:C;var A=this.navigatorEnabled,J,x=this.rendered;ae=af.inverted;var I,k=af.xAxis[0].minRange,t=af.xAxis[0].options.maxRange;if(!this.hasDragged||u(M)){if(!V(v)||!V(E)){if(x){M=0,D=ac(C.width,H.width)}else{return}}this.left=ac(C.left,af.plotLeft+y+(ae?af.plotWidth:0));this.size=J=B=ac(C.len,(ae?af.plotHeight:af.plotWidth)-2*y);af=ae?y:B+2*y;M=ac(M,C.toPixels(v,!0));D=ac(D,C.toPixels(E,!0));V(M)&&Infinity!==Math.abs(M)||(M=0,D=af);v=C.toValue(M,!0);E=C.toValue(D,!0);I=Math.abs(ad.correctFloat(E-v));I<k?this.grabbedLeft?M=C.toPixels(E-k,!0):this.grabbedRight&&(D=C.toPixels(v+k,!0)):u(t)&&I>t&&(this.grabbedLeft?M=C.toPixels(E-t,!0):this.grabbedRight&&(D=C.toPixels(v+t,!0)));this.zoomedMax=Math.min(Math.max(M,D,0),J);this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(M,D),0),J);this.range=this.zoomedMax-this.zoomedMin;J=Math.round(this.zoomedMax);M=Math.round(this.zoomedMin);A&&(this.navigatorGroup.attr({visibility:"visible"}),x=x&&!this.hasDragged?"animate":"attr",this.drawMasks(M,J,ae,x),this.drawOutline(M,J,ae,x),this.navigatorOptions.handles.enabled&&(this.drawHandle(M,0,ae,x),this.drawHandle(J,1,ae,x)));this.scrollbar&&(ae?(ae=this.top-y,H=this.left-y+(A||!H.opposite?0:(H.titleOffset||0)+H.axisTitleMargin),y=B+2*y):(ae=this.top+(A?this.height:-y),H=this.left-y),this.scrollbar.position(H,ae,af,y),this.scrollbar.setRange(this.zoomedMin/B,this.zoomedMax/B));this.rendered=!0}},addMouseEvents:function(){var h=this,g=h.chart,l=g.container,n=[],k,m;h.mouseMoveHandler=k=function(c){h.onMouseMove(c)};h.mouseUpHandler=m=function(c){h.onMouseUp(c)};n=h.getPartsEvents("mousedown");n.push(Q(l,"mousemove",k),Q(l.ownerDocument,"mouseup",m));O&&(n.push(Q(l,"touchmove",k),Q(l.ownerDocument,"touchend",m)),n.concat(h.getPartsEvents("touchstart")));h.eventsToUnbind=n;h.series&&h.series[0]&&n.push(Q(h.series[0].xAxis,"foundExtremes",function(){g.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(d){var c=this,e=[];K(["shades","handles"],function(f){K(c[f],function(h,g){e.push(Q(h.element,d,function(k){c[f+"Mousedown"](k,g)}))})});return e},shadesMousedown:function(z,y){z=this.chart.pointer.normalize(z);var t=this.chart,g=this.xAxis,x=this.zoomedMin,A=this.left,r=this.size,v=this.range,l=z.chartX,n,q;t.inverted&&(l=z.chartY,A=this.top);1===y?(this.grabbedCenter=l,this.fixedWidth=v,this.dragOffset=l-x):(z=l-A-v/2,0===y?z=Math.max(0,z):2===y&&z+v>=r&&(z=r-v,g.reversed?(z-=v,q=this.getUnionExtremes().dataMin):n=this.getUnionExtremes().dataMax),z!==x&&(this.fixedWidth=v,y=g.toFixedRange(z,z+v,q,n),u(y.min)&&t.xAxis[0].setExtremes(Math.min(y.min,y.max),Math.max(y.min,y.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(d,c){this.chart.pointer.normalize(d);d=this.chart;var g=d.xAxis[0],f=d.inverted&&!g.reversed||!d.inverted&&g.reversed;0===c?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=f?g.min:g.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=f?g.max:g.min);d.fixedRange=null},onMouseMove:function(k){var h=this,q=h.chart,n=h.left,t=h.navigatorSize,l=h.range,r=h.dragOffset,g=q.inverted;k.touches&&0===k.touches[0].pageX||(k=q.pointer.normalize(k),q=k.chartX,g&&(n=h.top,q=k.chartY),h.grabbedLeft?(h.hasDragged=!0,h.render(0,0,q-n,h.otherHandlePos)):h.grabbedRight?(h.hasDragged=!0,h.render(0,0,h.otherHandlePos,q-n)):h.grabbedCenter&&(h.hasDragged=!0,q<r?q=r:q>t+r-l&&(q=t+r-l),h.render(0,0,q-r,q-r+l)),h.hasDragged&&h.scrollbar&&h.scrollbar.options.liveRedraw&&(k.DOMType=k.type,setTimeout(function(){h.onMouseUp(k)},0)))},onMouseUp:function(k){var h=this.chart,q=this.xAxis,t=q&&q.reversed,n=this.scrollbar,l,r,g=k.DOMEvent||k;(!this.hasDragged||n&&n.hasDragged)&&"scrollbar"!==k.trigger||(n=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?l=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(r=this.fixedExtreme),this.zoomedMax===this.size&&(r=t?n.dataMin:n.dataMax),0===this.zoomedMin&&(l=t?n.dataMax:n.dataMin),q=q.toFixedRange(this.zoomedMin,this.zoomedMax,l,r),u(q.min)&&h.xAxis[0].setExtremes(Math.min(q.min,q.max),Math.max(q.min,q.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:g}));"mousemove"!==k.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(K(this.eventsToUnbind,function(c){c()}),this.eventsToUnbind=void 0);this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var c=this.baseSeries||[];this.navigatorEnabled&&c[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&K(c,function(d){Y(d,"updatedData",this.updatedDataHandler)},this),c[0].xAxis&&Y(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(A){var y=A.options,z=y.navigator,c=z.enabled,q=y.scrollbar,t=q.enabled,y=c?z.height:0,v=t?q.height:0;this.handles=[];this.shades=[];this.chart=A;this.setBaseSeries();this.height=y;this.scrollbarHeight=v;this.scrollbarEnabled=t;this.navigatorEnabled=c;this.navigatorOptions=z;this.scrollbarOptions=q;this.outlineHeight=y+v;this.opposite=ac(z.opposite,!c&&A.inverted);var x=this,q=x.baseSeries,t=A.xAxis.length,r=A.yAxis.length,e=q&&q[0]&&q[0].xAxis||A.xAxis[0]||{options:{}};Q(A,"getMargins",function(){var d=x.opposite?"plotTop":"marginBottom";A.inverted&&(d=x.opposite?"marginRight":"plotLeft");A[d]=(A[d]||0)+(c||!A.inverted?x.outlineHeight:0)+z.margin});A.isDirtyBox=!0;x.navigatorEnabled?(x.xAxis=new w(A,ab({breaks:e.options.breaks,ordinal:e.options.ordinal},z.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:t,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},A.inverted?{offsets:[v,0,-v,0],width:y}:{offsets:[0,-v,0,v],height:y})),x.yAxis=new w(A,ab(z.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:r,zoomEnabled:!1},A.inverted?{width:y}:{height:y})),q||z.series.data?x.updateNavigatorSeries(!1):0===A.series.length&&(x.unbindRedraw=Q(A,"beforeRedraw",function(){0<A.series.length&&!x.series&&(x.setBaseSeries(),x.unbindRedraw())})),x.renderElements(),x.addMouseEvents()):x.xAxis={translate:function(g,l){var n=A.xAxis[0],h=n.getExtremes(),m=n.len-2*v,k=P("min",n.options.min,h.dataMin),n=P("max",n.options.max,h.dataMax)-k;return l?g*n/m+k:m*(g-k)/n},toPixels:function(d){return this.translate(d)},toValue:function(d){return this.translate(d,!0)},toFixedRange:w.prototype.toFixedRange,fake:!0};A.options.scrollbar.enabled&&(A.scrollbar=x.scrollbar=new Z(A.renderer,ab(A.options.scrollbar,{margin:x.navigatorEnabled?0:10,vertical:A.inverted}),A),Q(x.scrollbar,"changed",function(d){var f=x.size,g=f*this.to,f=f*this.from;x.hasDragged=x.scrollbar.hasDragged;x.render(0,0,f,g);(A.options.scrollbar.liveRedraw||"mousemove"!==d.DOMType&&"touchmove"!==d.DOMType)&&setTimeout(function(){x.onMouseUp(d)})}));x.addBaseSeriesEvents();x.addChartEvents()},getUnionExtremes:function(g){var l=this.chart.xAxis[0],n=this.xAxis,h=n.options,m=l.options,k;g&&null===l.dataMin||(k={dataMin:ac(h&&h.min,P("min",m.min,l.dataMin,n.dataMin,n.min)),dataMax:ac(h&&h.max,P("max",m.max,l.dataMax,n.dataMax,n.max))});return k},setBaseSeries:function(f,d){var g=this.chart,h=this.baseSeries=[];f=f||g.options&&g.options.navigator.baseSeries||0;K(g.series||[],function(c,k){c.options.isInternal||!c.options.showInNavigator&&(k!==f&&c.options.id!==f||!1===c.options.showInNavigator)||h.push(c)});this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,d)},updateNavigatorSeries:function(A,x){var d=this,h=d.chart,B=d.baseSeries,t,v,q=d.navigatorOptions.series,f,y={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0},c=d.series=ad.grep(d.series||[],function(g){var k=g.baseSeries;return 0>ad.inArray(k,B)?(k&&(Y(k,"updatedData",d.updatedDataHandler),delete k.navigatorSeries),g.destroy(),!1):!0});B&&B.length&&K(B,function(g){var e=g.navigatorSeries,k=aa({color:g.color,visible:g.visible},W(q)?L.navigator.series:q);e&&!1===d.navigatorOptions.adaptToUpdatedData||(y.name="Navigator "+B.length,t=g.options||{},f=t.navigatorOptions||{},v=ab(t,y,k,f),k=f.data||k.data,d.hasNavigatorData=d.hasNavigatorData||!!k,v.data=k||t.data&&t.data.slice(0),e&&e.options?e.update(v,x):(g.navigatorSeries=h.initSeries(v),g.navigatorSeries.baseSeries=g,c.push(g.navigatorSeries)))});if(q.data&&(!B||!B.length)||W(q)){d.hasNavigatorData=!1,q=ad.splat(q),K(q,function(g,e){y.name="Navigator "+(c.length+1);v=ab(L.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},y,g);v.data=g.data;v.data&&(d.hasNavigatorData=!0,c.push(h.initSeries(v)))})}A&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var d=this,c=d.baseSeries||[];c[0]&&c[0].xAxis&&Q(c[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes);K(c,function(e){Q(e,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)});Q(e,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)});!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&Q(e,"updatedData",this.updatedDataHandler);Q(e,"remove",function(){this.navigatorSeries&&(F(d.series,this.navigatorSeries),u(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},modifyNavigatorAxisExtremes:function(){var d=this.xAxis,c;d.getExtremes&&(!(c=this.getUnionExtremes(!0))||c.dataMin===d.min&&c.dataMax===d.max||(d.min=c.dataMin,d.max=c.dataMax))},modifyBaseAxisExtremes:function(){var D=this.chart.navigator,y=this.getExtremes(),C=y.dataMin,x=y.dataMax,y=y.max-y.min,A=D.stickToMin,q=D.stickToMax,v=ac(this.options.overscroll,0),t,r,k=D.series&&D.series[0],B=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(A&&(r=C,t=r+y),q&&(t=x+v,A||(r=Math.max(t-y,k&&k.xData?k.xData[0]:-Number.MAX_VALUE))),B&&(A||q)&&V(r)&&(this.min=this.userMin=r,this.max=this.userMax=t));D.stickToMin=D.stickToMax=null},updatedDataHandler:function(){var d=this.chart.navigator,c=this.navigatorSeries;d.stickToMax=d.xAxis.reversed?0===Math.round(d.zoomedMin):Math.round(d.zoomedMax)>=Math.round(d.size);d.stickToMin=V(this.xAxis.min)&&this.xAxis.min<=this.xData[0]&&(!this.chart.fixedRange||!d.stickToMax);c&&!d.hasNavigatorData&&(c.options.pointStart=this.xData[0],c.setData(this.options.data,!1,null,!1))},addChartEvents:function(){Q(this.chart,"redraw",function(){var d=this.navigator,c=d&&(d.baseSeries&&d.baseSeries[0]&&d.baseSeries[0].xAxis||d.scrollbar&&this.xAxis[0]);c&&d.render(c.min,c.max)})},destroy:function(){this.removeEvents();this.xAxis&&(F(this.chart.xAxis,this.xAxis),F(this.chart.axes,this.xAxis));this.yAxis&&(F(this.chart.yAxis,this.yAxis),F(this.chart.axes,this.yAxis));K(this.series||[],function(c){c.destroy&&c.destroy()});K("series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" "),function(c){this[c]&&this[c].destroy&&this[c].destroy();this[c]=null},this);K([this.handles],function(c){s(c)},this)}};ad.Navigator=N;o(w.prototype,"zoom",function(x,v,q){var t=this.chart,n=t.options,r=n.chart.zoomType,h=n.chart.pinchType,g=n.navigator,n=n.rangeSelector,l;this.isXAxis&&(g&&g.enabled||n&&n.enabled)&&(!X&&"x"===r||X&&"x"===h?t.resetZoomButton="blocked":"y"===r?l=!1:(!X&&"xy"===r||X&&"xy"===h)&&this.options.range&&(t=this.previousZoom,u(v)?this.previousZoom=[this.min,this.max]:t&&(v=t[0],q=t[1],delete this.previousZoom)));return void 0!==l?l:x.call(this,v,q)});Q(p,"beforeRender",function(){var c=this.options;if(c.navigator.enabled||c.scrollbar.enabled){this.scroller=this.navigator=new N(this)}});Q(p,"afterSetChartSize",function(){var h=this.legend,l=this.navigator,q,k,n,g;l&&(k=h&&h.options,n=l.xAxis,g=l.yAxis,q=l.scrollbarHeight,this.inverted?(l.left=l.opposite?this.chartWidth-q-l.height:this.spacing[3]+q,l.top=this.plotTop+q):(l.left=this.plotLeft+q,l.top=l.navigatorOptions.top||this.chartHeight-l.height-q-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(k&&"bottom"===k.verticalAlign&&k.enabled&&!k.floating?h.legendHeight+ac(k.margin,10):0)),n&&g&&(this.inverted?n.options.left=g.options.left=l.left:n.options.top=g.options.top=l.top,n.setAxisSize(),g.setAxisSize()))});Q(p,"update",function(d){var c=d.options.navigator||{},f=d.options.scrollbar||{};this.navigator||this.scroller||!c.enabled&&!f.enabled||(ab(!0,this.options.navigator,c),ab(!0,this.options.scrollbar,f),delete d.options.navigator,delete d.options.scrollbar)});Q(p,"afterUpdate",function(){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new N(this))});o(T.prototype,"addPoint",function(h,g,l,n,k){var m=this.options.turboThreshold;m&&this.xData.length>m&&S(g,!0)&&this.chart.navigator&&R(20,!0);h.call(this,g,l,n,k)});Q(p,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)});Q(T,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)});p.prototype.callbacks.push(function(d){var c=d.navigator;c&&d.xAxis[0]&&(d=d.xAxis[0].getExtremes(),c.render(d.min,d.max))})})(b);(function(O){function u(c){this.init(c)}var z=O.addEvent,j=O.Axis,e=O.Chart,o=O.css,s=O.createElement,i=O.defaultOptions,f=O.defined,p=O.destroyObjectProperties,m=O.discardElement,B=O.each,M=O.extend,G=O.fireEvent,w=O.isNumber,K=O.merge,J=O.pick,F=O.pInt,L=O.splat,N=O.wrap;M(i,{rangeSelector:{verticalAlign:"top",buttonTheme:{"stroke-width":0,width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}});i.lang=K(i.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});u.prototype={clickButton:function(P,D){var H=this,A=H.chart,C=H.buttonOptions[P],r=A.xAxis[0],q=A.scroller&&A.scroller.getUnionExtremes()||r||{},k=q.dataMin,g=q.dataMax,T,Q=r&&Math.round(Math.min(r.max,J(g,r.max))),V=C.type,U,q=C._range,I,S,R,E=C.dataGrouping;if(null!==k&&null!==g){A.fixedRange=q;E&&(this.forcedDataGrouping=!0,j.prototype.setDataGrouping.call(r||{chart:this.chart},E,!1));if("month"===V||"year"===V){r?(V={range:C,max:Q,chart:A,dataMin:k,dataMax:g},T=r.minFromRange.call(V),w(V.newMax)&&(Q=V.newMax)):q=C}else{if(q){T=Math.max(Q-q,k),Q=Math.min(T+q,g)}else{if("ytd"===V){if(r){void 0===g&&(k=Number.MAX_VALUE,g=Number.MIN_VALUE,B(A.series,function(c){c=c.xData;k=Math.min(c[0],k);g=Math.max(c[c.length-1],g)}),D=!1),Q=H.getYTDExtremes(g,k,A.time.useUTC),T=I=Q.min,Q=Q.max}else{z(A,"beforeRender",function(){H.clickButton(P)});return}}else{"all"===V&&r&&(T=k,Q=g)}}}T+=C._offsetMin;Q+=C._offsetMax;H.setSelected(P);r?r.setExtremes(T,Q,J(D,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:C}):(U=L(A.options.xAxis)[0],R=U.range,U.range=q,S=U.min,U.min=I,z(A,"load",function(){U.range=R;U.min=S}))}},setSelected:function(c){this.selected=this.options.selected=c},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(h){var g=this,n=h.options.rangeSelector,r=n.buttons||[].concat(g.defaultButtons),q=n.selected,l=function(){var c=g.minInput,d=g.maxInput;c&&c.blur&&G(c,"blur");d&&d.blur&&G(d,"blur")};g.chart=h;g.options=n;g.buttons=[];h.extraTopMargin=n.height;g.buttonOptions=r;this.unMouseDown=z(h.container,"mousedown",l);this.unResize=z(h,"resize",l);B(r,g.computeButtonRange);void 0!==q&&r[q]&&this.clickButton(q,!1);z(h,"load",function(){h.xAxis&&h.xAxis[0]&&z(h.xAxis[0],"setExtremes",function(c){this.max-this.min!==h.fixedRange&&"rangeSelectorButton"!==c.trigger&&"updatedData"!==c.trigger&&g.forcedDataGrouping&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var P=this.chart,I=P.xAxis[0],E=Math.round(I.max-I.min),H=!I.hasVisibleSeries,A=P.scroller&&P.scroller.getUnionExtremes()||I,C=A.dataMin,D=A.dataMax,P=this.getYTDExtremes(D,C,P.time.useUTC),y=P.min,v=P.max,Q=this.selected,x=w(Q),r=this.options.allButtonsEnabled,R=this.buttons;B(this.buttonOptions,function(t,n){var h=t._range,d=t.type,g=t.count||1,S=R[n],c=0;t=t._offsetMax-t._offsetMin;n=n===Q;var l=h>D-C,T=h<I.minRange,U=!1,q=!1,h=h===E;("month"===d||"year"===d)&&E+3600000>=86400000*{month:28,year:365}[d]*g-t&&E-3600000<=86400000*{month:31,year:366}[d]*g+t?h=!0:"ytd"===d?(h=v-y+t===E,U=!n):"all"===d&&(h=I.max-I.min>=D-C,q=!n&&x&&h);d=!r&&(l||T||q||H);g=n&&h||h&&!x&&!U;d?c=3:g&&(x=!0,c=2);S.state!==c&&S.setState(c)})},computeButtonRange:function(g){var d=g.type,h=g.count||1,k={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(k[d]){g._range=k[d]*h}else{if("month"===d||"year"===d){g._range=86400000*{month:30,year:365}[d]*h}}g._offsetMin=J(g.offsetMin,0);g._offsetMax=J(g.offsetMax,0);g._range+=g._offsetMax-g._offsetMin},setInputValue:function(h,n){var g=this.chart.options.rangeSelector,l=this.chart.time,k=this[h+"Input"];f(n)&&(k.previousValue=k.HCTime,k.HCTime=n);k.value=l.dateFormat(g.inputEditDateFormat||"%Y-%m-%d",k.HCTime);this[h+"DateBox"].attr({text:l.dateFormat(g.inputDateFormat||"%b %e, %Y",k.HCTime)})},showInput:function(d){var c=this.inputGroup,g=this[d+"DateBox"];o(this[d+"Input"],{left:c.translateX+g.x+"px",top:c.translateY+"px",width:g.width-2+"px",height:g.height-2+"px",border:"2px solid silver"})},hideInput:function(c){o(this[c+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(c)},drawInput:function(C){function A(){var g=E.value,c=(n.inputDateParser||Date.parse)(g),t=y.xAxis[0],q=y.scroller&&y.scroller.xAxis?y.scroller.xAxis:t,l=q.dataMin,q=q.dataMax;c!==E.previousValue&&(E.previousValue=c,w(c)||(c=g.split("-"),c=Date.UTC(F(c[0]),F(c[1])-1,F(c[2]))),w(c)&&(y.time.useUTC||(c+=60000*(new Date).getTimezoneOffset()),h?c>x.maxInput.HCTime?c=void 0:c<l&&(c=l):c<x.minInput.HCTime?c=void 0:c>q&&(c=q),void 0!==c&&t.setExtremes(h?c:t.min,h?t.max:c,void 0,void 0,{trigger:"rangeSelectorInput"})))}var x=this,y=x.chart,r=y.renderer.style||{},v=y.renderer,n=y.options.rangeSelector,d=x.div,h="min"===C,E,D,H=this.inputGroup;this[C+"Label"]=D=v.label(i.lang[h?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(H);H.offset+=D.width+5;this[C+"DateBox"]=v=v.label("",H.offset).addClass("highcharts-range-input").attr({padding:2,width:n.inputBoxWidth||90,height:n.inputBoxHeight||17,stroke:n.inputBoxBorderColor||"#cccccc","stroke-width":1,"text-align":"center"}).on("click",function(){x.showInput(C);x[C+"Input"].focus()}).add(H);H.offset+=v.width+(h?10:0);this[C+"Input"]=E=s("input",{name:C,className:"highcharts-range-selector",type:"text"},{top:y.plotTop+"px"},d);D.css(K(r,n.labelStyle));v.css(K({color:"#333333"},r,n.inputStyle));o(E,M({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:r.fontSize,fontFamily:r.fontFamily,top:"-9999em"},n.inputStyle));E.onfocus=function(){x.showInput(C)};E.onblur=function(){x.hideInput(C)};E.onchange=A;E.onkeypress=function(c){13===c.keyCode&&A()}},getPosition:function(){var d=this.chart,g=d.options.rangeSelector,d="top"===g.verticalAlign?d.plotTop-d.axisOffset[0]:0;return{buttonTop:d+g.buttonPosition.y,inputTop:d+g.inputPosition.y-10}},getYTDExtremes:function(h,q,l){var g=this.chart.time,n=new g.Date(h),k=g.get("FullYear",n);l=l?g.Date.UTC(k,0,1):+new g.Date(k,0,1);q=Math.max(q||0,l);n=n.getTime();return{max:Math.min(h||n,n),min:q}},render:function(av,at){var au=this,ar=au.chart,aq=ar.renderer,ao=ar.container,ap=ar.options,an=ap.exporting&&!1!==ap.exporting.enabled&&ap.navigation&&ap.navigation.buttonOptions,al=i.lang,af=au.div,am=ap.rangeSelector,ap=am.floating,aj=au.buttons,af=au.inputGroup,ah=am.buttonTheme,ak=am.buttonPosition,ad=am.inputPosition,ae=am.inputEnabled,aa=ah&&ah.states,ai=ar.plotLeft,ac,ag=au.buttonGroup,V;V=au.rendered;var D=au.options.verticalAlign,ab=ar.legend,Z=ab&&ab.options,x=ak.y,A=ad.y,k=V||!1,W=0,Y=0,X;if(!1!==am.enabled){V||(au.group=V=aq.g("range-selector-group").attr({zIndex:7}).add(),au.buttonGroup=ag=aq.g("range-selector-buttons").add(V),au.zoomText=aq.text(al.rangeSelectorZoom,J(ai+ak.x,ai),15).css(am.labelStyle).add(ag),ac=J(ai+ak.x,ai)+au.zoomText.getBBox().width+5,B(au.buttonOptions,function(d,g){aj[g]=aq.button(d.text,ac,0,function(){var c=d.events&&d.events.click,h;c&&(h=c.call(d));!1!==h&&au.clickButton(g);au.isActive=!0},ah,aa&&aa.hover,aa&&aa.select,aa&&aa.disabled).attr({"text-align":"center"}).add(ag);ac+=aj[g].width+J(am.buttonSpacing,5)}),!1!==ae&&(au.div=af=s("div",null,{position:"relative",height:0,zIndex:1}),ao.parentNode.insertBefore(af,ao),au.inputGroup=af=aq.g("input-group").add(V),af.offset=0,au.drawInput("min"),au.drawInput("max")));ai=ar.plotLeft-ar.spacing[3];au.updateButtonStates();an&&this.titleCollision(ar)&&"top"===D&&"right"===ak.align&&ak.y+ag.getBBox().height-12<(an.y||0)+an.height&&(W=-40);"left"===ak.align?X=ak.x-ar.spacing[3]:"right"===ak.align&&(X=ak.x+W-ar.spacing[1]);ag.align({y:ak.y,width:ag.getBBox().width,align:ak.align,x:X},!0,ar.spacingBox);au.group.placed=k;au.buttonGroup.placed=k;!1!==ae&&(W=an&&this.titleCollision(ar)&&"top"===D&&"right"===ad.align&&ad.y-af.getBBox().height-12<(an.y||0)+an.height+ar.spacing[0]?-40:0,"left"===ad.align?X=ai:"right"===ad.align&&(X=-Math.max(ar.axisOffset[1],-W)),af.align({y:ad.y,width:af.getBBox().width,align:ad.align,x:ad.x+X-2},!0,ar.spacingBox),ao=af.alignAttr.translateX+af.alignOptions.x-W+af.getBBox().x+2,an=af.alignOptions.width,al=ag.alignAttr.translateX+ag.getBBox().x,X=ag.getBBox().width+20,(ad.align===ak.align||al+X>ao&&ao+an>al&&x<A+af.getBBox().height)&&af.attr({translateX:af.alignAttr.translateX+(ar.axisOffset[1]>=-W?0:-W),translateY:af.alignAttr.translateY+ag.getBBox().height+10}),au.setInputValue("min",av),au.setInputValue("max",at),au.inputGroup.placed=k);au.group.align({verticalAlign:D},!0,ar.spacingBox);av=au.group.getBBox().height+20;at=au.group.alignAttr.translateY;"bottom"===D&&(ab=Z&&"bottom"===Z.verticalAlign&&Z.enabled&&!Z.floating?ab.legendHeight+J(Z.margin,10):0,av=av+ab-20,Y=at-av-(ap?0:am.y)-10);if("top"===D){ap&&(Y=0),ar.titleOffset&&(Y=ar.titleOffset+ar.options.title.margin),Y+=ar.margin[0]-ar.spacing[0]||0}else{if("middle"===D){if(A===x){Y=0>A?at+void 0:at}else{if(A||x){Y=0>A||0>x?Y-Math.min(A,x):at-av+NaN}}}}au.group.translate(am.x,am.y+Math.floor(Y));!1!==ae&&(au.minInput.style.marginTop=au.group.translateY+"px",au.maxInput.style.marginTop=au.group.translateY+"px");au.rendered=!0}},getHeight:function(){var g=this.options,l=this.group,h=g.y,k=g.buttonPosition.y,g=g.inputPosition.y,l=l?l.getBBox(!0).height+13+h:0,h=Math.min(g,k);if(0>g&&0>k||0<g&&0<k){l+=Math.abs(h)}return l},titleCollision:function(c){return !(c.options.title.text||c.options.subtitle.text)},update:function(d){var c=this.chart;K(!0,c.options.rangeSelector,d);this.destroy();this.init(c);c.rangeSelector.render()},destroy:function(){var g=this,k=g.minInput,h=g.maxInput;g.unMouseDown();g.unResize();p(g.buttons);k&&(k.onfocus=k.onblur=k.onchange=null);h&&(h.onfocus=h.onblur=h.onchange=null);O.objectEach(g,function(d,l){d&&"chart"!==l&&(d.destroy?d.destroy():d.nodeType&&m(this[l]));d!==u.prototype[l]&&(g[l]=null)},this)}};j.prototype.toFixedRange=function(k,q,n,l){var g=this.chart&&this.chart.fixedRange;k=J(n,this.translate(k,!0,!this.horiz));q=J(l,this.translate(q,!0,!this.horiz));n=g&&(q-k)/g;0.7<n&&1.3>n&&(l?k=q-g:q=k+g);w(k)&&w(q)||(k=q=void 0);return{min:k,max:q}};j.prototype.minFromRange=function(){var q=this.range,y={month:"Month",year:"FullYear"}[q.type],v,r=this.max,t,k,x=function(g,c){var l=new Date(g),h=l["get"+y]();l["set"+y](h+c);h===l["get"+y]()&&l.setDate(0);return l.getTime()-g};w(q)?(v=r-q,k=q):(v=r+x(r,-q.count),this.chart&&(this.chart.fixedRange=r-v));t=J(this.dataMin,Number.MIN_VALUE);w(v)||(v=t);v<=t&&(v=t,void 0===k&&(k=x(v,q.count)),this.newMax=Math.min(v+k,this.dataMax));w(r)||(v=void 0);return v};z(e,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new u(this))});N(e.prototype,"render",function(h,n,l){var g=this.axes,k=this.rangeSelector;k&&(B(g,function(c){c.updateNames();c.setScale()}),this.getAxisMargins(),k.render(),g=k.options.verticalAlign,k.options.floating||("bottom"===g?this.extraBottomMargin=!0:"middle"!==g&&(this.extraTopMargin=!0)));h.call(this,n,l)});z(e,"update",function(d){var c=d.options;d=this.rangeSelector;this.extraTopMargin=this.extraBottomMargin=!1;this.isDirtyBox=!0;d&&(d.render(),c=c.rangeSelector&&c.rangeSelector.verticalAlign||d.options&&d.options.verticalAlign,d.options.floating||("bottom"===c?this.extraBottomMargin=!0:"middle"!==c&&(this.extraTopMargin=!0)))});N(e.prototype,"redraw",function(h,l,k){var g=this.rangeSelector;g&&!g.options.floating&&(g.render(),g=g.options.verticalAlign,"bottom"===g?this.extraBottomMargin=!0:"middle"!==g&&(this.extraTopMargin=!0));h.call(this,l,k)});z(e,"getMargins",function(){var c=this.rangeSelector;c&&(c=c.getHeight(),this.extraTopMargin&&(this.plotTop+=c),this.extraBottomMargin&&(this.marginBottom+=c))});e.prototype.callbacks.push(function(l){function g(){t=l.xAxis[0].getExtremes();w(t.min)&&r.render(t.min,t.max)}var t,r=l.rangeSelector,n,q;r&&(q=z(l.xAxis[0],"afterSetExtremes",function(c){r.render(c.min,c.max)}),n=z(l,"redraw",g),g());z(l,"destroy",function(){r&&(n(),q())})});O.RangeSelector=u})(b);(function(ad){var N=ad.addEvent,Q=ad.arrayMax,w=ad.arrayMin,p=ad.Axis,G=ad.Chart,M=ad.defined,u=ad.each,s=ad.extend,L=ad.format,F=ad.grep,R=ad.inArray,aa=ad.isNumber,U=ad.isString,O=ad.map,W=ad.merge,V=ad.pick,S=ad.Point,X=ad.Renderer,ab=ad.Series,ac=ad.splat,Y=ad.SVGRenderer,Z=ad.VMLRenderer,T=ad.wrap,j=ab.prototype,o=j.init,i=j.processData,P=S.prototype.tooltipFormatter;ad.StockChart=ad.stockChart=function(A,z,y){var x=U(A)||A.nodeName,v=arguments[x?1:0],k=v.series,r=ad.getOptions(),l,C=V(v.navigator&&v.navigator.enabled,r.navigator.enabled,!0),B=C?{startOnTick:!1,endOnTick:!1}:null,h={marker:{enabled:!1,radius:2}},D={shadow:!1,borderWidth:0};v.xAxis=O(ac(v.xAxis||{}),function(d,c){return W({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},r.xAxis,r.xAxis&&r.xAxis[c],d,{type:"datetime",categories:null},B)});v.yAxis=O(ac(v.yAxis||{}),function(d,c){l=V(d.opposite,!0);return W({labels:{y:-2},opposite:l,showLastLabel:!(!d.categories&&"category"!==d.type),title:{text:null}},r.yAxis,r.yAxis&&r.yAxis[c],d)});v.series=null;v=W({chart:{panning:!0,pinchType:"x"},navigator:{enabled:C},scrollbar:{enabled:V(r.scrollbar.enabled,!0)},rangeSelector:{enabled:V(r.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:V(r.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1},plotOptions:{line:h,spline:h,area:h,areaspline:h,arearange:h,areasplinerange:h,column:D,columnrange:D,candlestick:D,ohlc:D}},v,{isStock:!0});v.series=k;return x?new G(A,v,y):new G(v,z)};T(p.prototype,"autoLabelAlign",function(f){var e=this.chart,h=this.options,e=e._labelPanes=e._labelPanes||{},g=this.options.labels;return this.chart.options.isStock&&"yAxis"===this.coll&&(h=h.top+","+h.height,!e[h]&&g.enabled)?(15===g.x&&(g.x=0),void 0===g.align&&(g.align="right"),e[h]=this,"right"):f.apply(this,[].slice.call(arguments,1))});N(p,"destroy",function(){var d=this.chart,c=this.options&&this.options.top+","+this.options.height;c&&d._labelPanes&&d._labelPanes[c]===this&&delete d._labelPanes[c]});T(p.prototype,"getPlotLinePath",function(am,al,ak,aj,ai,ah){var ae=this,ag=this.isLinked&&!this.series?this.linkedParent.series:this.series,af=ae.chart,A=af.renderer,K=ae.left,H=ae.top,l,r,k,x,d=[],J=[],I,D;if("xAxis"!==ae.coll&&"yAxis"!==ae.coll){return am.apply(this,[].slice.call(arguments,1))}J=function(e){var c="xAxis"===e?"yAxis":"xAxis";e=ae.options[c];return aa(e)?[af[c][e]]:U(e)?[af.get(e)]:O(ag,function(f){return f[c]})}(ae.coll);u(ae.isXAxis?af.yAxis:af.xAxis,function(e){if(M(e.options.id)?-1===e.options.id.indexOf("navigator"):1){var c=e.isXAxis?"yAxis":"xAxis",c=M(e.options[c])?af[c][e.options[c]]:af[c][0];ae===c&&J.push(e)}});I=J.length?[]:[ae.isXAxis?af.yAxis[0]:af.xAxis[0]];u(J,function(c){-1!==R(c,I)||ad.find(I,function(e){return e.pos===c.pos&&e.len&&c.len})||I.push(c)});D=V(ah,ae.translate(al,null,null,aj));aa(D)&&(ae.horiz?u(I,function(e){var c;r=e.pos;x=r+e.len;l=k=Math.round(D+ae.transB);if(l<K||l>K+ae.width){ai?l=k=Math.min(Math.max(K,l),K+ae.width):c=!0}c||d.push("M",l,r,"L",k,x)}):u(I,function(e){var c;l=e.pos;k=l+e.len;r=x=Math.round(H+ae.height-D);if(r<H||r>H+ae.height){ai?r=x=Math.min(Math.max(H,r),ae.top+ae.height):c=!0}c||d.push("M",l,r,"L",k,x)}));return 0<d.length?A.crispPolyLine(d,ak||1):null});Y.prototype.crispPolyLine=function(e,d){var f;for(f=0;f<e.length;f+=6){e[f+1]===e[f+4]&&(e[f+1]=e[f+4]=Math.round(e[f+1])-d%2/2),e[f+2]===e[f+5]&&(e[f+2]=e[f+5]=Math.round(e[f+2])+d%2/2)}return e};X===Z&&(Z.prototype.crispPolyLine=Y.prototype.crispPolyLine);T(p.prototype,"hideCrosshair",function(d,c){d.call(this,c);this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});N(p,"afterDrawCrosshair",function(K){var J,I;if(M(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var H=this.chart,E=this.options.crosshair.label,D=this.horiz;J=this.opposite;I=this.left;var C=this.top,B=this.crossLabel,A=E.format,x="",z="inside"===this.options.tickPosition,y=!1!==this.crosshair.snap,t=0,k=K.e||this.cross&&this.cross.e,ae=K.point;K=D?"center":J?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";B||(B=this.crossLabel=H.renderer.label(null,null,null,E.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:E.align||K,padding:V(E.padding,8),r:V(E.borderRadius,3),zIndex:2}).add(this.labelGroup),B.attr({fill:E.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:E.borderColor||"","stroke-width":E.borderWidth||0}).css(s({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},E.style)));D?(K=y?ae.plotX+I:k.chartX,C+=J?0:this.height):(K=J?this.width+I:0,C=y?ae.plotY+C:k.chartY);A||E.formatter||(this.isDatetimeAxis&&(x="%b %d, %Y"),A="{value"+(x?":"+x:"")+"}");x=y?ae[this.isXAxis?"x":"y"]:this.toValue(D?k.chartX:k.chartY);B.attr({text:A?L(A,{value:x},H.time):E.formatter.call(this,x),x:K,y:C,visibility:x<this.min||x>this.max?"hidden":"visible"});E=B.getBBox();if(D){if(z&&!J||!z&&J){C=B.y-E.height}}else{C=B.y-E.height/2}D?(J=I-E.x,I=I+this.width-E.x):(J="left"===this.labelAlign?I:0,I="right"===this.labelAlign?I+this.width:H.chartWidth);B.translateX<J&&(t=J-B.translateX);B.translateX+E.width>=I&&(t=-(B.translateX+E.width-I));B.attr({x:K+t,y:C,anchorX:D?K:this.opposite?0:H.chartWidth,anchorY:D?this.opposite?H.chartHeight:0:C+E.height/2})}});j.init=function(){o.apply(this,arguments);this.setCompare(this.options.compare)};j.setCompare=function(c){this.modifyValue="value"===c||"percent"===c?function(e,g){var f=this.compareValue;if(void 0!==e&&void 0!==f){return e="value"===c?e-f:e/f*100-(100===this.options.compareBase?0:100),g&&(g.change=e),e}}:null;this.userOptions.compare=c;this.chart.hasRendered&&(this.isDirty=!0)};j.processData=function(){var k,d=-1,r,q,n=!0===this.options.compareStart?0:1,l,m;i.apply(this,arguments);if(this.xAxis&&this.processedYData){for(r=this.processedXData,q=this.processedYData,l=q.length,this.pointArrayMap&&(d=R("close",this.pointArrayMap),-1===d&&(d=R(this.pointValKey||"y",this.pointArrayMap))),k=0;k<l-n;k++){if(m=q[k]&&-1<d?q[k][d]:q[k],aa(m)&&r[k+n]>=this.xAxis.min&&0!==m){this.compareValue=m;break}}}};T(j,"getExtremes",function(d){var c;d.apply(this,[].slice.call(arguments,1));this.modifyValue&&(c=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=w(c),this.dataMax=Q(c))});p.prototype.setCompare=function(d,c){this.isXAxis||(u(this.series,function(e){e.setCompare(d)}),V(c,!0)&&this.chart.redraw())};S.prototype.tooltipFormatter=function(c){c=c.replace("{point.change}",(0<this.change?"+":"")+ad.numberFormat(this.change,V(this.series.tooltipOptions.changeDecimals,2)));return P.apply(this,[c])};T(ab.prototype,"render",function(d){var c;this.chart.is3d&&this.chart.is3d()||this.chart.polar||!this.xAxis||this.xAxis.isRadial||(c=this.yAxis.len-(this.xAxis.axisLine?Math.floor(this.xAxis.axisLine.strokeWidth()/2):0),!this.clipBox&&this.animate?(this.clipBox=W(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=c):this.chart[this.sharedClipKey]?this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:c}):this.clipBox&&(this.clipBox.width=this.xAxis.len,this.clipBox.height=c));d.call(this)});T(G.prototype,"getSelectedPoints",function(d){var c=d.call(this);u(this.series,function(e){e.hasGroupedData&&(c=c.concat(F(e.points||[],function(f){return f.selected})))});return c});N(G,"update",function(c){c=c.options;"scrollbar" in c&&this.navigator&&(W(!0,this.options.scrollbar,c.scrollbar),this.navigator.update({},!1),delete c.scrollbar)})})(b)});