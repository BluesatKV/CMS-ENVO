"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(l){var g=l.hasTouch,j=l.merge,c=l.wrap,k=l.each,m=l.isNumber,f=l.addEvent,e=l.relativeLength,d=l.objectEach,h=l.Axis,i=l.Pointer,b={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:false,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}};j(true,h.prototype.defaultYAxisOptions,b);l.AxisResizer=function(n){this.init(n)};l.AxisResizer.prototype={init:function(n,o){this.axis=n;this.options=n.options.resize;this.render();if(!o){this.addMouseEvents()}},render:function(){var u=this,n=u.axis,q=n.chart,v=u.options,t=v.x,r=v.y,s=Math.min(Math.max(n.top+n.height+r,q.plotTop),q.plotTop+q.plotHeight),p={},o;p={cursor:v.cursor,stroke:v.lineColor,"stroke-width":v.lineWidth,dashstyle:v.lineDashStyle};u.lastPos=s-r;if(!u.controlLine){u.controlLine=q.renderer.path().addClass("highcharts-axis-resizer")}u.controlLine.add(n.axisGroup);o=v.lineWidth;p.d=q.renderer.crispLine(["M",n.left+t,s,"L",n.left+n.width+t,s],o);u.controlLine.attr(p)},addMouseEvents:function(){var t=this,s=t.controlLine.element,p=t.axis.chart.container,q=[],o,r,n;t.mouseMoveHandler=o=function(u){t.onMouseMove(u)};t.mouseUpHandler=r=function(u){t.onMouseUp(u)};t.mouseDownHandler=n=function(u){t.onMouseDown(u)};q.push(f(p,"mousemove",o),f(p.ownerDocument,"mouseup",r),f(s,"mousedown",n));if(g){q.push(f(p,"touchmove",o),f(p.ownerDocument,"touchend",r),f(s,"touchstart",n))}t.eventsToUnbind=q},onMouseMove:function(n){if(!n.touches||n.touches[0].pageX!==0){if(this.grabbed){this.hasDragged=true;this.updateAxes(this.axis.chart.pointer.normalize(n).chartY-this.options.y)}}},onMouseUp:function(n){if(this.hasDragged){this.updateAxes(this.axis.chart.pointer.normalize(n).chartY-this.options.y)}this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},onMouseDown:function(){this.axis.chart.pointer.reset(false,0);this.grabbed=this.axis.chart.activeResizer=true},updateAxes:function(r){var z=this,t=z.axis.chart,s=z.options.controlledAxis,x=s.next.length===0?[l.inArray(z.axis,t.yAxis)+1]:s.next,q=[z.axis].concat(s.prev),n=[],o=false,v=t.plotTop,u=t.plotHeight,y=v+u,w,p=function(C,B,A){return Math.round(Math.min(Math.max(C,B),A))};r=Math.max(Math.min(r,y),v);w=r-z.lastPos;if(w*w<1){return}k([q,x],function(B,A){k(B,function(G,I){var E=m(G)?t.yAxis[G]:((!A&&!I)?G:t.get(G)),H=E&&E.options,F={},J=0,L,K,D,C;if(!H||H.id==="navigator-y-axis"){return}K=E.top;D=Math.round(e(H.minLength,u));C=Math.round(e(H.maxLength,u));if(A){w=r-z.lastPos;L=p(E.len-w,D,C);K=E.top+w;if(K+L>y){J=y-L-K;r+=J;K+=J}if(K<v){K=v;if(K+L>y){L=u}}if(L===D){o=true}n.push({axis:E,options:{top:Math.round(K),height:L}})}else{L=p(r-K,D,C);if(L===C){o=true}r=K+L;n.push({axis:E,options:{height:L}})}F.height=L})});if(!o){k(n,function(A){A.axis.update(A.options,false)});t.redraw(false)}},destroy:function(){var o=this,n=o.axis;delete n.resizer;if(this.eventsToUnbind){k(this.eventsToUnbind,function(p){p()})}o.controlLine.destroy();d(o,function(q,p){o[p]=null})}};h.prototype.keepProps.push("resizer");f(h,"afterRender",function(){var o=this,q=o.resizer,p=o.options.resize,n;if(p){n=p.enabled!==false;if(q){if(n){q.init(o,true)}else{q.destroy()}}else{if(n){o.resizer=new l.AxisResizer(o)}}}});f(h,"destroy",function(n){if(!n.keepEvents&&this.resizer){this.resizer.destroy()}});c(i.prototype,"runPointActions",function(n){if(!this.chart.activeResizer){n.apply(this,Array.prototype.slice.call(arguments,1))}});c(i.prototype,"drag",function(n){if(!this.chart.activeResizer){n.apply(this,Array.prototype.slice.call(arguments,1))}})}(a));return(function(){}())}));