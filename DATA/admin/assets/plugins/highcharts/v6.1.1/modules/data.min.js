(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(b){b.ajax=function(f){var c=b.merge(!0,{url:!1,type:"GET",dataType:"json",success:!1,error:!1,data:!1,headers:{}},f);f={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var e=new XMLHttpRequest;if(!c.url){return !1}e.open(c.type.toUpperCase(),c.url,!0);e.setRequestHeader("Content-Type",f[c.dataType]||f.text);b.objectEach(c.headers,function(i,g){e.setRequestHeader(g,i)});e.onreadystatechange=function(){var i;if(4===e.readyState){if(200===e.status){i=e.responseText;if("json"===c.dataType){try{i=JSON.parse(i)}catch(g){c.error&&c.error(e,g);return}}return c.success&&c.success(i)}c.error&&c.error(e,e.responseText)}};try{c.data=JSON.stringify(c.data)}catch(d){}e.send(c.data||!0)}})(a);(function(f){var i=f.addEvent,e=f.Chart,c=f.win.document,q=f.each,k=f.objectEach,o=f.pick,s=f.inArray,r=f.isNumber,d=f.merge,n=f.splat,j=f.fireEvent,g=f.some,l,b=function(m,h,p){this.init(m,h,p)};f.extend(b.prototype,{init:function(m,h,u){var p=m.decimalPoint,t;h&&(this.chartOptions=h);u&&(this.chart=u);"."!==p&&","!==p&&(p=void 0);this.options=m;this.columns=m.columns||this.rowsToColumns(m.rows)||[];this.firstRowAsNames=o(m.firstRowAsNames,this.firstRowAsNames,!0);this.decimalRegex=p&&new RegExp("^(-?[0-9]+)"+p+"([0-9]+)$");this.rawColumns=[];this.columns.length&&(this.dataFound(),t=!0);t||(t=this.fetchLiveData());t||(t=!!this.parseCSV().length);t||(t=!!this.parseTable().length);t||(t=this.parseGoogleSpreadsheet());!t&&m.afterComplete&&m.afterComplete()},getColumnDistribution:function(){var y=this.chartOptions,x=this.options,v=[],p=function(w){return(f.seriesTypes[w||"line"].prototype.pointArrayMap||[0]).length},t=y&&y.chart&&y.chart.type,u=[],h=[],z=0,x=x&&x.seriesMapping||y&&y.series&&f.map(y.series,function(){return{x:0}})||[],m;q(y&&y.series||[],function(w){u.push(p(w.type||t))});q(x,function(w){v.push(w.x||0)});0===v.length&&v.push(0);q(x,function(w){var C=new l,A=u[z]||p(t),B=f.seriesTypes[((y&&y.series||[])[z]||{}).type||t||"line"].prototype.pointArrayMap||["y"];C.addColumnReader(w.x,"x");k(w,function(E,D){"x"!==D&&C.addColumnReader(E,D)});for(m=0;m<A;m++){C.hasReader(B[m])||C.addColumnReader(void 0,B[m])}h.push(C);z++});x=f.seriesTypes[t||"line"].prototype.pointArrayMap;void 0===x&&(x=["y"]);this.valueCount={global:p(t),xColumns:v,individual:u,seriesBuilders:h,globalPointArrayMap:x}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();!1!==this.parsed()&&this.complete()},parseCSV:function(I){function H(S,R,Q,P){function O(t){G=S[t];h=S[t-1];T=S[t+1]}function N(t){J.length<U+1&&J.push([t]);J[U][J[U].length-1]!==t&&J[U].push(t)}function M(){p>m||m>x?(++m,v=""):(!isNaN(parseFloat(v))&&isFinite(v)?(v=parseFloat(v),N("number")):isNaN(Date.parse(v))?N("string"):(v=v.replace(/\//g,"-"),N("date")),z.length<U+1&&z.push([]),Q||(z[U][R]=v),v="",++U,++m)}var D=0,G="",h="",T="",v="",m=0,U=0;if(S.trim().length&&"#"!==S.trim()[0]){for(;D<S.length;D++){O(D);if("#"===G){M();return}if('"'===G){for(O(++D);D<S.length&&('"'!==G||'"'===h||'"'===T);){if('"'!==G||'"'===G&&'"'!==h){v+=G}O(++D)}}else{P&&P[G]?P[G](G,v)&&M():G===u?M():v+=G}}M()}}function F(m){var h=0,v=0,t=!1;g(m,function(G,Q){var P=!1,O,M,N="";if(13<Q){return !0}for(var D=0;D<G.length;D++){Q=G[D];O=G[D+1];M=G[D-1];if("#"===Q){break}else{if('"'===Q){if(P){if('"'!==M&&'"'!==O){for(;" "===O&&D<G.length;){O=G[++D]}"undefined"!==typeof L[O]&&L[O]++;P=!1}}else{P=!0}}else{"undefined"!==typeof L[Q]?(N=N.trim(),isNaN(Date.parse(N))?!isNaN(N)&&isFinite(N)||L[Q]++:L[Q]++,N=""):N+=Q}}","===Q&&v++;"."===Q&&h++}});t=L[";"]>L[","]?";":",";E.decimalPoint||(E.decimalPoint=h>v?".":",",C.decimalRegex=new RegExp("^(-?[0-9]+)"+E.decimalPoint+"([0-9]+)$"));return t}function B(P,O){var N,M,G=0,t=!1,D=[],m=[],v;if(!O||O>P.length){O=P.length}for(;G<O;G++){if("undefined"!==typeof P[G]&&P[G]&&P[G].length){for(N=P[G].trim().replace(/\//g," ").replace(/\-/g," ").split(" "),M=["","",""],v=0;v<N.length;v++){v<M.length&&(N[v]=parseInt(N[v],10),N[v]&&(m[v]=!m[v]||m[v]<N[v]?N[v]:m[v],"undefined"!==typeof D[v]?D[v]!==N[v]&&(D[v]=!1):D[v]=N[v],31<N[v]?M[v]=100>N[v]?"YY":"YYYY":12<N[v]&&31>=N[v]?(M[v]="dd",t=!0):M[v].length||(M[v]="mm")))}}}if(t){for(v=0;v<D.length;v++){!1!==D[v]?12<m[v]&&"YY"!==M[v]&&"YYYY"!==M[v]&&(M[v]="YY"):12<m[v]&&"mm"===M[v]&&(M[v]="dd")}3===M.length&&"dd"===M[1]&&"dd"===M[2]&&(M[2]="YY");P=M.join("/");return(E.dateFormats||C.dateFormats)[P]?P:(j("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}var C=this,E=I||this.options,y=E.csv,z;I="undefined"!==typeof E.startRow&&E.startRow?E.startRow:0;var A=E.endRow||Number.MAX_VALUE,p="undefined"!==typeof E.startColumn&&E.startColumn?E.startColumn:0,x=E.endColumn||Number.MAX_VALUE,u,w=0,J=[],L={",":0,";":0,"\t":0};z=this.columns=[];y&&E.beforeParse&&(y=E.beforeParse.call(this,y));if(y){y=y.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(E.lineDelimiter||"\n");if(!I||0>I){I=0}if(!A||A>=y.length){A=y.length-1}E.itemDelimiter?u=E.itemDelimiter:(u=null,u=F(y));for(var K=0,w=I;w<=A;w++){"#"===y[w][0]?K++:H(y[w],w-I-K)}E.columnTypes&&0!==E.columnTypes.length||!J.length||!J[0].length||"date"!==J[0][1]||E.dateFormat||(E.dateFormat=B(z[0]));this.dataFound()}return z},parseTable:function(){var p=this.options,h=p.table,w=this.columns,t=p.startRow||0,u=p.endRow||Number.MAX_VALUE,v=p.startColumn||0,m=p.endColumn||Number.MAX_VALUE;h&&("string"===typeof h&&(h=c.getElementById(h)),q(h.getElementsByTagName("tr"),function(y,x){x>=t&&x<=u&&q(y.children,function(z,A){("TD"===z.tagName||"TH"===z.tagName)&&A>=v&&A<=m&&(w[A-v]||(w[A-v]=[]),w[A-v][x-t]=z.innerHTML)})}),this.dataFound());return w},fetchLiveData:function(){function p(x){function y(A,z,B){function C(){u&&h.liveDataURL===A&&(h.liveDataTimeout=setTimeout(p,v))}if(!A||0!==A.indexOf("http")){return A&&w.error&&w.error("Invalid URL"),!1}x&&(clearTimeout(h.liveDataTimeout),h.liveDataURL=A);f.ajax({url:A,dataType:B||"json",success:function(D){h&&h.series&&z(D);C()},error:function(E,D){3>++t&&C();return w.error&&w.error(D,E)}});return !0}y(m.csvURL,function(z){h.update({data:{csv:z}})},"text")||y(m.rowsURL,function(z){h.update({data:{rows:z}})})||y(m.columnsURL,function(z){h.update({data:{columns:z}})})}var h=this.chart,w=this.options,t=0,u=w.enablePolling,v=1000*(w.dataRefreshRate||2),m=d(w);if(!w||!w.csvURL&&!w.rowsURL&&!w.columnsURL){return !1}1000>v&&(v=1000);delete w.csvURL;delete w.rowsURL;delete w.columnsURL;p(!0);return w&&(w.csvURL||w.rowsURL||w.columnsURL)},parseGoogleSpreadsheet:function(){function C(m){var p=["https://spreadsheets.google.com/feeds/cells",x,z,"public/values?alt\x3djson"].join("/");f.ajax({url:p,dataType:"json",success:function(w){m(w);A.enablePolling&&setTimeout(function(){C(m)},A.dataRefreshRate)},error:function(E,w){return A.error&&A.error(w,E)}})}var B=this,A=this.options,x=A.googleSpreadsheetKey,y=this.chart,z=A.googleSpreadsheetWorksheet||1,u=A.startRow||0,D=A.endRow||Number.MAX_VALUE,v=A.startColumn||0,t=A.endColumn||Number.MAX_VALUE,h=1000*(A.dataRefreshRate||2);4000>h&&(h=4000);x&&(delete A.googleSpreadsheetKey,C(function(m){var J=[];m=m.feed.entry;var I,G=(m||[]).length,w=0,H,F,E;if(!m||0===m.length){return !1}for(E=0;E<G;E++){I=m[E],w=Math.max(w,I.gs$cell.col)}for(E=0;E<w;E++){E>=v&&E<=t&&(J[E-v]=[])}for(E=0;E<G;E++){I=m[E],w=I.gs$cell.row-1,H=I.gs$cell.col-1,H>=v&&H<=t&&w>=u&&w<=D&&(F=I.gs$cell||I.content,I=null,F.numericValue?I=0<=F.$t.indexOf("/")||0<=F.$t.indexOf("-")?F.$t:0<F.$t.indexOf("%")?100*parseFloat(F.numericValue):parseFloat(F.numericValue):F.$t&&F.$t.length&&(I=F.$t),J[H-v][w-u]=I)}q(J,function(p){for(E=0;E<p.length;E++){void 0===p[E]&&(p[E]=null)}});y&&y.series?y.update({data:{columns:J}}):(B.columns=J,B.dataFound())}));return !1},trim:function(m,h){"string"===typeof m&&(m=m.replace(/^\s+|\s+$/g,""),h&&/^[0-9\s]+$/.test(m)&&(m=m.replace(/\s/g,"")),this.decimalRegex&&(m=m.replace(this.decimalRegex,"$1.$2")));return m},parseTypes:function(){for(var m=this.columns,h=m.length;h--;){this.parseColumn(m[h],h)}},parseColumn:function(I,H){var G=this.rawColumns,D=this.columns,E=I.length,F,A,B,C,z=this.firstRowAsNames,x=-1!==s(H,this.valueCount.xColumns),w,y=[],J=this.chartOptions,L,K=(this.options.columnTypes||[])[H],J=x&&(J&&J.xAxis&&"category"===n(J.xAxis)[0].type||"string"===K);for(G[H]||(G[H]=[]);E--;){F=y[E]||I[E],B=this.trim(F),C=this.trim(F,!0),A=parseFloat(C),void 0===G[H][E]&&(G[H][E]=B),J||0===E&&z?I[E]=""+B:+C===A?(I[E]=A,31536000000<A&&"float"!==K?I.isDatetime=!0:I.isNumeric=!0,void 0!==I[E+1]&&(L=A>I[E+1])):(B&&B.length&&(w=this.parseDate(F)),x&&r(w)&&"float"!==K?(y[E]=F,I[E]=w,I.isDatetime=!0,void 0!==I[E+1]&&(F=w>I[E+1],F!==L&&void 0!==L&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,E=I.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):I.unsorted=!0),L=F)):(I[E]=""===B?null:B,0!==E&&(I.isDatetime||I.isNumeric)&&(I.mixed=!0)))}x&&I.mixed&&(D[H]=G[H]);if(x&&L&&this.options.sort){for(H=0;H<D.length;H++){D[H].reverse(),z&&D[H].unshift(D[H].pop())}}},dateFormats:{"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(h){return Date.UTC(+h[1],h[2]-1,+h[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(h){return Date.UTC(+h[3],h[2]-1,+h[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(h){return Date.UTC(+h[3],h[1]-1,+h[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(m){var h=+m[3],h=h>(new Date).getFullYear()-2000?h+1900:h+2000;return Date.UTC(h,m[2]-1,+m[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(h){return Date.UTC(+h[3]+2000,h[1]-1,+h[2])}}},parseDate:function(m){var h=this.options.parseDate,v,p,t=this.options.dateFormat||this.dateFormat,u;if(h){v=h(m)}else{if("string"===typeof m){if(t){(h=this.dateFormats[t])||(h=this.dateFormats["YYYY/mm/dd"]),(u=m.match(h.regex))&&(v=h.parser(u))}else{for(p in this.dateFormats){if(h=this.dateFormats[p],u=m.match(h.regex)){this.dateFormat=p;this.alternativeFormat=h.alternative;v=h.parser(u);break}}}u||(u=Date.parse(m),"object"===typeof u&&null!==u&&u.getTime?v=u.getTime()-60000*u.getTimezoneOffset():r(u)&&(v=u-60000*(new Date(u)).getTimezoneOffset()))}}return v},rowsToColumns:function(m){var h,v,p,t,u;if(m){for(u=[],v=m.length,h=0;h<v;h++){for(t=m[h].length,p=0;p<t;p++){u[p]||(u[p]=[]),u[p][h]=m[h][p]}}}return u},parsed:function(){if(this.options.parsed){return this.options.parsed.call(this,this.columns)}},getFreeIndexes:function(m,h){var v,p=[],t=[],u;for(v=0;v<m;v+=1){p.push(!0)}for(m=0;m<h.length;m+=1){for(u=h[m].getReferencedColumnIndexes(),v=0;v<u.length;v+=1){p[u[v]]=!1}}for(v=0;v<p.length;v+=1){p[v]&&t.push(v)}return t},complete:function(){var A=this.columns,z,y=this.options,v,w,x,t,p=[],u;if(y.complete||y.afterComplete){if(this.firstRowAsNames){for(x=0;x<A.length;x++){A[x].name=A[x].shift()}}v=[];w=this.getFreeIndexes(A.length,this.valueCount.seriesBuilders);for(x=0;x<this.valueCount.seriesBuilders.length;x++){u=this.valueCount.seriesBuilders[x],u.populateColumns(w)&&p.push(u)}for(;0<w.length;){u=new l;u.addColumnReader(0,"x");x=s(0,w);-1!==x&&w.splice(x,1);for(x=0;x<this.valueCount.global;x++){u.addColumnReader(void 0,this.valueCount.globalPointArrayMap[x])}u.populateColumns(w)&&p.push(u)}0<p.length&&0<p[0].readers.length&&(u=A[p[0].readers[0].columnIndex],void 0!==u&&(u.isDatetime?z="datetime":u.isNumeric||(z="category")));if("category"===z){for(x=0;x<p.length;x++){for(u=p[x],w=0;w<u.readers.length;w++){"x"===u.readers[w].configName&&(u.readers[w].configName="name")}}}for(x=0;x<p.length;x++){u=p[x];w=[];for(t=0;t<A[0].length;t++){w[t]=u.read(A,t)}v[x]={data:w};u.name&&(v[x].name=u.name);"category"===z&&(v[x].turboThreshold=0)}A={series:v};z&&(A.xAxis={type:z},"category"===z&&(A.xAxis.uniqueNames=!1));y.complete&&y.complete(A);y.afterComplete&&y.afterComplete(A)}},update:function(m,h){var p=this.chart;m&&(m.afterComplete=function(t){t.xAxis&&p.xAxis[0]&&t.xAxis.type===p.xAxis[0].options.type&&delete t.xAxis;p.update(t,h,!0)},d(!0,this.options,m),this.init(this.options))}});f.Data=b;f.data=function(m,h){return new b(m,h)};i(e,"init",function(m){var h=this,t=m.args[0],p=m.args[1];t&&t.data&&!h.hasDataDef&&(h.hasDataDef=!0,h.data=new b(f.extend(t.data,{afterComplete:function(u){var w,v;if(t.hasOwnProperty("series")){if("object"===typeof t.series){for(w=Math.max(t.series.length,u&&u.series?u.series.length:0);w--;){v=t.series[w]||{},t.series[w]=d(v,u&&u.series?u.series[w]:{})}}else{delete t.series}}t=d(u,t);h.init(t,p)}}),t,h),m.preventDefault())});l=function(){this.readers=[];this.pointIsArray=!0};l.prototype.populateColumns=function(m){var h=!0;q(this.readers,function(p){void 0===p.columnIndex&&(p.columnIndex=m.shift())});q(this.readers,function(p){void 0===p.columnIndex&&(h=!1)});return h};l.prototype.read=function(m,h){var u=this.pointIsArray,p=u?[]:{},t;q(this.readers,function(w){var v=m[w.columnIndex][h];u?p.push(v):0<w.configName.indexOf(".")?f.Point.prototype.setNestedProperty(p,v,w.configName):p[w.configName]=v});void 0===this.name&&2<=this.readers.length&&(t=this.getReferencedColumnIndexes(),2<=t.length&&(t.shift(),t.sort(),this.name=m[t.shift()].name));return p};l.prototype.addColumnReader=function(m,h){this.readers.push({columnIndex:m,configName:h});"x"!==h&&"y"!==h&&void 0!==h&&(this.pointIsArray=!1)};l.prototype.getReferencedColumnIndexes=function(){var m,h=[],p;for(m=0;m<this.readers.length;m+=1){p=this.readers[m],void 0!==p.columnIndex&&h.push(p.columnIndex)}return h};l.prototype.hasReader=function(m){var h,p;for(h=0;h<this.readers.length;h+=1){if(p=this.readers[h],p.configName===m){return !0}}}})(a)});