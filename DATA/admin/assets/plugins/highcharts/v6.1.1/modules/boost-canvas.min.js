(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(o){var j=o.win.document,g=function(){},d=o.Color,t=o.Series,l=o.seriesTypes,h=o.each,f=o.extend,r=o.addEvent,b=o.fireEvent,n=o.isNumber,i=o.merge,u=o.pick,p=o.wrap,s;o.initCanvasBoost=function(){o.seriesTypes.heatmap&&o.wrap(o.seriesTypes.heatmap.prototype,"drawPoints",function(){var c=this.getContext();c?(h(this.points,function(e){var k=e.plotY;void 0===k||isNaN(k)||null===e.y||(k=e.shapeArgs,e=e.series.pointAttribs(e),c.fillStyle=e.fill,c.fillRect(k.x,k.y,k.width,k.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, \x3cbr\x3eplease use a modern browser")});o.extend(t.prototype,{getContext:function(){var m=this.chart,k=m.chartWidth,v=m.chartHeight,y=m.seriesGroup||this.group,x=this,w,q=function(A,C,E,z,F,B,D){A.call(this,E,C,z,F,B,D)};m.isChartSeriesBoosting()&&(x=m,y=m.seriesGroup);w=x.ctx;x.canvas||(x.canvas=j.createElement("canvas"),x.renderTarget=m.renderer.image("",0,0,k,v).addClass("highcharts-boost-canvas").add(y),x.ctx=w=x.canvas.getContext("2d"),m.inverted&&h(["moveTo","lineTo","rect","arc"],function(c){p(w,c,q)}),x.boostCopy=function(){x.renderTarget.attr({href:x.canvas.toDataURL("image/png")})},x.boostClear=function(){w.clearRect(0,0,x.canvas.width,x.canvas.height);x===this&&x.renderTarget.attr({href:""})},x.boostClipRect=m.renderer.clipRect(),x.renderTarget.clip(x.boostClipRect));x.canvas.width!==k&&(x.canvas.width=k);x.canvas.height!==v&&(x.canvas.height=v);x.renderTarget.attr({x:0,y:0,width:k,height:v,style:"pointer-events: none",href:""});x.boostClipRect.attr(m.getBoostClipRect(x));return w},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(e,c,k){e.lineTo(c,k)},renderCanvas:function(){var aP=this,aO=aP.options,aL=aP.chart,aD=this.xAxis,aN=this.yAxis,aM=(aL.options.boost||{}).timeRendering||!1,aK,aJ=0,aH=aP.processedXData,aB=aP.processedYData,aj=aO.data,aI=aD.getExtremes(),ay=aI.min,ar=aI.max,aI=aN.getExtremes(),az=aI.min,c=aI.max,ai={},aq,aw=!!aP.sampling,ah,ap=aO.marker&&aO.marker.radius,ag=this.cvsDrawPoint,ao=aO.lineWidth?this.cvsLineTo:!1,af=ap&&1>=ap?this.cvsMarkerSquare:this.cvsMarkerCircle,at=this.cvsStrokeBatch||1000,q=!1!==aO.enableMouseTracking,ae,aI=aO.threshold,aF=aN.getThreshold(aI),ad=n(aI),ac=aF,ax=this.fill,ab=aP.pointArrayMap&&"low,high"===aP.pointArrayMap.join(","),aa=!!aO.stacking,au=aP.cropStart||0,aI=aL.options.loading,x=aP.requireSorting,Z,aA=aO.connectNulls,Y=!aH,an,am,aE,aC,al,aG=aa?aP.data:aH||aj,av=aP.fillOpacity?(new d(aP.color)).setOpacity(u(aO.fillOpacity,0.75)).get():aP.color,W=function(){ax?(aK.fillStyle=av,aK.fill()):(aK.strokeStyle=aP.color,aK.lineWidth=aO.lineWidth,aK.stroke())},I=function(m,e,v,k){0===aJ&&(aK.beginPath(),ao&&(aK.lineJoin="round"));aL.scroller&&"highcharts-navigator-series"===aP.options.className?(e+=aL.scroller.top,v&&(v+=aL.scroller.top)):e+=aL.plotTop;m+=aL.plotLeft;Z?aK.moveTo(m,e):ag?ag(aK,m,e,v,ae):ao?ao(aK,m,e):af&&af.call(aP,aK,m,e,ap,k);aJ+=1;aJ===at&&(W(),aJ=0);ae={clientX:m,plotY:e,yBottom:v}},ak=function(k,e,m){al=k+","+e;q&&!ai[al]&&(ai[al]=!0,aL.inverted&&(k=aD.len-k,e=aN.len-e),ah.push({clientX:k,plotX:k,plotY:e,i:au+m}))};this.renderTarget&&this.renderTarget.attr({href:""});(this.points||this.graph)&&this.destroyGraphics();aP.plotGroup("group","series",aP.visible?"visible":"hidden",aO.zIndex,aL.seriesGroup);aP.markerGroup=aP.group;r(aP,"destroy",function(){aP.markerGroup=null});ah=this.points=[];aK=this.getContext();aP.buildKDTree=g;this.boostClear&&this.boostClear();this.visible&&(99999<aj.length&&(aL.options.loading=i(aI,{labelStyle:{backgroundColor:o.color("#ffffff").setOpacity(0.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),o.clearTimeout(s),aL.showLoading("Drawing..."),aL.options.loading=aI),aM&&console.time("canvas rendering"),o.eachAsync(aG,function(F,E){var D,C,B,A=!1,z=!1,y=!1,G=!1,w="undefined"===typeof aL.index,v=!0;if(!w){Y?(D=F[0],C=F[1],aG[E+1]&&(y=aG[E+1][0]),aG[E-1]&&(G=aG[E-1][0])):(D=F,C=aB[E],aG[E+1]&&(y=aG[E+1]),aG[E-1]&&(G=aG[E-1]));y&&y>=ay&&y<=ar&&(A=!0);G&&G>=ay&&G<=ar&&(z=!0);ab?(Y&&(C=F.slice(1,3)),B=C[0],C=C[1]):aa&&(D=F.x,C=F.stackY,B=C-F.y);F=null===C;x||(v=C>=az&&C<=c);if(!F&&(D>=ay&&D<=ar&&v||A||z)){if(D=Math.round(aD.toPixels(D,!0)),aw){if(void 0===aE||D===aq){ab||(B=C);if(void 0===aC||C>am){am=C,aC=E}if(void 0===aE||B<an){an=B,aE=E}}D!==aq&&(void 0!==aE&&(C=aN.toPixels(am,!0),aF=aN.toPixels(an,!0),I(D,ad?Math.min(C,ac):C,ad?Math.max(aF,ac):aF,E),ak(D,C,aC),aF!==C&&ak(D,aF,aE)),aE=aC=void 0,aq=D)}else{C=Math.round(aN.toPixels(C,!0)),I(D,C,aF,E),ak(D,C,E)}}Z=F&&!aA;0===E%50000&&(aP.boostCopy||aP.chart.boostCopy)&&(aP.boostCopy||aP.chart.boostCopy)()}return !w},function(){var e=aL.loadingDiv,k=aL.loadingShown;W();aP.canvasToSVG();aM&&console.timeEnd("canvas rendering");b(aP,"renderedCanvas");k&&(f(e.style,{transition:"opacity 250ms",opacity:0}),aL.loadingShown=!1,s=setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e);aL.loadingDiv=aL.loadingSpan=null},250));delete aP.buildKDTree;aP.buildKDTree()},aL.renderer.forExport?Number.MAX_VALUE:void 0))}});l.scatter.prototype.cvsMarkerCircle=function(m,k,v,q){m.moveTo(k,v);m.arc(k,v,q,0,2*Math.PI,!1)};l.scatter.prototype.cvsMarkerSquare=function(m,k,v,q){m.rect(k-q,v-q,2*q,2*q)};l.scatter.prototype.fill=!0;l.bubble&&(l.bubble.prototype.cvsMarkerCircle=function(m,k,w,q,v){m.moveTo(k,w);m.arc(k,w,this.radii&&this.radii[v],0,2*Math.PI,!1)},l.bubble.prototype.cvsStrokeBatch=1);f(l.area.prototype,{cvsDrawPoint:function(m,k,w,q,v){v&&k!==v.clientX&&(m.moveTo(v.clientX,v.yBottom),m.lineTo(v.clientX,v.plotY),m.lineTo(k,w),m.lineTo(k,q))},fill:!0,fillOpacity:!0,sampling:!0});f(l.column.prototype,{cvsDrawPoint:function(m,k,v,q){m.rect(k-1,v,1,q-v)},fill:!0,sampling:!0});o.Chart.prototype.callbacks.push(function(c){r(c,"predraw",function(){c.renderTarget&&c.renderTarget.attr({href:""});c.canvas&&c.canvas.getContext("2d").clearRect(0,0,c.canvas.width,c.canvas.height)});r(c,"render",function(){c.boostCopy&&c.boostCopy()})})}})(a)});