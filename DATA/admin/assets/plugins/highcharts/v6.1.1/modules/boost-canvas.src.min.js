"use strict";(function(a){if(typeof module==="object"&&module.exports){module.exports=a}else{a(Highcharts)}}(function(a){(function(p){var h=p.win,n=h.document,r=function(){},c=p.Color,j=p.Series,f=p.seriesTypes,m=p.each,i=p.extend,e=p.addEvent,o=p.fireEvent,q=p.isNumber,k=p.merge,g=p.pick,b=p.wrap,d=50000,l;p.initCanvasBoost=function(){if(p.seriesTypes.heatmap){p.wrap(p.seriesTypes.heatmap.prototype,"drawPoints",function(){var s=this.getContext();if(s){m(this.points,function(t){var u=t.plotY,w,v;if(u!==undefined&&!isNaN(u)&&t.y!==null){w=t.shapeArgs;v=t.series.pointAttribs(t);s.fillStyle=v.fill;s.fillRect(w.x,w.y,w.width,w.height)}});this.canvasToSVG()}else{this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}})}p.extend(j.prototype,{getContext:function(){var w=this.chart,v=w.chartWidth,s=w.chartHeight,x=w.seriesGroup||this.group,y=this,t,u=function(C,A,F,B,z,E,D){C.call(this,F,A,B,z,E,D)};if(w.isChartSeriesBoosting()){y=w;x=w.seriesGroup}t=y.ctx;if(!y.canvas){y.canvas=n.createElement("canvas");y.renderTarget=w.renderer.image("",0,0,v,s).addClass("highcharts-boost-canvas").add(x);y.ctx=t=y.canvas.getContext("2d");if(w.inverted){m(["moveTo","lineTo","rect","arc"],function(z){b(t,z,u)})}y.boostCopy=function(){y.renderTarget.attr({href:y.canvas.toDataURL("image/png")})};y.boostClear=function(){t.clearRect(0,0,y.canvas.width,y.canvas.height);if(y===this){y.renderTarget.attr({href:""})}};y.boostClipRect=w.renderer.clipRect();y.renderTarget.clip(y.boostClipRect)}else{if(!(y instanceof p.Chart)){}}if(y.canvas.width!==v){y.canvas.width=v}if(y.canvas.height!==s){y.canvas.height=s}y.renderTarget.attr({x:0,y:0,width:v,height:s,style:"pointer-events: none",href:""});y.boostClipRect.attr(w.getBoostClipRect(y));return t},canvasToSVG:function(){if(!this.chart.isChartSeriesBoosting()){if(this.boostCopy||this.chart.boostCopy){(this.boostCopy||this.chart.boostCopy)()}}else{if(this.boostClear){this.boostClear()}}},cvsLineTo:function(s,u,t){s.lineTo(u,t)},renderCanvas:function(){var x=this,N=x.options,al=x.chart,M=this.xAxis,z=this.yAxis,ac=al.options.boost||{},Y={timeRendering:ac.timeRendering||false,timeSeriesProcessing:ac.timeSeriesProcessing||false,timeSetup:ac.timeSetup||false},H,am=0,ao=x.processedXData,Z=x.processedYData,T=N.data,y=M.getExtremes(),aj=y.min,J=y.max,V=z.getExtremes(),G=V.min,af=V.max,C={},P,s=!!x.sampling,ab,ae=N.marker&&N.marker.radius,aa=this.cvsDrawPoint,u=N.lineWidth?this.cvsLineTo:false,w=ae&&ae<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,ag=this.cvsStrokeBatch||1000,B=N.enableMouseTracking!==false,v,t=N.threshold,ad=z.getThreshold(t),X=q(t),ak=ad,K=this.fill,R=x.pointArrayMap&&x.pointArrayMap.join(",")==="low,high",O=!!N.stacking,I=x.cropStart||0,W=al.options.loading,aq=x.requireSorting,ap,E=N.connectNulls,an=!ao,ai,A,ah,S,D,L=O?x.data:(ao||T),ar=x.fillOpacity?new c(x.color).setOpacity(g(N.fillOpacity,0.75)).get():x.color,Q=function(){if(K){H.fillStyle=ar;H.fill()}else{H.strokeStyle=x.color;H.lineWidth=N.lineWidth;H.stroke()}},U=function(aw,au,at,av){if(am===0){H.beginPath();if(u){H.lineJoin="round"}}if(al.scroller&&x.options.className==="highcharts-navigator-series"){au+=al.scroller.top;if(at){at+=al.scroller.top}}else{au+=al.plotTop}aw+=al.plotLeft;if(ap){H.moveTo(aw,au)}else{if(aa){aa(H,aw,au,at,v)}else{if(u){u(H,aw,au)}else{if(w){w.call(x,H,aw,au,ae,av)}}}}am=am+1;if(am===ag){Q();am=0}v={clientX:aw,plotY:au,yBottom:at}},F=function(av,at,au){D=av+","+at;if(B&&!C[D]){C[D]=true;if(al.inverted){av=M.len-av;at=z.len-at}ab.push({clientX:av,plotX:av,plotY:at,i:I+au})}};if(this.renderTarget){this.renderTarget.attr({href:""})}if(this.points||this.graph){this.destroyGraphics()}x.plotGroup("group","series",x.visible?"visible":"hidden",N.zIndex,al.seriesGroup);x.markerGroup=x.group;e(x,"destroy",function(){x.markerGroup=null});ab=this.points=[];H=this.getContext();x.buildKDTree=r;if(this.boostClear){this.boostClear()}if(!this.visible){return}if(T.length>99999){al.options.loading=k(W,{labelStyle:{backgroundColor:p.color("#ffffff").setOpacity(0.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}});p.clearTimeout(l);al.showLoading("Drawing...");al.options.loading=W}if(Y.timeRendering){console.time("canvas rendering")}p.eachAsync(L,function(aB,ay){var aE,aD,au,aG,at,aC,az=false,av=false,aA=false,aF=false,ax=typeof al.index==="undefined",aw=true;if(!ax){if(an){aE=aB[0];aD=aB[1];if(L[ay+1]){aA=L[ay+1][0]}if(L[ay-1]){aF=L[ay-1][0]}}else{aE=aB;aD=Z[ay];if(L[ay+1]){aA=L[ay+1]}if(L[ay-1]){aF=L[ay-1]}}if(aA&&aA>=aj&&aA<=J){az=true}if(aF&&aF>=aj&&aF<=J){av=true}if(R){if(an){aD=aB.slice(1,3)}aC=aD[0];aD=aD[1]}else{if(O){aE=aB.x;aD=aB.stackY;aC=aD-aB.y}}at=aD===null;if(!aq){aw=aD>=G&&aD<=af}if(!at&&((aE>=aj&&aE<=J&&aw)||(az||av))){au=Math.round(M.toPixels(aE,true));if(s){if(ah===undefined||au===P){if(!R){aC=aD}if(S===undefined||aD>A){A=aD;S=ay}if(ah===undefined||aC<ai){ai=aC;ah=ay}}if(au!==P){if(ah!==undefined){aG=z.toPixels(A,true);ad=z.toPixels(ai,true);U(au,X?Math.min(aG,ak):aG,X?Math.max(ad,ak):ad,ay);F(au,aG,S);if(ad!==aG){F(au,ad,ah)}}ah=S=undefined;P=au}}else{aG=Math.round(z.toPixels(aD,true));U(au,aG,ad,ay);F(au,aG,ay)}}ap=at&&!E;if(ay%d===0){if(x.boostCopy||x.chart.boostCopy){(x.boostCopy||x.chart.boostCopy)()}}}return !ax},function(){var au=al.loadingDiv,at=al.loadingShown;Q();x.canvasToSVG();if(Y.timeRendering){console.timeEnd("canvas rendering")}o(x,"renderedCanvas");if(at){i(au.style,{transition:"opacity 250ms",opacity:0});al.loadingShown=false;l=setTimeout(function(){if(au.parentNode){au.parentNode.removeChild(au)}al.loadingDiv=al.loadingSpan=null},250)}delete x.buildKDTree;x.buildKDTree()},al.renderer.forExport?Number.MAX_VALUE:undefined)}});f.scatter.prototype.cvsMarkerCircle=function(s,v,t,u){s.moveTo(v,t);s.arc(v,t,u,0,2*Math.PI,false)};f.scatter.prototype.cvsMarkerSquare=function(s,v,t,u){s.rect(v-u,t-u,u*2,u*2)};f.scatter.prototype.fill=true;if(f.bubble){f.bubble.prototype.cvsMarkerCircle=function(s,w,t,v,u){s.moveTo(w,t);s.arc(w,t,this.radii&&this.radii[u],0,2*Math.PI,false)};f.bubble.prototype.cvsStrokeBatch=1}i(f.area.prototype,{cvsDrawPoint:function(t,v,u,s,w){if(w&&v!==w.clientX){t.moveTo(w.clientX,w.yBottom);t.lineTo(w.clientX,w.plotY);t.lineTo(v,u);t.lineTo(v,s)}},fill:true,fillOpacity:true,sampling:true});i(f.column.prototype,{cvsDrawPoint:function(t,v,u,s){t.rect(v-1,u,1,s-u)},fill:true,sampling:true});p.Chart.prototype.callbacks.push(function(u){function t(){if(u.boostCopy){u.boostCopy()}}function s(){if(u.renderTarget){u.renderTarget.attr({href:""})}if(u.canvas){u.canvas.getContext("2d").clearRect(0,0,u.canvas.width,u.canvas.height)}}e(u,"predraw",s);e(u,"render",t)})}}(a));return(function(){}())}));