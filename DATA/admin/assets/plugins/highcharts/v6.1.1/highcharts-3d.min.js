(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(c){var d=c.deg2rad,e=c.pick;c.perspective3D=function(g,h,f){h=0<f&&f<Number.POSITIVE_INFINITY?f/(g.z+h.z+f):1;return{x:g.x*h,y:g.y*h}};c.perspective=function(b,g,t){var r=g.options.chart.options3d,i=t?g.inverted:!1,k={x:g.plotWidth/2,y:g.plotHeight/2,z:r.depth/2,vd:e(r.depth,1)*e(r.viewDistance,0)},u=g.scale3d||1,z=d*r.beta*(i?-1:1),r=d*r.alpha*(i?-1:1),j=Math.cos(r),s=Math.cos(-z),q=Math.sin(r),o=Math.sin(-z);t||(k.x+=g.plotLeft,k.y+=g.plotTop);return c.map(b,function(f){var h;h=(i?f.y:f.x)-k.x;var l=(i?f.x:f.y)-k.y;f=(f.z||0)-k.z;h={x:s*h-o*f,y:-q*o*h+j*l-s*q*f,z:j*o*h+q*l+j*s*f};l=c.perspective3D(h,k,k.vd);l.x=l.x*u+k.x;l.y=l.y*u+k.y;l.z=h.z*u+k.z;return{x:i?l.y:l.x,y:i?l.x:l.y,z:l.z}})};c.pointCameraDistance=function(f,i){var g=i.options.chart.options3d,h=i.plotWidth/2;i=i.plotHeight/2;g=e(g.depth,1)*e(g.viewDistance,0)+g.depth;return Math.sqrt(Math.pow(h-f.plotX,2)+Math.pow(i-f.plotY,2)+Math.pow(g-f.plotZ,2))};c.shapeArea=function(f){var i=0,g,h;for(g=0;g<f.length;g++){h=(g+1)%f.length,i+=f[g].x*f[h].y-f[h].x*f[g].y}return i/2};c.shapeArea3d=function(f,g,b){return c.shapeArea(c.perspective(f,g,b))}})(a);(function(O){function A(u,q,p,t,n,f,l,m){var h=[],v=f-n;return f>n&&f-n>Math.PI/2+0.0001?(h=h.concat(A(u,q,p,t,n,n+Math.PI/2,l,m)),h=h.concat(A(u,q,p,t,n+Math.PI/2,f,l,m))):f<n&&n-f>Math.PI/2+0.0001?(h=h.concat(A(u,q,p,t,n,n-Math.PI/2,l,m)),h=h.concat(A(u,q,p,t,n-Math.PI/2,f,l,m))):["C",u+p*Math.cos(n)-p*B*v*Math.sin(n)+l,q+t*Math.sin(n)+t*B*v*Math.cos(n)+m,u+p*Math.cos(f)+p*B*v*Math.sin(f)+l,q+t*Math.sin(f)-t*B*v*Math.cos(f)+m,u+p*Math.cos(f)+l,q+t*Math.sin(f)+m]}var i=Math.cos,D=Math.PI,E=Math.sin,o=O.animObject,j=O.charts,F=O.color,I=O.defined,r=O.deg2rad,s=O.each,G=O.extend,P=O.inArray,L=O.map,K=O.merge,H=O.perspective,J=O.pick,M=O.SVGElement,N=O.SVGRenderer,C=O.wrap,B=4*(Math.sqrt(2)-1)/3/(D/2);N.prototype.toLinePath=function(b,f){var e=[];s(b,function(c){e.push("L",c.x,c.y)});b.length&&(e[0]="M",f&&e.push("Z"));return e};N.prototype.toLineSegments=function(b){var f=[],e=!0;s(b,function(c){f.push(e?"M":"L",c.x,c.y);e=!e});return f};N.prototype.face3d=function(b){var f=this,e=this.createElement("path");e.vertexes=[];e.insidePlotArea=!1;e.enabled=!0;C(e,"attr",function(c,h){if("object"===typeof h&&(I(h.enabled)||I(h.vertexes)||I(h.insidePlotArea))){this.enabled=J(h.enabled,this.enabled);this.vertexes=J(h.vertexes,this.vertexes);this.insidePlotArea=J(h.insidePlotArea,this.insidePlotArea);delete h.enabled;delete h.vertexes;delete h.insidePlotArea;var k=H(this.vertexes,j[f.chartIndex],this.insidePlotArea),g=f.toLinePath(k,!0),k=O.shapeArea(k),k=this.enabled&&0<k?"visible":"hidden";h.d=g;h.visibility=k}return c.apply(this,[].slice.call(arguments,1))});C(e,"animate",function(c,h){if("object"===typeof h&&(I(h.enabled)||I(h.vertexes)||I(h.insidePlotArea))){this.enabled=J(h.enabled,this.enabled);this.vertexes=J(h.vertexes,this.vertexes);this.insidePlotArea=J(h.insidePlotArea,this.insidePlotArea);delete h.enabled;delete h.vertexes;delete h.insidePlotArea;var k=H(this.vertexes,j[f.chartIndex],this.insidePlotArea),g=f.toLinePath(k,!0),k=O.shapeArea(k),k=this.enabled&&0<k?"visible":"hidden";h.d=g;this.attr("visibility",k)}return c.apply(this,[].slice.call(arguments,1))});return e.attr(b)};N.prototype.polyhedron=function(f){var g=this,h=this.g(),e=h.destroy;h.attr({"stroke-linejoin":"round"});h.faces=[];h.destroy=function(){for(var b=0;b<h.faces.length;b++){h.faces[b].destroy()}return e.call(this)};C(h,"attr",function(d,c,m,n,l){if("object"===typeof c&&I(c.faces)){for(;h.faces.length>c.faces.length;){h.faces.pop().destroy()}for(;h.faces.length<c.faces.length;){h.faces.push(g.face3d().add(h))}for(var k=0;k<c.faces.length;k++){h.faces[k].attr(c.faces[k],null,n,l)}delete c.faces}return d.apply(this,[].slice.call(arguments,1))});C(h,"animate",function(d,c,l,m){if(c&&c.faces){for(;h.faces.length>c.faces.length;){h.faces.pop().destroy()}for(;h.faces.length<c.faces.length;){h.faces.push(g.face3d().add(h))}for(var k=0;k<c.faces.length;k++){h.faces[k].animate(c.faces[k],l,m)}delete c.faces}return d.apply(this,[].slice.call(arguments,1))});return h.attr(f)};N.prototype.cuboid=function(e){var f=this.g(),d=f.destroy;e=this.cuboidPath(e);f.attr({"stroke-linejoin":"round"});f.front=this.path(e[0]).attr({"class":"highcharts-3d-front"}).add(f);f.top=this.path(e[1]).attr({"class":"highcharts-3d-top"}).add(f);f.side=this.path(e[2]).attr({"class":"highcharts-3d-side"}).add(f);f.fillSetter=function(b){this.front.attr({fill:b});this.top.attr({fill:F(b).brighten(0.1).get()});this.side.attr({fill:F(b).brighten(-0.1).get()});this.color=b;f.fill=b;return this};f.opacitySetter=function(b){this.front.attr({opacity:b});this.top.attr({opacity:b});this.side.attr({opacity:b});return this};f.attr=function(h,m,g,k){if("string"===typeof h&&"undefined"!==typeof m){var l=h;h={};h[l]=m}if(h.shapeArgs||I(h.x)){h=this.renderer.cuboidPath(h.shapeArgs||h),this.front.attr({d:h[0]}),this.top.attr({d:h[1]}),this.side.attr({d:h[2]})}else{return M.prototype.attr.call(this,h,void 0,g,k)}return this};f.animate=function(h,k,g){I(h.x)&&I(h.y)?(h=this.renderer.cuboidPath(h),this.front.animate({d:h[0]},k,g),this.top.animate({d:h[1]},k,g),this.side.animate({d:h[2]},k,g),this.attr({zIndex:-h[3]})):h.opacity?(this.front.animate(h,k,g),this.top.animate(h,k,g),this.side.animate(h,k,g)):M.prototype.animate.call(this,h,k,g);return this};f.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return d.call(this)};f.attr({zIndex:-e[3]});return f};O.SVGRenderer.prototype.cuboidPath=function(T){function S(c){return y[c]}var R=T.x,z=T.y,b=T.z,V=T.height,x=T.width,Q=T.depth,e=j[this.chartIndex],U,w,u=e.options.chart.options3d.alpha,k=0,y=[{x:R,y:z,z:b},{x:R+x,y:z,z:b},{x:R+x,y:z+V,z:b},{x:R,y:z+V,z:b},{x:R,y:z+V,z:b+Q},{x:R+x,y:z+V,z:b+Q},{x:R+x,y:z,z:b+Q},{x:R,y:z,z:b+Q}],y=H(y,e,T.insidePlotArea);w=function(c,h){var f=[[],-1];c=L(c,S);h=L(h,S);0>O.shapeArea(c)?f=[c,0]:0>O.shapeArea(h)&&(f=[h,1]);return f};U=w([3,2,1,0],[7,6,5,4]);T=U[0];x=U[1];U=w([1,6,7,0],[4,5,2,3]);V=U[0];Q=U[1];U=w([1,2,5,6],[0,7,4,3]);w=U[0];U=U[1];1===U?k+=10000*(1000-R):U||(k+=10000*R);k+=10*(!Q||0<=u&&180>=u||360>u&&357.5<u?e.plotHeight-z:10+z);1===x?k+=100*b:x||(k+=100*(1000-b));k=-Math.round(k);return[this.toLinePath(T,!0),this.toLinePath(V,!0),this.toLinePath(w,!0),k]};O.SVGRenderer.prototype.arc3d=function(l){function d(p){var n=!1,k={};p=K(p);for(var m in p){-1!==P(m,g)&&(k[m]=p[m],delete p[m],n=!0)}return n?k:!1}var h=this.g(),f=h.renderer,g="x y r innerR start end".split(" ");l=K(l);l.alpha*=r;l.beta*=r;h.top=f.path();h.side1=f.path();h.side2=f.path();h.inn=f.path();h.out=f.path();h.onAdd=function(){var b=h.parentGroup,e=h.attr("class");h.top.add(h);s(["out","inn","side1","side2"],function(c){h[c].attr({"class":e+" highcharts-3d-side"}).add(b)})};s(["addClass","removeClass"],function(b){h[b]=function(){var e=arguments;s(["top","out","inn","side1","side2"],function(c){h[c][b].apply(h[c],e)})}});h.setPaths=function(b){var k=h.renderer.arc3dPath(b),e=100*k.zTop;h.attribs=b;h.top.attr({d:k.top,zIndex:k.zTop});h.inn.attr({d:k.inn,zIndex:k.zInn});h.out.attr({d:k.out,zIndex:k.zOut});h.side1.attr({d:k.side1,zIndex:k.zSide1});h.side2.attr({d:k.side2,zIndex:k.zSide2});h.zIndex=e;h.attr({zIndex:e});b.center&&(h.top.setRadialReference(b.center),delete b.center)};h.setPaths(l);h.fillSetter=function(b){var e=F(b).brighten(-0.1).get();this.fill=b;this.side1.attr({fill:e});this.side2.attr({fill:e});this.inn.attr({fill:e});this.out.attr({fill:e});this.top.attr({fill:b});return this};s(["opacity","translateX","translateY","visibility"],function(b){h[b+"Setter"]=function(e,k){h[k]=e;s(["out","inn","side1","side2","top"],function(c){h[c].attr(k,e)})}});C(h,"attr",function(b,k){var e;"object"===typeof k&&(e=d(k))&&(G(h.attribs,e),h.setPaths(h.attribs));return b.apply(this,[].slice.call(arguments,1))});C(h,"animate",function(e,u,q,m){var n,b=this.attribs,p;delete u.center;delete u.z;delete u.depth;delete u.alpha;delete u.beta;p=o(J(q,this.renderer.globalAnimation));p.duration&&(n=d(u),u.dummy=h.dummy++,n&&(p.step=function(k,v){function t(c){return b[c]+(J(n[c],b[c])-b[c])*v.pos}"dummy"===v.prop&&v.elem.setPaths(K(b,{x:t("x"),y:t("y"),r:t("r"),innerR:t("innerR"),start:t("start"),end:t("end")}))}),q=p);return e.call(this,u,q,m)});h.dummy=0;h.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();M.prototype.destroy.call(this)};h.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};h.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return h};N.prototype.arc3dPath=function(ag){function ae(b){b%=2*Math.PI;b>Math.PI&&(b=2*Math.PI-b);return b}var ad=ag.x,ac=ag.y,af=ag.start,aa=ag.end-0.00001,Y=ag.r,R=ag.innerR,X=ag.depth,ab=ag.alpha,T=ag.beta,U=Math.cos(af),z=Math.sin(af);ag=Math.cos(aa);var W=Math.sin(aa),Z=Y*Math.cos(T),Y=Y*Math.cos(ab),n=R*Math.cos(T),p=R*Math.cos(ab),R=X*Math.sin(T),u=X*Math.sin(ab),X=["M",ad+Z*U,ac+Y*z],X=X.concat(A(ad,ac,Z,Y,af,aa,0,0)),X=X.concat(["L",ad+n*ag,ac+p*W]),X=X.concat(A(ad,ac,n,p,aa,af,0,0)),X=X.concat(["Z"]),V=0<T?Math.PI/2:0,T=0<ab?0:Math.PI/2,V=af>-V?af:aa>-V?-V:af,S=aa<D-T?aa:af<D-T?D-T:aa,Q=2*D-T,ab=["M",ad+Z*i(V),ac+Y*E(V)],ab=ab.concat(A(ad,ac,Z,Y,V,S,0,0));aa>Q&&af<Q?(ab=ab.concat(["L",ad+Z*i(S)+R,ac+Y*E(S)+u]),ab=ab.concat(A(ad,ac,Z,Y,S,Q,R,u)),ab=ab.concat(["L",ad+Z*i(Q),ac+Y*E(Q)]),ab=ab.concat(A(ad,ac,Z,Y,Q,aa,0,0)),ab=ab.concat(["L",ad+Z*i(aa)+R,ac+Y*E(aa)+u]),ab=ab.concat(A(ad,ac,Z,Y,aa,Q,R,u)),ab=ab.concat(["L",ad+Z*i(Q),ac+Y*E(Q)]),ab=ab.concat(A(ad,ac,Z,Y,Q,S,0,0))):aa>D-T&&af<D-T&&(ab=ab.concat(["L",ad+Z*Math.cos(S)+R,ac+Y*Math.sin(S)+u]),ab=ab.concat(A(ad,ac,Z,Y,S,aa,R,u)),ab=ab.concat(["L",ad+Z*Math.cos(aa),ac+Y*Math.sin(aa)]),ab=ab.concat(A(ad,ac,Z,Y,aa,S,0,0)));ab=ab.concat(["L",ad+Z*Math.cos(S)+R,ac+Y*Math.sin(S)+u]);ab=ab.concat(A(ad,ac,Z,Y,S,V,R,u));ab=ab.concat(["Z"]);T=["M",ad+n*U,ac+p*z];T=T.concat(A(ad,ac,n,p,af,aa,0,0));T=T.concat(["L",ad+n*Math.cos(aa)+R,ac+p*Math.sin(aa)+u]);T=T.concat(A(ad,ac,n,p,aa,af,R,u));T=T.concat(["Z"]);U=["M",ad+Z*U,ac+Y*z,"L",ad+Z*U+R,ac+Y*z+u,"L",ad+n*U+R,ac+p*z+u,"L",ad+n*U,ac+p*z,"Z"];ad=["M",ad+Z*ag,ac+Y*W,"L",ad+Z*ag+R,ac+Y*W+u,"L",ad+n*ag+R,ac+p*W+u,"L",ad+n*ag,ac+p*W,"Z"];W=Math.atan2(u,-R);ac=Math.abs(aa+W);ag=Math.abs(af+W);af=Math.abs((af+aa)/2+W);ac=ae(ac);ag=ae(ag);af=ae(af);af*=100000;aa=100000*ag;ac*=100000;return{top:X,zTop:100000*Math.PI+1,out:ab,zOut:Math.max(af,aa,ac),inn:T,zInn:Math.max(af,aa,ac),side1:U,zSide1:0.99*ac,side2:ad,zSide2:0.99*aa}}})(a);(function(j){function o(B,s){var C=B.plotLeft,y=B.plotWidth+C,x=B.plotTop,u=B.plotHeight+x,w=C+B.plotWidth/2,z=x+B.plotHeight/2,A=Number.MAX_VALUE,n=-Number.MAX_VALUE,E=Number.MAX_VALUE,h=-Number.MAX_VALUE,D,p=1;D=[{x:C,y:x,z:0},{x:C,y:x,z:s}];d([0,1],function(b){D.push({x:y,y:D[b].y,z:D[b].z})});d([0,1,2,3],function(b){D.push({x:D[b].x,y:u,z:D[b].z})});D=i(D,B,!1);d(D,function(b){A=Math.min(A,b.x);n=Math.max(n,b.x);E=Math.min(E,b.y);h=Math.max(h,b.y)});C>A&&(p=Math.min(p,1-Math.abs((C+w)/(A+w))%1));y<n&&(p=Math.min(p,(y-w)/(n-w)));x>E&&(p=0>E?Math.min(p,(x+z)/(-E+x+z)):Math.min(p,1-(x+z)/(E+z)%1));u<h&&(p=Math.min(p,Math.abs((u-z)/(h-z))));return p}var g=j.addEvent,c=j.Chart,d=j.each,k=j.merge,i=j.perspective,e=j.pick,f=j.wrap;c.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};c.prototype.propsRequireDirtyBox.push("chart.options3d");c.prototype.propsRequireUpdateSeries.push("chart.options3d");g(c,"afterInit",function(){var h=this.options;this.is3d()&&d(h.series,function(b){"scatter"===(b.type||h.chart.type||h.chart.defaultSeriesType)&&(b.type="scatter3d")})});g(c,"addSeries",function(h){this.is3d()&&"scatter"===h.options.type&&(h.options.type="scatter3d")});j.wrap(j.Chart.prototype,"isInsidePlot",function(h){return this.is3d()||h.apply(this,[].slice.call(arguments,1))});var l=j.getOptions();k(!0,l,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:"default",frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}});f(c.prototype,"setClassName",function(h){h.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});g(j.Chart,"afterSetChartSize",function(){var h=this.options.chart.options3d;if(this.is3d()){var n=this.inverted,m=this.clipBox,p=this.margin;m[n?"y":"x"]=-(p[3]||0);m[n?"x":"y"]=-(p[0]||0);m[n?"height":"width"]=this.chartWidth+(p[3]||0)+(p[1]||0);m[n?"width":"height"]=this.chartHeight+(p[0]||0)+(p[2]||0);this.scale3d=1;!0===h.fitToPlot&&(this.scale3d=o(this,h.depth));this.frame3d=this.get3dFrame()}});g(c,"beforeRedraw",function(){this.is3d()&&(this.isDirtyBox=!0)});g(c,"beforeRender",function(){this.is3d()&&(this.frame3d=this.get3dFrame())});f(c.prototype,"renderSeries",function(h){var m=this.series.length;if(this.is3d()){for(;m--;){h=this.series[m],h.translate(),h.render()}}else{h.call(this)}});g(c,"afterDrawChartBox",function(){if(this.is3d()){var u=this.renderer,v=this.options.chart.options3d,D=this.get3dFrame(),A=this.plotLeft,z=this.plotLeft+this.plotWidth,w=this.plotTop,y=this.plotTop+this.plotHeight,v=v.depth,B=A-(D.left.visible?D.left.size:0),C=z+(D.right.visible?D.right.size:0),p=w-(D.top.visible?D.top.size:0),E=y+(D.bottom.visible?D.bottom.size:0),b=0-(D.front.visible?D.front.size:0),x=v+(D.back.visible?D.back.size:0),s=this.hasRendered?"animate":"attr";this.frame3d=D;this.frameShapes||(this.frameShapes={bottom:u.polyhedron().add(),top:u.polyhedron().add(),left:u.polyhedron().add(),right:u.polyhedron().add(),back:u.polyhedron().add(),front:u.polyhedron().add()});this.frameShapes.bottom[s]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:D.bottom.frontFacing?-1000:1000,faces:[{fill:j.color(D.bottom.color).brighten(0.1).get(),vertexes:[{x:B,y:E,z:b},{x:C,y:E,z:b},{x:C,y:E,z:x},{x:B,y:E,z:x}],enabled:D.bottom.visible},{fill:j.color(D.bottom.color).brighten(0.1).get(),vertexes:[{x:A,y:y,z:v},{x:z,y:y,z:v},{x:z,y:y,z:0},{x:A,y:y,z:0}],enabled:D.bottom.visible},{fill:j.color(D.bottom.color).brighten(-0.1).get(),vertexes:[{x:B,y:E,z:b},{x:B,y:E,z:x},{x:A,y:y,z:v},{x:A,y:y,z:0}],enabled:D.bottom.visible&&!D.left.visible},{fill:j.color(D.bottom.color).brighten(-0.1).get(),vertexes:[{x:C,y:E,z:x},{x:C,y:E,z:b},{x:z,y:y,z:0},{x:z,y:y,z:v}],enabled:D.bottom.visible&&!D.right.visible},{fill:j.color(D.bottom.color).get(),vertexes:[{x:C,y:E,z:b},{x:B,y:E,z:b},{x:A,y:y,z:0},{x:z,y:y,z:0}],enabled:D.bottom.visible&&!D.front.visible},{fill:j.color(D.bottom.color).get(),vertexes:[{x:B,y:E,z:x},{x:C,y:E,z:x},{x:z,y:y,z:v},{x:A,y:y,z:v}],enabled:D.bottom.visible&&!D.back.visible}]});this.frameShapes.top[s]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:D.top.frontFacing?-1000:1000,faces:[{fill:j.color(D.top.color).brighten(0.1).get(),vertexes:[{x:B,y:p,z:x},{x:C,y:p,z:x},{x:C,y:p,z:b},{x:B,y:p,z:b}],enabled:D.top.visible},{fill:j.color(D.top.color).brighten(0.1).get(),vertexes:[{x:A,y:w,z:0},{x:z,y:w,z:0},{x:z,y:w,z:v},{x:A,y:w,z:v}],enabled:D.top.visible},{fill:j.color(D.top.color).brighten(-0.1).get(),vertexes:[{x:B,y:p,z:x},{x:B,y:p,z:b},{x:A,y:w,z:0},{x:A,y:w,z:v}],enabled:D.top.visible&&!D.left.visible},{fill:j.color(D.top.color).brighten(-0.1).get(),vertexes:[{x:C,y:p,z:b},{x:C,y:p,z:x},{x:z,y:w,z:v},{x:z,y:w,z:0}],enabled:D.top.visible&&!D.right.visible},{fill:j.color(D.top.color).get(),vertexes:[{x:B,y:p,z:b},{x:C,y:p,z:b},{x:z,y:w,z:0},{x:A,y:w,z:0}],enabled:D.top.visible&&!D.front.visible},{fill:j.color(D.top.color).get(),vertexes:[{x:C,y:p,z:x},{x:B,y:p,z:x},{x:A,y:w,z:v},{x:z,y:w,z:v}],enabled:D.top.visible&&!D.back.visible}]});this.frameShapes.left[s]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:D.left.frontFacing?-1000:1000,faces:[{fill:j.color(D.left.color).brighten(0.1).get(),vertexes:[{x:B,y:E,z:b},{x:A,y:y,z:0},{x:A,y:y,z:v},{x:B,y:E,z:x}],enabled:D.left.visible&&!D.bottom.visible},{fill:j.color(D.left.color).brighten(0.1).get(),vertexes:[{x:B,y:p,z:x},{x:A,y:w,z:v},{x:A,y:w,z:0},{x:B,y:p,z:b}],enabled:D.left.visible&&!D.top.visible},{fill:j.color(D.left.color).brighten(-0.1).get(),vertexes:[{x:B,y:E,z:x},{x:B,y:p,z:x},{x:B,y:p,z:b},{x:B,y:E,z:b}],enabled:D.left.visible},{fill:j.color(D.left.color).brighten(-0.1).get(),vertexes:[{x:A,y:w,z:v},{x:A,y:y,z:v},{x:A,y:y,z:0},{x:A,y:w,z:0}],enabled:D.left.visible},{fill:j.color(D.left.color).get(),vertexes:[{x:B,y:E,z:b},{x:B,y:p,z:b},{x:A,y:w,z:0},{x:A,y:y,z:0}],enabled:D.left.visible&&!D.front.visible},{fill:j.color(D.left.color).get(),vertexes:[{x:B,y:p,z:x},{x:B,y:E,z:x},{x:A,y:y,z:v},{x:A,y:w,z:v}],enabled:D.left.visible&&!D.back.visible}]});this.frameShapes.right[s]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:D.right.frontFacing?-1000:1000,faces:[{fill:j.color(D.right.color).brighten(0.1).get(),vertexes:[{x:C,y:E,z:x},{x:z,y:y,z:v},{x:z,y:y,z:0},{x:C,y:E,z:b}],enabled:D.right.visible&&!D.bottom.visible},{fill:j.color(D.right.color).brighten(0.1).get(),vertexes:[{x:C,y:p,z:b},{x:z,y:w,z:0},{x:z,y:w,z:v},{x:C,y:p,z:x}],enabled:D.right.visible&&!D.top.visible},{fill:j.color(D.right.color).brighten(-0.1).get(),vertexes:[{x:z,y:w,z:0},{x:z,y:y,z:0},{x:z,y:y,z:v},{x:z,y:w,z:v}],enabled:D.right.visible},{fill:j.color(D.right.color).brighten(-0.1).get(),vertexes:[{x:C,y:E,z:b},{x:C,y:p,z:b},{x:C,y:p,z:x},{x:C,y:E,z:x}],enabled:D.right.visible},{fill:j.color(D.right.color).get(),vertexes:[{x:C,y:p,z:b},{x:C,y:E,z:b},{x:z,y:y,z:0},{x:z,y:w,z:0}],enabled:D.right.visible&&!D.front.visible},{fill:j.color(D.right.color).get(),vertexes:[{x:C,y:E,z:x},{x:C,y:p,z:x},{x:z,y:w,z:v},{x:z,y:y,z:v}],enabled:D.right.visible&&!D.back.visible}]});this.frameShapes.back[s]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:D.back.frontFacing?-1000:1000,faces:[{fill:j.color(D.back.color).brighten(0.1).get(),vertexes:[{x:C,y:E,z:x},{x:B,y:E,z:x},{x:A,y:y,z:v},{x:z,y:y,z:v}],enabled:D.back.visible&&!D.bottom.visible},{fill:j.color(D.back.color).brighten(0.1).get(),vertexes:[{x:B,y:p,z:x},{x:C,y:p,z:x},{x:z,y:w,z:v},{x:A,y:w,z:v}],enabled:D.back.visible&&!D.top.visible},{fill:j.color(D.back.color).brighten(-0.1).get(),vertexes:[{x:B,y:E,z:x},{x:B,y:p,z:x},{x:A,y:w,z:v},{x:A,y:y,z:v}],enabled:D.back.visible&&!D.left.visible},{fill:j.color(D.back.color).brighten(-0.1).get(),vertexes:[{x:C,y:p,z:x},{x:C,y:E,z:x},{x:z,y:y,z:v},{x:z,y:w,z:v}],enabled:D.back.visible&&!D.right.visible},{fill:j.color(D.back.color).get(),vertexes:[{x:A,y:w,z:v},{x:z,y:w,z:v},{x:z,y:y,z:v},{x:A,y:y,z:v}],enabled:D.back.visible},{fill:j.color(D.back.color).get(),vertexes:[{x:B,y:E,z:x},{x:C,y:E,z:x},{x:C,y:p,z:x},{x:B,y:p,z:x}],enabled:D.back.visible}]});this.frameShapes.front[s]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:D.front.frontFacing?-1000:1000,faces:[{fill:j.color(D.front.color).brighten(0.1).get(),vertexes:[{x:B,y:E,z:b},{x:C,y:E,z:b},{x:z,y:y,z:0},{x:A,y:y,z:0}],enabled:D.front.visible&&!D.bottom.visible},{fill:j.color(D.front.color).brighten(0.1).get(),vertexes:[{x:C,y:p,z:b},{x:B,y:p,z:b},{x:A,y:w,z:0},{x:z,y:w,z:0}],enabled:D.front.visible&&!D.top.visible},{fill:j.color(D.front.color).brighten(-0.1).get(),vertexes:[{x:B,y:p,z:b},{x:B,y:E,z:b},{x:A,y:y,z:0},{x:A,y:w,z:0}],enabled:D.front.visible&&!D.left.visible},{fill:j.color(D.front.color).brighten(-0.1).get(),vertexes:[{x:C,y:E,z:b},{x:C,y:p,z:b},{x:z,y:w,z:0},{x:z,y:y,z:0}],enabled:D.front.visible&&!D.right.visible},{fill:j.color(D.front.color).get(),vertexes:[{x:z,y:w,z:0},{x:A,y:w,z:0},{x:A,y:y,z:0},{x:z,y:y,z:0}],enabled:D.front.visible},{fill:j.color(D.front.color).get(),vertexes:[{x:C,y:E,z:b},{x:B,y:E,z:b},{x:B,y:p,z:b},{x:C,y:p,z:b}],enabled:D.front.visible}]})}});c.prototype.retrieveStacks=function(h){var n=this.series,m={},q,p=1;d(this.series,function(b){q=e(b.options.stack,h?0:n.length-1-b.index);m[q]?m[q].series.push(b):(m[q]={series:[b],position:p},p++)});m.totalStacks=p+1;return m};c.prototype.get3dFrame=function(){var I=this,F=I.options.chart.options3d,O=F.frame,L=I.plotLeft,K=I.plotLeft+I.plotWidth,H=I.plotTop,J=I.plotTop+I.plotHeight,M=F.depth,N=function(h){h=j.shapeArea3d(h,I);return 0.5<h?1:-0.5>h?-1:0},C=N([{x:L,y:J,z:M},{x:K,y:J,z:M},{x:K,y:J,z:0},{x:L,y:J,z:0}]),y=N([{x:L,y:H,z:0},{x:K,y:H,z:0},{x:K,y:H,z:M},{x:L,y:H,z:M}]),B=N([{x:L,y:H,z:0},{x:L,y:H,z:M},{x:L,y:J,z:M},{x:L,y:J,z:0}]),E=N([{x:K,y:H,z:M},{x:K,y:H,z:0},{x:K,y:J,z:0},{x:K,y:J,z:M}]),m=N([{x:L,y:J,z:0},{x:K,y:J,z:0},{x:K,y:H,z:0},{x:L,y:H,z:0}]),N=N([{x:L,y:H,z:M},{x:K,y:H,z:M},{x:K,y:J,z:M},{x:L,y:J,z:M}]),n=!1,s=!1,v=!1,b=!1;d([].concat(I.xAxis,I.yAxis,I.zAxis),function(h){h&&(h.horiz?h.opposite?s=!0:n=!0:h.opposite?b=!0:v=!0)});var D=function(z,w,u){for(var x=["size","color","visible"],r={},p=0;p<x.length;p++){for(var h=x[p],q=0;q<z.length;q++){if("object"===typeof z[q]){var A=z[q][h];if(void 0!==A&&null!==A){r[h]=A;break}}}}z=u;!0===r.visible||!1===r.visible?z=r.visible:"auto"===r.visible&&(z=0<w);return{size:e(r.size,1),color:e(r.color,"none"),frontFacing:0<w,visible:z}},O={bottom:D([O.bottom,O.top,O],C,n),top:D([O.top,O.bottom,O],y,s),left:D([O.left,O.right,O.side,O],B,v),right:D([O.right,O.left,O.side,O],E,b),back:D([O.back,O.front,O],N,!0),front:D([O.front,O.back,O],m,!1)};"auto"===F.axisLabelPosition?(E=function(h,p){return h.visible!==p.visible||h.visible&&p.visible&&h.frontFacing!==p.frontFacing},F=[],E(O.left,O.front)&&F.push({y:(H+J)/2,x:L,z:0,xDir:{x:1,y:0,z:0}}),E(O.left,O.back)&&F.push({y:(H+J)/2,x:L,z:M,xDir:{x:0,y:0,z:-1}}),E(O.right,O.front)&&F.push({y:(H+J)/2,x:K,z:0,xDir:{x:0,y:0,z:1}}),E(O.right,O.back)&&F.push({y:(H+J)/2,x:K,z:M,xDir:{x:-1,y:0,z:0}}),C=[],E(O.bottom,O.front)&&C.push({x:(L+K)/2,y:J,z:0,xDir:{x:1,y:0,z:0}}),E(O.bottom,O.back)&&C.push({x:(L+K)/2,y:J,z:M,xDir:{x:-1,y:0,z:0}}),y=[],E(O.top,O.front)&&y.push({x:(L+K)/2,y:H,z:0,xDir:{x:1,y:0,z:0}}),E(O.top,O.back)&&y.push({x:(L+K)/2,y:H,z:M,xDir:{x:-1,y:0,z:0}}),B=[],E(O.bottom,O.left)&&B.push({z:(0+M)/2,y:J,x:L,xDir:{x:0,y:0,z:-1}}),E(O.bottom,O.right)&&B.push({z:(0+M)/2,y:J,x:K,xDir:{x:0,y:0,z:1}}),J=[],E(O.top,O.left)&&J.push({z:(0+M)/2,y:H,x:L,xDir:{x:0,y:0,z:-1}}),E(O.top,O.right)&&J.push({z:(0+M)/2,y:H,x:K,xDir:{x:0,y:0,z:1}}),L=function(p,u,t){if(0===p.length){return null}if(1===p.length){return p[0]}for(var h=0,r=i(p,I,!1),q=1;q<r.length;q++){t*r[q][u]>t*r[h][u]?h=q:t*r[q][u]===t*r[h][u]&&r[q].z<r[h].z&&(h=q)}return p[h]},O.axes={y:{left:L(F,"x",-1),right:L(F,"x",1)},x:{top:L(y,"y",-1),bottom:L(C,"y",1)},z:{top:L(J,"y",-1),bottom:L(B,"y",1)}}):O.axes={y:{left:{x:L,z:0,xDir:{x:1,y:0,z:0}},right:{x:K,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:H,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:J,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:v?K:L,y:H,xDir:v?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:v?K:L,y:J,xDir:v?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return O};j.Fx.prototype.matrixSetter=function(){var n;if(1>this.pos&&(j.isArray(this.start)||j.isArray(this.end))){var m=this.start||[1,0,0,1,0,0],b=this.end||[1,0,0,1,0,0];n=[];for(var p=0;6>p;p++){n.push(this.pos*b[p]+(1-this.pos)*m[p])}}else{n=this.end}this.elem.attr(this.prop,n,null,!0)}})(a);(function(C){function H(N,O,P){if(!N.chart.is3d()||"colorAxis"===N.coll){return O}var L=N.chart,J=B*L.options.chart.options3d.alpha,M=B*L.options.chart.options3d.beta,I=D(P&&N.options.title.position3d,N.options.labels.position3d);P=D(P&&N.options.title.skew3d,N.options.labels.skew3d);var K=L.frame3d,e=L.plotLeft,z=L.plotWidth+e,y=L.plotTop,v=L.plotHeight+y,L=!1,R=0,Q=0,S={x:0,y:1,z:0};O=N.swapZ({x:O.x,y:O.y,z:0});if(N.isZAxis){if(N.opposite){if(null===K.axes.z.top){return{}}Q=O.y-y;O.x=K.axes.z.top.x;O.y=K.axes.z.top.y;e=K.axes.z.top.xDir;L=!K.top.frontFacing}else{if(null===K.axes.z.bottom){return{}}Q=O.y-v;O.x=K.axes.z.bottom.x;O.y=K.axes.z.bottom.y;e=K.axes.z.bottom.xDir;L=!K.bottom.frontFacing}}else{if(N.horiz){if(N.opposite){if(null===K.axes.x.top){return{}}Q=O.y-y;O.y=K.axes.x.top.y;O.z=K.axes.x.top.z;e=K.axes.x.top.xDir;L=!K.top.frontFacing}else{if(null===K.axes.x.bottom){return{}}Q=O.y-v;O.y=K.axes.x.bottom.y;O.z=K.axes.x.bottom.z;e=K.axes.x.bottom.xDir;L=!K.bottom.frontFacing}}else{if(N.opposite){if(null===K.axes.y.right){return{}}R=O.x-z;O.x=K.axes.y.right.x;O.z=K.axes.y.right.z;e=K.axes.y.right.xDir;e={x:e.z,y:e.y,z:-e.x}}else{if(null===K.axes.y.left){return{}}R=O.x-e;O.x=K.axes.y.left.x;O.z=K.axes.y.left.z;e=K.axes.y.left.xDir}}}"chart"!==I&&("flap"===I?N.horiz?(M=Math.sin(J),J=Math.cos(J),N.opposite&&(M=-M),L&&(M=-M),S={x:e.z*M,y:J,z:-e.x*M}):e={x:Math.cos(M),y:0,z:Math.sin(M)}:"ortho"===I?N.horiz?(S=Math.cos(J),I=Math.sin(M)*S,J=-Math.sin(J),M=-S*Math.cos(M),S={x:e.y*M-e.z*J,y:e.z*I-e.x*M,z:e.x*J-e.y*I},J=1/Math.sqrt(S.x*S.x+S.y*S.y+S.z*S.z),L&&(J=-J),S={x:J*S.x,y:J*S.y,z:J*S.z}):e={x:Math.cos(M),y:0,z:Math.sin(M)}:N.horiz?S={x:Math.sin(M)*Math.sin(J),y:Math.cos(J),z:-Math.cos(M)*Math.sin(J)}:e={x:Math.cos(M),y:0,z:Math.sin(M)});O.x+=R*e.x+Q*S.x;O.y+=R*e.y+Q*S.y;O.z+=R*e.z+Q*S.z;L=G([O],N.chart)[0];P&&(0>t(G([O,{x:O.x+e.x,y:O.y+e.y,z:O.z+e.z},{x:O.x+S.x,y:O.y+S.y,z:O.z+S.z}],N.chart))&&(e={x:-e.x,y:-e.y,z:-e.z}),N=G([{x:O.x,y:O.y,z:O.z},{x:O.x+e.x,y:O.y+e.y,z:O.z+e.z},{x:O.x+S.x,y:O.y+S.y,z:O.z+S.z}],N.chart),L.matrix=[N[1].x-N[0].x,N[1].y-N[0].y,N[2].x-N[0].x,N[2].y-N[0].y,L.x,L.y],L.matrix[4]-=L.x*L.matrix[0]+L.y*L.matrix[2],L.matrix[5]-=L.x*L.matrix[1]+L.y*L.matrix[3]);return L}var A,c=C.addEvent,d=C.Axis,E=C.Chart,B=C.deg2rad,i=C.each,q=C.extend,F=C.merge,G=C.perspective,j=C.perspective3D,D=C.pick,t=C.shapeArea,s=C.splat,o=C.Tick,r=C.wrap;F(!0,d.prototype.defaultOptions,{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}});c(d,"afterSetOptions",function(){var b;this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll&&(b=this.options,b.tickWidth=D(b.tickWidth,0),b.gridLineWidth=D(b.gridLineWidth,1))});r(d.prototype,"getPlotLinePath",function(f){var h=f.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll||null===h){return h}var g=this.chart,e=g.options.chart.options3d,e=this.isZAxis?g.plotWidth:e.depth,g=g.frame3d,h=[this.swapZ({x:h[1],y:h[2],z:0}),this.swapZ({x:h[1],y:h[2],z:e}),this.swapZ({x:h[4],y:h[5],z:0}),this.swapZ({x:h[4],y:h[5],z:e})],e=[];this.horiz?(this.isZAxis?(g.left.visible&&e.push(h[0],h[2]),g.right.visible&&e.push(h[1],h[3])):(g.front.visible&&e.push(h[0],h[2]),g.back.visible&&e.push(h[1],h[3])),g.top.visible&&e.push(h[0],h[1]),g.bottom.visible&&e.push(h[2],h[3])):(g.front.visible&&e.push(h[0],h[2]),g.back.visible&&e.push(h[1],h[3]),g.left.visible&&e.push(h[0],h[1]),g.right.visible&&e.push(h[2],h[3]));e=G(e,this.chart,!1);return this.chart.renderer.toLineSegments(e)});r(d.prototype,"getLinePath",function(b){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:b.apply(this,[].slice.call(arguments,1))});r(d.prototype,"getPlotBandPath",function(g){if(!this.chart.is3d()||"colorAxis"===this.coll){return g.apply(this,[].slice.call(arguments,1))}var l=arguments,k=l[2],f=[],l=this.getPlotLinePath(l[1]),k=this.getPlotLinePath(k);if(l&&k){for(var h=0;h<l.length;h+=6){f.push("M",l[h+1],l[h+2],"L",l[h+4],l[h+5],"L",k[h+4],k[h+5],"L",k[h+1],k[h+2],"Z")}}return f});r(o.prototype,"getMarkPath",function(b){var e=b.apply(this,[].slice.call(arguments,1)),e=[H(this.axis,{x:e[1],y:e[2],z:0}),H(this.axis,{x:e[4],y:e[5],z:0})];return this.axis.chart.renderer.toLineSegments(e)});c(o,"afterGetLabelPosition",function(b){q(b.pos,H(this.axis,b.pos))});r(d.prototype,"getTitlePosition",function(b){var e=b.apply(this,[].slice.call(arguments,1));return H(this,e,!0)});c(d,"drawCrosshair",function(b){this.chart.is3d()&&"colorAxis"!==this.coll&&b.point&&(b.point.crosshairPos=this.isXAxis?b.point.axisXpos:this.len-b.point.axisYpos)});c(d,"destroy",function(){i(["backFrame","bottomFrame","sideFrame"],function(b){this[b]&&(this[b]=this[b].destroy())},this)});d.prototype.swapZ=function(b,e){return this.isZAxis?(e=e?0:this.chart.plotLeft,{x:e+b.z,y:b.y,z:b.x-e}):b};A=C.ZAxis=function(){this.init.apply(this,arguments)};q(A.prototype,d.prototype);q(A.prototype,{isZAxis:!0,setOptions:function(b){b=F({offset:0,lineWidth:0},b);d.prototype.setOptions.call(this,b);this.coll="zAxis"},setAxisSize:function(){d.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,e=b.chart;b.hasVisibleSeries=!1;b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null;b.buildStacks&&b.buildStacks();i(b.series,function(f){if(f.visible||!e.options.chart.ignoreHiddenSeries){b.hasVisibleSeries=!0,f=f.zData,f.length&&(b.dataMin=Math.min(D(b.dataMin,f[0]),Math.min.apply(null,f)),b.dataMax=Math.max(D(b.dataMax,f[0]),Math.max.apply(null,f)))}})}});c(E,"afterGetAxes",function(){var b=this,e=this.options,e=e.zAxis=s(e.zAxis||{});b.is3d()&&(this.zAxis=[],i(e,function(g,f){g.index=f;g.isX=!0;(new A(b,g)).setScale()}))});r(d.prototype,"getSlotWidth",function(J,I){if(this.chart.is3d()&&I&&I.label&&this.categories){var z=this.chart,y=this.ticks,w=this.gridGroup.element.childNodes[0].getBBox(),u=z.frameShapes.left.getBBox(),x=z.options.chart.options3d,z={x:z.plotWidth/2,y:z.plotHeight/2,z:x.depth/2,vd:D(x.depth,1)*D(x.viewDistance,0)},v,p,x=I.pos,l=y[x-1],y=y[x+1];0!==x&&l&&(v=j({x:l.label.xy.x,y:l.label.xy.y,z:null},z,z.vd));y&&y.label.xy&&(p=j({x:y.label.xy.x,y:y.label.xy.y,z:null},z,z.vd));y={x:I.label.xy.x,y:I.label.xy.y,z:null};y=j(y,z,z.vd);return Math.abs(v?y.x-v.x:p?p.x-y.x:w.x-u.x)}return J.apply(this,[].slice.call(arguments,1))})})(a);(function(c){var d=c.addEvent,f=c.perspective,e=c.pick;d(c.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});c.Series.prototype.translate3dPoints=function(){var i=this.chart,k=e(this.zAxis,i.options.zAxis[0]),n=[],g,l,j;for(j=0;j<this.data.length;j++){g=this.data[j],k&&k.translate?(l=k.isLog&&k.val2lin?k.val2lin(g.z):g.z,g.plotZ=k.translate(l),g.isInside=g.isInside?l>=k.min&&l<=k.max:!1):g.plotZ=0,g.axisXpos=g.plotX,g.axisYpos=g.plotY,g.axisZpos=g.plotZ,n.push({x:g.plotX,y:g.plotY,z:g.plotZ})}i=f(n,i,!0);for(j=0;j<this.data.length;j++){g=this.data[j],k=i[j],g.plotX=k.x,g.plotY=k.y,g.plotZ=k.z}}})(a);(function(j){function q(h){var m=h.apply(this,[].slice.call(arguments,1));this.chart.is3d&&this.chart.is3d()&&(m.stroke=this.options.edgeColor||m.fill,m["stroke-width"]=k(this.options.edgeWidth,1));return m}var g=j.addEvent,c=j.each,d=j.perspective,k=j.pick,i=j.Series,e=j.seriesTypes,f=j.inArray,l=j.svg,o=j.wrap;o(e.column.prototype,"translate",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.translate3dShapes()});o(j.Series.prototype,"alignDataLabel",function(h){arguments[3].outside3dPlot=arguments[1].outside3dPlot;h.apply(this,[].slice.call(arguments,1))});o(j.Series.prototype,"justifyDataLabel",function(h){return arguments[2].outside3dPlot?!1:h.apply(this,[].slice.call(arguments,1))});e.column.prototype.translate3dPoints=function(){};e.column.prototype.translate3dShapes=function(){var h=this,m=h.chart,s=h.options,r=s.depth||25,n=(s.stacking?s.stack||0:h.index)*(r+(s.groupZPadding||1)),p=h.borderWidth%2?0.5:0;m.inverted&&!h.yAxis.reversed&&(p*=-1);!1!==s.grouping&&(n=0);n+=s.groupZPadding||1;c(h.data,function(u){u.outside3dPlot=null;if(null!==u.y){var v=u.shapeArgs,t=u.tooltipPos,b;c([["x","width"],["y","height"]],function(w){b=v[w[0]]-p;0>b&&(v[w[1]]+=v[w[0]]+p,v[w[0]]=-p,b=0);b+v[w[1]]>h[w[0]+"Axis"].len&&0!==v[w[1]]&&(v[w[1]]=h[w[0]+"Axis"].len-v[w[0]]);if(0!==v[w[1]]&&(v[w[0]]>=h[w[0]+"Axis"].len||v[w[0]]+v[w[1]]<=p)){for(var x in v){v[x]=0}u.outside3dPlot=!0}});u.shapeType="cuboid";v.z=n;v.depth=r;v.insidePlotArea=!0;t=d([{x:t[0],y:t[1],z:n}],m,!0)[0];u.tooltipPos=[t.x,t.y]}});h.z=n};o(e.column.prototype,"animate",function(h){if(this.chart.is3d()){var m=arguments[1],r=this.yAxis,p=this,n=this.yAxis.reversed;l&&(m?c(p.data,function(b){null!==b.y&&(b.height=b.shapeArgs.height,b.shapey=b.shapeArgs.y,b.shapeArgs.height=1,n||(b.shapeArgs.y=b.stackY?b.plotY+r.translate(b.stackY):b.plotY+(b.negative?-b.height:b.height)))}):(c(p.data,function(b){null!==b.y&&(b.shapeArgs.height=b.height,b.shapeArgs.y=b.shapey,b.graphic&&b.graphic.animate(b.shapeArgs,p.options.animation))}),this.drawDataLabels(),p.animate=null))}else{h.apply(this,[].slice.call(arguments,1))}});o(e.column.prototype,"plotGroup",function(h,m,s,r,n,p){this.chart.is3d()&&p&&!this[m]&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(p)),this[m]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[m].survive=!0);return h.apply(this,Array.prototype.slice.call(arguments,1))});o(e.column.prototype,"setVisible",function(h,m){var p=this,n;p.chart.is3d()&&c(p.data,function(r){n=(r.visible=r.options.visible=m=void 0===m?!r.visible:m)?"visible":"hidden";p.options.data[f(r,p.data)]=r.options;r.graphic&&r.graphic.attr({visibility:n})});h.apply(this,Array.prototype.slice.call(arguments,1))});e.column.prototype.handle3dGrouping=!0;g(i,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var h=this.options,m=h.grouping,r=h.stacking,p=k(this.yAxis.options.reversedStacks,!0),n=0;if(void 0===m||m){m=this.chart.retrieveStacks(r);n=h.stack||0;for(r=0;r<m[n].series.length&&m[n].series[r]!==this;r++){}n=10*(m.totalStacks-m[n].position)+(p?r:-r);this.xAxis.reversed||(n=10*m.totalStacks-n)}h.zIndex=n}});o(e.column.prototype,"pointAttribs",q);e.columnrange&&(o(e.columnrange.prototype,"pointAttribs",q),e.columnrange.prototype.plotGroup=e.column.prototype.plotGroup,e.columnrange.prototype.setVisible=e.column.prototype.setVisible);o(i.prototype,"alignDataLabel",function(h){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var m=arguments,p=m[4],m=m[1],n={x:p.x,y:p.y,z:this.z},n=d([n],this.chart,!0)[0];p.x=n.x;p.y=m.outside3dPlot?-9000000000:n.y}h.apply(this,[].slice.call(arguments,1))});o(j.StackItem.prototype,"getStackBox",function(m,b){var p=m.apply(this,[].slice.call(arguments,1));if(b.is3d()){var n={x:p.x,y:p.y,z:0},n=j.perspective([n],b,!0)[0];p.x=n.x;p.y=n.y}return p})})(a);(function(d){var e=d.deg2rad,g=d.each,f=d.pick,h=d.seriesTypes,c=d.svg;d=d.wrap;d(h.pie.prototype,"translate",function(j){j.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var i=this,q=i.options,t=q.depth||0,s=i.chart.options.chart.options3d,o=s.alpha,k=s.beta,r=q.stacking?(q.stack||0)*t:i._i*t,r=r+t/2;!1!==q.grouping&&(r=0);g(i.data,function(l){var m=l.shapeArgs;l.shapeType="arc3d";m.z=r;m.depth=0.75*t;m.alpha=o;m.beta=k;m.center=i.center;m=(m.end+m.start)/2;l.slicedTranslation={translateX:Math.round(Math.cos(m)*q.slicedOffset*Math.cos(o*e)),translateY:Math.round(Math.sin(m)*q.slicedOffset*Math.cos(o*e))}})}});d(h.pie.prototype.pointClass.prototype,"haloPath",function(j){var i=arguments;return this.series.chart.is3d()?[]:j.call(this,i[1])});d(h.pie.prototype,"pointAttribs",function(j,i,k){j=j.call(this,i,k);k=this.options;this.chart.is3d()&&(j.stroke=k.edgeColor||i.color||this.color,j["stroke-width"]=f(k.edgeWidth,1));return j});d(h.pie.prototype,"drawPoints",function(i){i.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&g(this.points,function(j){var k=j.graphic;if(k){k[j.y&&j.visible?"show":"hide"]()}})});d(h.pie.prototype,"drawDataLabels",function(j){if(this.chart.is3d()){var i=this.chart.options.chart.options3d;g(this.data,function(k){var p=k.shapeArgs,s=p.r,o=(p.start+p.end)/2,m=k.labelPos,r=-s*(1-Math.cos((p.alpha||i.alpha)*e))*Math.sin(o),q=s*(Math.cos((p.beta||i.beta)*e)-1)*Math.cos(o);g([0,2,4],function(l){m[l]+=q;m[l+1]+=r})})}j.apply(this,[].slice.call(arguments,1))});d(h.pie.prototype,"addPoint",function(i){i.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});d(h.pie.prototype,"animate",function(j){if(this.chart.is3d()){var i=arguments[1],o=this.options.animation,r=this.center,q=this.group,k=this.markerGroup;c&&(!0===o&&(o={}),i?(q.oldtranslateX=q.translateX,q.oldtranslateY=q.translateY,i={translateX:r[0],translateY:r[1],scaleX:0.001,scaleY:0.001},q.attr(i),k&&(k.attrSetters=q.attrSetters,k.attr(i))):(i={translateX:q.oldtranslateX,translateY:q.oldtranslateY,scaleX:1,scaleY:1},q.animate(i,o),k&&k.animate(i,o),this.animate=null))}else{j.apply(this,[].slice.call(arguments,1))}})})(a);(function(c){var d=c.Point,f=c.seriesType,e=c.seriesTypes;f("scatter3d","scatter",{tooltip:{pointFormat:"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e"}},{pointAttribs:function(g){var b=e.scatter.prototype.pointAttribs.apply(this,arguments);this.chart.is3d()&&g&&(b.zIndex=c.pointCameraDistance(g,this.chart));return b},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){d.prototype.applyOptions.apply(this,arguments);void 0===this.z&&(this.z=0);return this}})})(a);(function(c){var d=c.addEvent,f=c.Axis,e=c.SVGRenderer,g=c.VMLRenderer;g&&(c.setOptions({animate:!1}),g.prototype.face3d=e.prototype.face3d,g.prototype.polyhedron=e.prototype.polyhedron,g.prototype.cuboid=e.prototype.cuboid,g.prototype.cuboidPath=e.prototype.cuboidPath,g.prototype.toLinePath=e.prototype.toLinePath,g.prototype.toLineSegments=e.prototype.toLineSegments,g.prototype.createElement3D=e.prototype.createElement3D,g.prototype.arc3d=function(h){h=e.prototype.arc3d.call(this,h);h.css({zIndex:h.zIndex});return h},c.VMLRenderer.prototype.arc3dPath=c.SVGRenderer.prototype.arc3dPath,d(f,"render",function(){this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})(a)});