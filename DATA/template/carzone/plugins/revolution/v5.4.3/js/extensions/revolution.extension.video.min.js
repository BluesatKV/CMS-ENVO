!function(k){function y(a){return void 0==a?-1:jQuery.isNumeric(a)?a:a.split(":").length>1?60*parseInt(a.split(":")[0],0)+parseInt(a.split(":")[1],0):a}var q=jQuery.fn.revolution,j=q.is_mobile(),f=(q.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.6",version:"2.1.7"});jQuery.extend(!0,q,{preLoadAudio:function(d,a){if("stop"===q.compare_version(f).check){return !1}d.find(".tp-audiolayer").each(function(){var n=jQuery(this),l={};0===n.find("audio").length&&(l.src=void 0!=n.data("videomp4")?n.data("videomp4"):"",l.pre=n.data("videopreload")||"",void 0===n.attr("id")&&n.attr("audio-layer-"+Math.round(199999*Math.random())),l.id=n.attr("id"),l.status="prepared",l.start=jQuery.now(),l.waittime=1000*n.data("videopreloadwait")||5000,"auto"!=l.pre&&"canplaythrough"!=l.pre&&"canplay"!=l.pre&&"progress"!=l.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(l),q.manageVideoLayer(n,a)))})},preLoadAudioDone:function(l,i,d){i.audioqueue&&i.audioqueue.length>0&&jQuery.each(i.audioqueue,function(e,a){l.data("videomp4")!==a.src||a.pre!==d&&"auto"!==a.pre||(a.status="loaded")})},resetVideo:function(B,t,C){var v=B.data();switch(v.videotype){case"youtube":v.player;try{if("on"==v.forcerewind){i=y(B.data("videostartat")),1===v.bgvideo||B.find(".tp-videoposter").length;void 0!=v.player&&(i=-1==i?0:i,v.player.seekTo(i),v.player.pauseVideo())}}catch(B){}0==B.find(".tp-videoposter").length&&1!==v.bgvideo&&!0!==C&&punchgs.TweenLite.to(B.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var a=$f(B.find("iframe").attr("id"));try{if("on"==v.forcerewind){i=y(v.videostartat),1===v.bgvideo||B.find(".tp-videoposter").length;i=-1==i?0:i,a.api("seekTo",i),a.api("pause")}}catch(B){}0==B.find(".tp-videoposter").length&&1!==v.bgvideo&&!0!==C&&punchgs.TweenLite.to(B.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(j&&1==v.disablevideoonmobile){return !1}var E="html5"==v.audio?"audio":"video",A=B.find(E),D=A[0];if(punchgs.TweenLite.to(A,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==v.forcerewind&&!B.hasClass("videoisplaying")){try{var i=y(v.videostartat);D.currentTime=-1==i?0:i}catch(B){}}("mute"==v.volume||q.lastToggleState(B.videomutetoggledby)||!0===t.globalmute)&&(D.muted=!0)}},isVideoMuted:function(p,n){var d=!1,l=p.data();switch(l.videotype){case"youtube":try{d=l.player.isMuted()}catch(p){}break;case"vimeo":try{$f(p.find("iframe").attr("id"));"mute"==l.volume&&(d=!0)}catch(p){}break;case"html5":var r="html5"==l.audio?"audio":"video";p.find(r)[0].muted&&(d=!0)}return d},muteVideo:function(p,n){var d=p.data();switch(d.videotype){case"youtube":try{d.player.mute()}catch(p){}break;case"vimeo":try{var l=$f(p.find("iframe").attr("id"));p.data("volume","mute"),l.api("setVolume",0)}catch(p){}break;case"html5":var r="html5"==d.audio?"audio":"video";p.find(r)[0].muted=!0}},unMuteVideo:function(p,n){if(!0!==n.globalmute){var d=p.data();switch(d.videotype){case"youtube":try{d.player.unMute()}catch(p){}break;case"vimeo":try{var l=$f(p.find("iframe").attr("id"));p.data("volume","1"),l.api("setVolume",1)}catch(p){}break;case"html5":var r="html5"==d.audio?"audio":"video";p.find(r)[0].muted=!1}}},stopVideo:function(s,r){var l=s.data();switch(r.leaveViewPortBasedStop||(r.lastplayedvideos=[]),r.leaveViewPortBasedStop=!1,l.videotype){case"youtube":try{var p=l.player;if(2===p.getPlayerState()||5===p.getPlayerState()){return}p.pauseVideo(),l.youtubepausecalled=!0,setTimeout(function(){l.youtubepausecalled=!1},80)}catch(s){console.log("Issue at YouTube Video Pause:"),console.log(s)}break;case"vimeo":try{$f(s.find("iframe").attr("id")).api("pause"),l.vimeopausecalled=!0,setTimeout(function(){l.vimeopausecalled=!1},80)}catch(s){console.log("Issue at Vimeo Video Pause:"),console.log(s)}break;case"html5":var v="html5"==l.audio?"audio":"video",u=s.find(v),A=u[0];void 0!=u&&void 0!=A&&A.pause()}},playVideo:function(B,A){clearTimeout(B.data("videoplaywait"));var d=B.data();switch(d.videotype){case"youtube":if(0==B.find("iframe").length){B.append(B.data("videomarkup")),b(B,A,!0)}else{if(void 0!=d.player.playVideo){var r=y(B.data("videostartat")),F=d.player.getCurrentTime();1==B.data("nextslideatend-triggered")&&(F=-1,B.data("nextslideatend-triggered",0)),-1!=r&&r>F&&d.player.seekTo(r),!0!==d.youtubepausecalled&&d.player.playVideo()}else{B.data("videoplaywait",setTimeout(function(){!0!==d.youtubepausecalled&&q.playVideo(B,A)},50))}}break;case"vimeo":if(0==B.find("iframe").length){B.append(B.data("videomarkup")),b(B,A,!0)}else{if(B.hasClass("rs-apiready")){var t=B.find("iframe").attr("id"),E=$f(t);void 0==E.api("play")?B.data("videoplaywait",setTimeout(function(){!0!==d.vimeopausecalled&&q.playVideo(B,A)},50)):setTimeout(function(){E.api("play");var e=y(B.data("videostartat")),l=B.data("currenttime");1==B.data("nextslideatend-triggered")&&(l=-1,B.data("nextslideatend-triggered",0)),-1!=e&&e>l&&E.api("seekTo",e)},510)}else{B.data("videoplaywait",setTimeout(function(){!0!==d.vimeopausecalled&&q.playVideo(B,A)},50))}}break;case"html5":var a="html5"==d.audio?"audio":"video",D=B.find(a),C=D[0];if(1!=D.parent().data("metaloaded")){m(C,"loadedmetadata",function(i){q.resetVideo(i,A),C.play();var n=y(i.data("videostartat")),l=C.currentTime;1==i.data("nextslideatend-triggered")&&(l=-1,i.data("nextslideatend-triggered",0)),-1!=n&&n>l&&(C.currentTime=n)}(B))}else{C.play();var r=y(B.data("videostartat")),F=C.currentTime;1==B.data("nextslideatend-triggered")&&(F=-1,B.data("nextslideatend-triggered",0)),-1!=r&&r>F&&(C.currentTime=r)}}},isVideoPlaying:function(l,i){var d=!1;return void 0!=i.playingvideos&&jQuery.each(i.playingvideos,function(e,a){l.attr("id")==a.attr("id")&&(d=!0)}),d},removeMediaFromList:function(d,a){w(d,a)},prepareCoveredVideo:function(E,H,D){var A=D.find("iframe, video"),F=E.split(":")[0],B=E.split(":")[1],a=D.closest(".tp-revslider-slidesli"),I=a.width()/a.height(),C=F/B,G=I/C*100,v=C/I*100;I>C?punchgs.TweenLite.to(A,0.001,{height:G+"%",width:"100%",top:-(G-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(A,0.001,{width:v+"%",height:"100%",left:-(v-100)/2+"%",top:"0px",position:"absolute"}),A.hasClass("resizelistener")||(A.addClass("resizelistener"),jQuery(window).resize(function(){clearTimeout(A.data("resizelistener")),A.data("resizelistener",setTimeout(function(){q.prepareCoveredVideo(E,H,D)},30))}))},checkVideoApis:function(s,r,l){location.protocol;if((void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(r.youtubeapineeded=!0),(void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==l.addedyt){r.youtubestarttime=jQuery.now(),l.addedyt=1;var p=document.createElement("script");p.src="https://www.youtube.com/iframe_api";var v=document.getElementsByTagName("script")[0],u=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(p,v)}if((void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(r.vimeoapineeded=!0),(void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==l.addedvim){r.vimeostarttime=jQuery.now(),l.addedvim=1;var A=document.createElement("script"),v=document.getElementsByTagName("script")[0],u=!0;A.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){"https://secure-a.vimeocdn.com/js/froogaloop2.min.js"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(A,v)}return l},manageVideoLayer:function(ab,N,H,U){if("stop"===q.compare_version(f).check){return !1}var M=ab.data(),G=M.videoattributes,ac=M.ytid,Z=M.vimeoid,R="auto"===M.videopreload||"canplay"===M.videopreload||"canplaythrough"===M.videopreload||"progress"===M.videopreload?"auto":M.videopreload,aa=M.videomp4,B=M.videowebm,Y=M.videoogv,ad=M.allowfullscreenvideo,F=M.videocontrols,d="http",W="loop"==M.videoloop?"loop":"loopandnoslidestop"==M.videoloop?"loop":"",E=void 0!=aa||void 0!=B?"html5":void 0!=ac&&String(ac).length>1?"youtube":void 0!=Z&&String(Z).length>1?"vimeo":"none",u="html5"==M.audio?"audio":"video",a="html5"==E&&0==ab.find(u).length?"html5":"youtube"==E&&0==ab.find("iframe").length?"youtube":"vimeo"==E&&0==ab.find("iframe").length?"vimeo":"none";switch(W=!0===M.nextslideatend?"":W,M.videotype=E,a){case"html5":"controls"!=F&&(F="");u="video";"html5"==M.audio&&(u="audio",ab.addClass("tp-audio-html5"));var r="";q.is_mobile()&&("on"===M.autoplay||"true"===M.autoplay||!0===M.autoplay?r="muted playsinline autoplay":1!=M.videoinline&&"true"!==M.videoinline&&1!==M.videoinline||(r+=" playsinline"));var D="<"+u+" "+r+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+W+' preload="'+R+'">';"auto"==R&&(N.mediapreload=!0),void 0!=B&&"firefox"==q.get_browser().toLowerCase()&&(D=D+'<source src="'+B+'" type="video/webm" />'),void 0!=aa&&(D=D+'<source src="'+aa+'" type="video/mp4" />'),void 0!=Y&&(D=D+'<source src="'+Y+'" type="video/ogg" />'),D=D+"</"+u+">";var J="";"true"!==ad&&!0!==ad||(J='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==F&&(D=D+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+J+"</div>"),ab.data("videomarkup",D),ab.append(D),(j&&1==ab.data("disablevideoonmobile")||q.isIE(8))&&ab.find(u).remove(),ab.find(u).each(function(l){var e=this,n=jQuery(this);n.parent().hasClass("html5vid")||n.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=n.parent().data("metaloaded")&&m(e,"loadedmetadata",function(p){x(p,N),q.resetVideo(p,N)}(ab))});break;case"youtube":d="https","none"==F&&-1==(G=G.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(G+="&controls=0"),!0!==M.videoinline&&"true"!==M.videoinline&&1!==M.videoinline||(G+="&playsinline=1");var X=y(ab.data("videostartat")),ae=y(ab.data("videoendat"));-1!=X&&(G=G+"&start="+X),-1!=ae&&(G=G+"&end="+ae);var K=G.split("origin="+d+"://"),i="";K.length>1?(i=K[0]+"origin="+d+"://",self.location.href.match(/www/gi)&&!K[1].match(/www/gi)&&(i+="www."),i+=K[1]):i=G;var t="true"===ad||!0===ad?"allowfullscreen":"";ab.data("videomarkup",'<iframe type="text/html" src="'+d+"://www.youtube.com/embed/"+ac+"?"+i+'" '+t+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":d="https",ab.data("videomarkup",'<iframe src="'+d+"://player.vimeo.com/video/"+Z+"?autoplay=0&"+G+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var o=j&&"on"==ab.data("noposteronmobile");if(void 0!=M.videoposter&&M.videoposter.length>2&&!o){0==ab.find(".tp-videoposter").length&&ab.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+M.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==ab.find("iframe").length&&ab.find(".tp-videoposter").click(function(){if(q.playVideo(ab,N),j){if(1==ab.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(ab.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(ab.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}else{if(j&&1==ab.data("disablevideoonmobile")){return !1}0!=ab.find("iframe").length||"youtube"!=E&&"vimeo"!=E||(ab.append(ab.data("videomarkup")),b(ab,N,!1))}"none"!=ab.data("dottedoverlay")&&void 0!=ab.data("dottedoverlay")&&1!=ab.find(".tp-dottedoverlay").length&&ab.append('<div class="tp-dottedoverlay '+ab.data("dottedoverlay")+'"></div>'),ab.addClass("HasListener"),1==ab.data("bgvideo")&&punchgs.TweenLite.set(ab.find("video, iframe"),{autoAlpha:0})}});var m=function(l,i,d){l.addEventListener?l.addEventListener(i,d,{capture:!1,passive:!0}):l.attachEvent(i,d,{capture:!1,passive:!0})},g=function(o,n,d){var l={};return l.video=o,l.videotype=n,l.settings=d,l},b=function(A,i,B){var a=A.data(),I=A.find("iframe"),D="iframe"+Math.round(100000*Math.random()+1),t=a.videoloop,l="loopandnoslidestop"!=t;if(t="loop"==t||"loopandnoslidestop"==t,1==A.data("forcecover")&&(A.removeClass("fullscreenvideo").addClass("coverscreenvideo"),void 0!=(v=A.data("aspectratio"))&&v.split(":").length>1&&(console.log("i"),q.prepareCoveredVideo(v,i,A))),1==A.data("bgvideo")){var v=A.data("aspectratio");void 0!=v&&v.split(":").length>1&&(console.log("ak"),q.prepareCoveredVideo(v,i,A))}if(I.attr("id",D),B&&A.data("startvideonow",!0),1!==A.data("videolistenerexist")){switch(a.videotype){case"youtube":n=new YT.Player(D,{events:{onStateChange:function(o){var r=A.closest(".tp-simpleresponsive"),e=(a.videorate,A.data("videostart"),h());if(o.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(A.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(A.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==A.data("volume")||q.lastToggleState(A.data("videomutetoggledby"))||!0===i.globalmute?n.mute():(n.unMute(),n.setVolume(parseInt(A.data("volume"),0)||75)),i.videoplaying=!0,c(A,i),l?i.c.trigger("stoptimer"):i.videoplaying=!1,i.c.trigger("revolution.slide.onvideoplay",g(n,"youtube",A.data())),q.toggleState(a.videotoggledby)}else{if(0==o.data&&t){var J=y(A.data("videostartat"));-1!=J&&n.seekTo(J),n.playVideo(),q.toggleState(a.videotoggledby)}e||0!=o.data&&2!=o.data||!("on"==A.data("showcoveronpause")&&A.find(".tp-videoposter").length>0||1===A.data("bgvideo")&&A.find(".rs-fullvideo-cover").length>0)||(1===A.data("bgvideo")?punchgs.TweenLite.to(A.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(A.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(A.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=o.data&&3!=o.data&&(i.videoplaying=!1,i.tonpause=!1,w(A,i),r.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",g(n,"youtube",A.data())),void 0!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=A.attr("id")||q.unToggleState(a.videotoggledby)),0==o.data&&1==A.data("nextslideatend")?(z(),A.data("nextslideatend-triggered",1),i.c.revnext(),w(A,i)):(w(A,i),i.videoplaying=!1,r.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",g(n,"youtube",A.data())),void 0!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=A.attr("id")||q.unToggleState(a.videotoggledby))}},onReady:function(e){var u=a.videorate;A.data("videostart");if(A.addClass("rs-apiready"),void 0!=u&&e.target.setPlaybackRate(parseFloat(u)),A.find(".tp-videoposter").unbind("click"),A.find(".tp-videoposter").click(function(){j||n.playVideo()}),A.data("startvideonow")){a.player.playVideo();var r=y(A.data("videostartat"));-1!=r&&a.player.seekTo(r)}A.data("videolistenerexist",1)}}});A.data("player",n);break;case"vimeo":for(var F,s=I.attr("src"),E={},H=s,p=/([^&=]+)=([^&]*)/g;F=p.exec(H);){E[decodeURIComponent(F[1])]=decodeURIComponent(F[2])}s=void 0!=E.player_id?s.replace(E.player_id,D):s+"&player_id="+D;try{s=s.replace("api=0","api=1")}catch(A){}s+="&api=1",I.attr("src",s);var n=A.find("iframe")[0];jQuery("#"+D);(C=$f(D)).addEvent("ready",function(){if(A.addClass("rs-apiready"),C.addEvent("play",function(d){A.data("nextslidecalled",0),punchgs.TweenLite.to(A.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(A.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),i.c.trigger("revolution.slide.onvideoplay",g(C,"vimeo",A.data())),i.videoplaying=!0,c(A,i),l?i.c.trigger("stoptimer"):i.videoplaying=!1,"mute"==A.data("volume")||q.lastToggleState(A.data("videomutetoggledby"))||!0===i.globalmute?C.api("setVolume","0"):C.api("setVolume",parseInt(A.data("volume"),0)/100||0.75),q.toggleState(a.videotoggledby)}),C.addEvent("playProgress",function(o){var r=y(A.data("videoendat"));if(A.data("currenttime",o.seconds),0!=r&&Math.abs(r-o.seconds)<0.3&&r>o.seconds&&1!=A.data("nextslidecalled")){if(t){C.api("play");var u=y(A.data("videostartat"));-1!=u&&C.api("seekTo",u)}else{1==A.data("nextslideatend")&&(A.data("nextslideatend-triggered",1),A.data("nextslidecalled",1),i.c.revnext()),C.api("pause")}}}),C.addEvent("finish",function(d){w(A,i),i.videoplaying=!1,i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",g(C,"vimeo",A.data())),1==A.data("nextslideatend")&&(A.data("nextslideatend-triggered",1),i.c.revnext()),void 0!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=A.attr("id")||q.unToggleState(a.videotoggledby)}),C.addEvent("pause",function(d){("on"==A.data("showcoveronpause")&&A.find(".tp-videoposter").length>0||1===A.data("bgvideo")&&A.find(".rs-fullvideo-cover").length>0)&&(1===A.data("bgvideo")?punchgs.TweenLite.to(A.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(A.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(A.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),i.videoplaying=!1,i.tonpause=!1,w(A,i),i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",g(C,"vimeo",A.data())),void 0!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=A.attr("id")||q.unToggleState(a.videotoggledby)}),A.find(".tp-videoposter").unbind("click"),A.find(".tp-videoposter").click(function(){if(!j){return C.api("play"),!1}}),A.data("startvideonow")){C.api("play");var e=y(A.data("videostartat"));-1!=e&&C.api("seekTo",e)}A.data("videolistenerexist",1)})}}else{var G=y(A.data("videostartat"));switch(a.videotype){case"youtube":B&&(a.player.playVideo(),-1!=G&&a.player.seekTo());break;case"vimeo":if(B){var C=$f(A.find("iframe").attr("id"));C.api("play"),-1!=G&&C.api("seekTo",G)}}}},z=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},h=function(){try{if(void 0!==window.fullScreen){return window.fullScreen}var a=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(a=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<a}catch(a){}},x=function(v,d,a){if(j&&1==v.data("disablevideoonmobile")){return !1}var G=v.data(),B="html5"==G.audio?"audio":"video",s=v.find(B),i=s[0],t=s.parent(),D=G.videoloop,p="loopandnoslidestop"!=D;if(D="loop"==D||"loopandnoslidestop"==D,t.data("metaloaded",1),1!=v.data("bgvideo")||"none"!==G.videoloop&&!1!==G.videoloop||(p=!1),void 0==s.attr("control")&&(0!=v.find(".tp-video-play-button").length||j||v.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),v.find("video, .tp-poster, .tp-video-play-button").click(function(){v.hasClass("videoisplaying")?i.pause():i.play()})),1==v.data("forcecover")||v.hasClass("fullscreenvideo")||1==v.data("bgvideo")){if(1==v.data("forcecover")||1==v.data("bgvideo")){t.addClass("fullcoveredvideo");var C=v.data("aspectratio")||"4:3";q.setSize(d),q.prepareCoveredVideo(C,d,v)}else{t.addClass("fullscreenvideo")}}var F=v.find(".tp-vid-play-pause")[0],n=v.find(".tp-vid-mute")[0],l=v.find(".tp-vid-full-screen")[0],E=v.find(".tp-seek-bar")[0],A=v.find(".tp-volume-bar")[0];void 0!=F&&m(F,"click",function(){1==i.paused?i.play():i.pause()}),void 0!=n&&m(n,"click",function(){0==i.muted?(i.muted=!0,n.innerHTML="Unmute"):(i.muted=!1,n.innerHTML="Mute")}),void 0!=l&&l&&m(l,"click",function(){i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen()}),void 0!=E&&(m(E,"change",function(){var o=i.duration*(E.value/100);i.currentTime=o}),m(E,"mousedown",function(){v.addClass("seekbardragged"),i.pause()}),m(E,"mouseup",function(){v.removeClass("seekbardragged"),i.play()})),m(i,"canplaythrough",function(){q.preLoadAudioDone(v,d,"canplaythrough")}),m(i,"canplay",function(){q.preLoadAudioDone(v,d,"canplay")}),m(i,"progress",function(){q.preLoadAudioDone(v,d,"progress")}),m(i,"timeupdate",function(){var e=100/i.duration*i.currentTime,o=y(v.data("videoendat")),r=i.currentTime;if(void 0!=E&&(E.value=e),0!=o&&-1!=o&&Math.abs(o-r)<=0.3&&o>r&&1!=v.data("nextslidecalled")){if(D){i.play();var u=y(v.data("videostartat"));-1!=u&&(i.currentTime=u)}else{1==v.data("nextslideatend")&&(v.data("nextslideatend-triggered",1),v.data("nextslidecalled",1),d.just_called_nextslide_at_htmltimer=!0,d.c.revnext(),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1000)),i.pause()}}}),void 0!=A&&m(A,"change",function(){i.volume=A.value}),m(i,"play",function(){v.data("nextslidecalled",0);var o=v.data("volume");o=void 0!=o&&"mute"!=o?parseFloat(o)/100:o,q.is_mobile()||(!0===d.globalmute?i.muted=!0:i.muted=!1,o>1&&(o/=100),"mute"==o?i.muted=!0:void 0!=o&&(i.volume=o)),v.addClass("videoisplaying");var e="html5"==G.audio?"audio":"video";c(v,d),p&&"audio"!=e?(d.videoplaying=!0,d.c.trigger("stoptimer"),d.c.trigger("revolution.slide.onvideoplay",g(i,"html5",G))):(d.videoplaying=!1,"audio"!=e&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",g(i,"html5",G))),punchgs.TweenLite.to(v.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(v.find(e),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var H=v.find(".tp-vid-play-pause")[0],u=v.find(".tp-vid-mute")[0];void 0!=H&&(H.innerHTML="Pause"),void 0!=u&&i.muted&&(u.innerHTML="Unmute"),q.toggleState(G.videotoggledby)}),m(i,"pause",function(o){var e="html5"==G.audio?"audio":"video";!h()&&v.find(".tp-videoposter").length>0&&"on"==v.data("showcoveronpause")&&!v.hasClass("seekbardragged")&&(punchgs.TweenLite.to(v.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(v.find(e),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),v.removeClass("videoisplaying"),d.videoplaying=!1,w(v,d),"audio"!=e&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",g(i,"html5",v.data()));var r=v.find(".tp-vid-play-pause")[0];void 0!=r&&(r.innerHTML="Play"),void 0!=d.currentLayerVideoIsPlaying&&d.currentLayerVideoIsPlaying.attr("id")!=v.attr("id")||q.unToggleState(G.videotoggledby)}),m(i,"ended",function(){z(),w(v,d),d.videoplaying=!1,w(v,d),"audio"!=B&&d.c.trigger("starttimer"),d.c.trigger("revolution.slide.onvideostop",g(i,"html5",v.data())),!0===v.data("nextslideatend")&&i.currentTime>0&&(1==!d.just_called_nextslide_at_htmltimer&&(v.data("nextslideatend-triggered",1),d.c.revnext(),d.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){d.just_called_nextslide_at_htmltimer=!1},1500)),v.removeClass("videoisplaying")})},c=function(d,a){void 0==a.playingvideos&&(a.playingvideos=new Array),d.data("stopallvideos")&&void 0!=a.playingvideos&&a.playingvideos.length>0&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(n,l){q.stopVideo(l,a)})),a.playingvideos.push(d),a.currentLayerVideoIsPlaying=d},w=function(d,a){void 0!=a.playingvideos&&jQuery.inArray(d,a.playingvideos)>=0&&a.playingvideos.splice(jQuery.inArray(d,a.playingvideos),1)}}(jQuery);