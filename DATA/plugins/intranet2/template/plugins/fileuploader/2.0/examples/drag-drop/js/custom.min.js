$(document).ready(function(){$('input[name="files"]').fileuploader({changeInput:'<div class="fileuploader-input"><div class="fileuploader-input-inner"><div class="fileuploader-main-icon"></div><h3 class="fileuploader-input-caption"><span>${captions.feedback}</span></h3><p>${captions.or}</p><div class="fileuploader-input-button"><span>${captions.button}</span></div></div></div>',theme:"dragdrop",upload:{url:"php/ajax_upload_file.php",data:null,type:"POST",enctype:"multipart/form-data",start:true,synchron:true,beforeSend:null,onSuccess:function(a,c){var d={};try{d=JSON.parse(a)}catch(f){d.hasWarnings=true}if(d.isSuccess&&d.files[0]){c.name=d.files[0].name;c.html.find(".column-title > div:first-child").text(d.files[0].name).attr("title",d.files[0].name)}if(d.hasWarnings){for(var b in d.warnings){alert(d.warnings)}c.html.removeClass("upload-successful").addClass("upload-failed");return this.onError?this.onError(c):null}c.html.find(".fileuploader-action-remove").addClass("fileuploader-action-success");setTimeout(function(){c.html.find(".progress-bar2").fadeOut(400)},400)},onError:function(a){var b=a.html.find(".progress-bar2");if(b.length){b.find("span").html(0+"%");b.find(".fileuploader-progressbar .bar").width(0+"%");a.html.find(".progress-bar2").fadeOut(400)}a.upload.status!="cancelled"&&a.html.find(".fileuploader-action-retry").length==0?a.html.find(".column-actions").prepend('<a class="fileuploader-action fileuploader-action-retry" title="Retry"><i></i></a>'):null},onProgress:function(b,a){var c=a.html.find(".progress-bar2");if(c.length>0){c.show();c.find("span").html(b.percentage+"%");c.find(".fileuploader-progressbar .bar").width(b.percentage+"%")}},onComplete:null},onRemove:function(a){$.post("./php/ajax_remove_file.php",{file:a.name})},captions:{feedback:"Drag and drop files here",feedback2:"Drag and drop files here",drop:"Drag and drop files here",or:"or",button:"Browse files"}})});