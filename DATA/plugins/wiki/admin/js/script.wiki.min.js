$wrapLimitRange={min:aceEditor.acewraplimit,max:aceEditor.acewraplimit};function aceboolean(param){if(param=="1"){return true}else{return false}}if($("#htmleditor").length){var htmlACE=ace.edit("htmleditor");htmlACE.setTheme("ace/theme/"+aceEditor.acetheme);htmlACE.session.setUseWrapMode(aceEditor.aceactivewrap);htmlACE.session.setWrapLimitRange($wrapLimitRange.min,$wrapLimitRange.max);htmlACE.setOptions({mode:"ace/mode/html_ruby",tabSize:aceEditor.acetabSize,useSoftTabs:true,indentedSoftWrap:false,highlightActiveLine:aceboolean(aceEditor.aceactiveline),showPrintMargin:false,fontSize:aceEditor.fontSize,showInvisibles:aceEditor.aceinvisible,showGutter:aceboolean(aceEditor.acegutter)});htmlACE.$blockScrolling=Infinity;texthtml=$("#envo_editor").val();htmlACE.session.setValue(texthtml)}if($("#csseditor").length){var cssACE=ace.edit("csseditor");cssACE.setTheme("ace/theme/chrome");cssACE.session.setMode("ace/mode/css");textcss=$("#envo_css").val();cssACE.session.setValue(textcss);cssACE.$blockScrolling=Infinity}if($("#javaeditor").length){var jsACE=ace.edit("javaeditor");jsACE.setTheme("ace/theme/chrome");jsACE.session.setMode("ace/mode/javascript");textjs=$("#envo_javascript").val();jsACE.session.setValue(textjs);jsACE.$blockScrolling=Infinity}function responsive_filemanager_callback(field_id){if(field_id=="csseditor"||field_id=="javaeditor"||field_id=="htmleditor"){var acefile=jQuery("#"+field_id).val();if(field_id=="csseditor"){cssACE.insert('<link rel="stylesheet" href="'+acefile+'" type="text/css" />')}else if(field_id=="javaeditor"){jsACE.insert('<script src="'+acefile+'"><\/script>')}else{htmlACE.insert(acefile)}}}$(function(){$("#addCssBlock").click(function(){cssACE.insert(insert_cssblock())});$("#addJavascriptBlock").click(function(){jsACE.insert(insert_javascript())});$("form").submit(function(){if($("#envo_editor").length){$("#envo_editor").val(htmlACE.getValue())}if($("#csseditor").length){$("#envo_css").val(cssACE.getValue())}if($("#javaeditor").length){$("#envo_javascript").val(jsACE.getValue())}});$("#envo_delete_all").click(function(){var checkedStatus=this.checked;if(checkedStatus){$("#button_delete").prop("disabled",false)}else{$("#button_delete").attr("disabled",true)}$(".highlight").each(function(){$(this).prop("checked",checkedStatus)})});$(".highlight").change(function(){if(this.checked){$("#button_delete").prop("disabled",false)}else{if($(".highlight").filter(":checked").length<1){$("#envo_delete_all").prop("checked",false);$("#button_delete").attr("disabled",true)}}})});$(function(){$("#envo_name").keyup(function(){$("#envo_varname").val(envoSlug($("#envo_name").val()))})});$(function(){$(".iconpicker").iconpicker({arrowClass:"btn-info",icon:iconPicker.icon,iconset:"fontawesome",searchText:iconPicker.searchText,labelFooter:iconPicker.labelFooter,arrowPrevIconClass:"fa fa-chevron-left",arrowNextIconClass:"fa fa-chevron-right",selectedClass:"btn-success",unselectedClass:"",rows:5,cols:8});$(".iconpicker").on("change",function(e){$("#envo_img").val("fa "+e.icon)});$(".iconpicker1").iconpicker({arrowClass:"btn-info",icon:iconPicker.icon,iconset:"glyphicons",searchText:iconPicker.searchText,labelFooter:iconPicker.labelFooter,arrowPrevIconClass:"fa fa-chevron-left",arrowNextIconClass:"fa fa-chevron-right",selectedClass:"btn-success",unselectedClass:"",rows:5,cols:8});$(".iconpicker1").on("change",function(e){$("#envo_img").val("glyphicons "+e.icon)})});$(function(){$(".sortable").nestedSortable({maxLevels:2});$(".save-menu-plugin").on("click",function(){mlist=$(this).data("menu");serialized=$("#"+mlist).nestedSortable("serialize");var request=$.ajax({url:"index.php?p=wiki&amp;sp=categories",type:"POST",data:serialized,dataType:"json",cache:false});request.done(function(data){if(data.status==1){$("#"+mlist+" li").animate({backgroundColor:"#C9FFC9"},100).animate({backgroundColor:"#F9F9F9"},1e3);$.notify({icon:"fa fa-check-square-o",message:data.html},{type:"success"})}else{$("#"+mlist+" li").animate({backgroundColor:"#FFC9C9"},100).animate({backgroundColor:"#F9F9F9"},1e3);$.notify({icon:"fa fa-exclamation-triangle",message:data.html},{type:"danger"})}})})});$(function(){if($("#wiki_table").length>0){$("#wiki_table").dataTable({language:{url:"//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Czech.json"},order:[],columnDefs:[{targets:"no-sort",orderable:false}],pageLength:dataTablesSettings.pageLenght,dom:"<'row'<'col-sm-6'<'pull-left m-b-20'f>><'col-sm-6'<'float-right m-r-20 hidden-xs'B>>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-7'i><'col-sm-5'p>>",initComplete:function(settings,json){$(this).wrap('<div class="table-responsive"></div>')}})}});$(function(){$("#datepickerTime").datetimepicker({locale:envoWeb.envo_lang,format:"YYYY-MM-DD HH:mm:ss",icons:$.AdminEnvo.DateTimepicker.icons(),tooltips:$.AdminEnvo.DateTimepicker.tooltips(),showTodayButton:true,showClear:true,calendarWeeks:true,ignoreReadonly:true}).on("dp.change",function(e){var date=$(this).data("date");$('input[name="envo_created"]').val(date)})});$(function(){function DeleteRow(){var par=$(this).closest("tr");par.remove()}$(".deleteRow1").bind("click",DeleteRow);$("#addRowTab1").click(function(e){e.preventDefault();var tabledata="";$.ajax({url:"/plugins/wiki/admin/ajax/wiki_literature.php",type:"POST",datatype:"json",beforeSend:function(){},success:function(data){var dataInt=parseInt(data.data);var max=0;var nextmax="1";$("#wiki_table_1 .rowid1").each(function(){$this=parseInt($(this).val());if($this>max)max=$this});nextmax=dataInt+1;console.log("Wiki Table 1");console.log("----------------");console.log("Data:"+dataInt);console.log("Max:"+max);console.log("NetMax:"+nextmax);if(dataInt==max){nextmax=dataInt+1}else{if(max==0){nextmax=dataInt+1}else{nextmax=max+1}}tabledata+='<tr class="row">'+'<td class="col-sm-1 text-center">'+nextmax+'<input type="hidden" name="envo_literature_0[]" class="rowid1" value="'+nextmax+'"/></td>'+'<td class="col-sm-10"><input type="text" name="envo_literature_1[]" class="form-control"></td>'+'<td class="col-sm-1 text-center"><button type="button" class="btn btn-danger btn-xs deleteRow1"><i class="fa fa-trash-o"></i></button></td>'+"</tr>";if($("#wiki_table_1 .nodata").length){$("#wiki_table_1 .nodata").remove()}$("#wiki_table_1 tbody").prepend(tabledata);$("#wiki_table_1 .deleteRow1").bind("click",DeleteRow)},error:function(){}})});$(".deleteRow2").bind("click",DeleteRow);$("#addRowTab2").click(function(e){e.preventDefault();var tabledata="";$.ajax({url:"/plugins/wiki/admin/ajax/wiki_link.php",type:"POST",datatype:"json",beforeSend:function(){},success:function(data){var dataInt=parseInt(data.data);var max=0;var nextmax="1";$("#wiki_table_2 .rowid2").each(function(){$this=parseInt($(this).val());if($this>max)max=$this});nextmax=dataInt+1;console.log("Wiki Table 2");console.log("----------------");console.log("Data:"+dataInt);console.log("Max:"+max);console.log("NetMax:"+nextmax);if(dataInt==max){nextmax=dataInt+1}else{if(max==0){nextmax=dataInt+1}else{nextmax=max+1}}tabledata+='<tr class="row">'+'<td class="col-sm-1 text-center">'+nextmax+'<input type="hidden" name="envo_links_0[]" class="rowid2" value="'+nextmax+'"/></td>'+'<td class="col-sm-10"><input type="text" name="envo_links_1[]" class="form-control"></td>'+'<td class="col-sm-1 text-center"><button type="button" class="btn btn-danger btn-xs deleteRow2"><i class="fa fa-trash-o"></i></button></td>'+"</tr>";if($("#wiki_table_2 .nodata").length){$("#wiki_table_2 .nodata").remove()}$("#wiki_table_2 tbody").prepend(tabledata);$("#wiki_table_2 .deleteRow2").bind("click",DeleteRow)},error:function(){}})})});